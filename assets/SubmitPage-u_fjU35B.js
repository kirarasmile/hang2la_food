import{g as l,O as d,C as p,G as o,J as r,K as n,N as s,S as _,ay as f,D as h,R as b,P as g}from"./index-C2Gp7NGW.js";import{R as S}from"./RestaurantForm-BTEcBryE.js";import{A as C}from"./ArrowBackOutline-DWBuWhVw.js";import{u as k,_ as w}from"./_plugin-vue_export-helper-CzhqH681.js";import{a as y}from"./index-Czy6U25M.js";import"./FormItem-4wSwW5g7.js";const B={class:"submit-page"},N={class:"page-header"},x={class:"content-wrapper"},R=l({__name:"SubmitPage",setup(v){const a=b(),t=k(),c=d();async function m(i){if(!c.user){t.error("请先登录"),a.push("/login");return}try{const{error:e}=await g.from("restaurants").insert({...i,created_by:c.user.id});if(e)throw e;t.success("美食录入成功！"),a.push("/")}catch(e){console.error("Submit error:",e),t.error("录入失败: "+e.message)}}function u(){a.back()}return(i,e)=>(h(),p("div",B,[o("header",N,[r(s(_),{quaternary:"",circle:"",onClick:u},{icon:n(()=>[r(s(y),null,{default:n(()=>[r(s(C))]),_:1})]),_:1}),e[0]||(e[0]=o("h1",{class:"page-title"},"录入美食",-1))]),o("div",x,[r(s(f),{bordered:!1,class:"form-card"},{default:n(()=>[r(S,{onSubmit:m,onCancel:u})]),_:1})])]))}}),D=w(R,[["__scopeId","data-v-a83798a4"]]);export{D as default};
