import{az as or,aA as ze,h as _,g as pe,a as q,aB as dt,f as we,a0 as ee,F as Ke,u as Fe,n as _e,aC as rn,m as Q,q as et,aD as nn,aE as on,y as an,c as $t,e as de,am as jt,a4 as ln,aF as be,ao as sn,ab as _t,an as un,a5 as Rt,ae as ir,aG as cn,k as ie,Y as le,x as ar,v as lr,aH as st,l as Ge,ap as dn,at as $e,aI as At,P as fn,aJ as Pt,ai as Ft,av as at,r as sr,t as Ut,w as ft,aK as hn,aL as ur,aM as cr,aN as dr,aO as fr,aP as gn,p as It,aQ as hr,a9 as Ht,aR as pn,a3 as gr,i as vn,aS as Wt,T as Ve,aT as mn,aU as bn,aV as wn,aW as yn,aX as xn,a8 as Cn,aY as Rn,Z as An,C as Je,D as Ee,G as me,R as pr,M as re,K as te,L as ge,J as vr,H as Sn,O as ot,X as Tt,N as mr,Q as kn,I as St,aZ as _n,S as Pn}from"./index-Lnmxdwpk.js";import{c as Un,u as In,a as br,T as Tn,C as On,b as Vt}from"./index-CAuOsVvP.js";import{c as Ln,a as gt,f as Xe,E as $n,u as zt,_ as wt,b as Ot,N as qt}from"./_plugin-vue_export-helper-mUcwMq6j.js";import{i as Fn,o as zn,S as Mn}from"./Scrollbar-Ct_OMrb9.js";import{N as Bn}from"./Tooltip-DJ447ztz.js";import{d as wr,A as En,N as Dn}from"./InputNumber-Ji2ePnAc.js";import{A as Nn}from"./index-DEV-fsYM.js";import{N as We,a as jn}from"./FormItem-D3sIKOQ6.js";import{A as Hn}from"./ArrowBackOutline-Cdh4YCW7.js";function Wn(n,v,b,l){for(var e=-1,t=n==null?0:n.length;++e<t;)b=v(b,n[e],e,n);return b}function Vn(n){return function(v){return n==null?void 0:n[v]}}var qn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Gn=Vn(qn),Zn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xn="\\u0300-\\u036f",Yn="\\ufe20-\\ufe2f",Qn="\\u20d0-\\u20ff",Kn=Xn+Yn+Qn,Jn="["+Kn+"]",eo=RegExp(Jn,"g");function to(n){return n=or(n),n&&n.replace(Zn,Gn).replace(eo,"")}var ro=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function no(n){return n.match(ro)||[]}var oo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function io(n){return oo.test(n)}var yr="\\ud800-\\udfff",ao="\\u0300-\\u036f",lo="\\ufe20-\\ufe2f",so="\\u20d0-\\u20ff",uo=ao+lo+so,xr="\\u2700-\\u27bf",Cr="a-z\\xdf-\\xf6\\xf8-\\xff",co="\\xac\\xb1\\xd7\\xf7",fo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ho="\\u2000-\\u206f",go=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rr="A-Z\\xc0-\\xd6\\xd8-\\xde",po="\\ufe0e\\ufe0f",Ar=co+fo+ho+go,Sr="['’]",Gt="["+Ar+"]",vo="["+uo+"]",kr="\\d+",mo="["+xr+"]",_r="["+Cr+"]",Pr="[^"+yr+Ar+kr+xr+Cr+Rr+"]",bo="\\ud83c[\\udffb-\\udfff]",wo="(?:"+vo+"|"+bo+")",yo="[^"+yr+"]",Ur="(?:\\ud83c[\\udde6-\\uddff]){2}",Ir="[\\ud800-\\udbff][\\udc00-\\udfff]",Ye="["+Rr+"]",xo="\\u200d",Zt="(?:"+_r+"|"+Pr+")",Co="(?:"+Ye+"|"+Pr+")",Xt="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",Yt="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",Tr=wo+"?",Or="["+po+"]?",Ro="(?:"+xo+"(?:"+[yo,Ur,Ir].join("|")+")"+Or+Tr+")*",Ao="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",So="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ko=Or+Tr+Ro,_o="(?:"+[mo,Ur,Ir].join("|")+")"+ko,Po=RegExp([Ye+"?"+_r+"+"+Xt+"(?="+[Gt,Ye,"$"].join("|")+")",Co+"+"+Yt+"(?="+[Gt,Ye+Zt,"$"].join("|")+")",Ye+"?"+Zt+"+"+Xt,Ye+"+"+Yt,So,Ao,kr,_o].join("|"),"g");function Uo(n){return n.match(Po)||[]}function Io(n,v,b){return n=or(n),v=v,v===void 0?io(n)?Uo(n):no(n):n.match(v)||[]}var To="['’]",Oo=RegExp(To,"g");function Lo(n){return function(v){return Wn(Io(to(v).replace(Oo,"")),n,"")}}var $o=Lo(function(n,v,b){return n+(b?"-":"")+v.toLowerCase()});const Fo=ze("attach",()=>_("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_("g",{fill:"currentColor","fill-rule":"nonzero"},_("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),zo=ze("cancel",()=>_("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_("g",{fill:"currentColor","fill-rule":"nonzero"},_("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Lr=ze("download",()=>_("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_("g",{fill:"currentColor","fill-rule":"nonzero"},_("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Mo=pe({name:"ResizeSmall",render(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},_("g",{fill:"none"},_("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Bo=ze("retry",()=>_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),_("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Eo=ze("rotateClockwise",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),_("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Do=ze("rotateClockwise",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),_("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),No=ze("trash",()=>_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),_("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),_("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),_("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),jo=ze("zoomIn",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),_("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Ho=ze("zoomOut",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),_("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Wo=q("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[dt("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[dt("no-title",`
 display: flex;
 align-items: center;
 `)]),we("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),ee("title-position-left",[we("line",[ee("left",{width:"28px"})])]),ee("title-position-right",[we("line",[ee("right",{width:"28px"})])]),ee("dashed",[we("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),ee("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),we("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),dt("dashed",[we("line",{backgroundColor:"var(--n-color)"})]),ee("dashed",[we("line",{borderColor:"var(--n-color)"})]),ee("vertical",{backgroundColor:"var(--n-color)"})]),Vo=Object.assign(Object.assign({},_e.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Qt=pe({name:"Divider",props:Vo,setup(n){const{mergedClsPrefixRef:v,inlineThemeDisabled:b}=Fe(n),l=_e("Divider","-divider",Wo,rn,n,v),e=Q(()=>{const{common:{cubicBezierEaseInOut:i},self:{color:s,textColor:g,fontWeight:m}}=l.value;return{"--n-bezier":i,"--n-color":s,"--n-text-color":g,"--n-font-weight":m}}),t=b?et("divider",void 0,e,n):void 0;return{mergedClsPrefix:v,cssVars:b?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var n;const{$slots:v,titlePlacement:b,vertical:l,dashed:e,cssVars:t,mergedClsPrefix:i}=this;return(n=this.onRender)===null||n===void 0||n.call(this),_("div",{role:"separator",class:[`${i}-divider`,this.themeClass,{[`${i}-divider--vertical`]:l,[`${i}-divider--no-title`]:!v.default,[`${i}-divider--dashed`]:e,[`${i}-divider--title-position-${b}`]:v.default&&b}],style:t},l?null:_("div",{class:`${i}-divider__line ${i}-divider__line--left`}),!l&&v.default?_(Ke,null,_("div",{class:`${i}-divider__title`},this.$slots),_("div",{class:`${i}-divider__line ${i}-divider__line--right`})):null)}});function qo(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const Go=nn({name:"Image",common:an,peers:{Tooltip:on},self:qo});function Zo(){return _("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"}))}function Xo(){return _("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"}))}function Yo(){return _("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}))}const Mt=Object.assign(Object.assign({},_e.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),$r=$t("n-image"),Qo=de([de("body >",[q("image-container","position: fixed;")]),q("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),q("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[jt()]),q("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[q("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),jt()]),q("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[ln()]),q("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),q("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[dt("preview-disabled",`
 cursor: pointer;
 `),de("img",`
 border-radius: inherit;
 `)])]),ut=32,Ko=Object.assign(Object.assign({},Mt),{src:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onNext:Function,onPrev:Function,onClose:[Function,Array]}),Fr=pe({name:"ImagePreview",props:Ko,setup(n){const{src:v}=cn(n),{mergedClsPrefixRef:b}=Fe(n),l=_e("Image","-image",Qo,Go,n,b);let e=null;const t=ie(null),i=ie(null),s=ie(!1),{localeRef:g}=Ln("Image"),m=ie(n.defaultShow),r=le(n,"show"),a=gt(r,m);function o(){const{value:E}=i;if(!e||!E)return;const{style:W}=E,j=e.getBoundingClientRect(),Z=j.left+j.width/2,K=j.top+j.height/2;W.transformOrigin=`${Z}px ${K}px`}function u(E){var W,j;switch(E.key){case" ":E.preventDefault();break;case"ArrowLeft":(W=n.onPrev)===null||W===void 0||W.call(n);break;case"ArrowRight":(j=n.onNext)===null||j===void 0||j.call(n);break;case"ArrowUp":E.preventDefault(),G();break;case"ArrowDown":E.preventDefault(),ae();break;case"Escape":oe();break}}function c(E){const{onUpdateShow:W,"onUpdate:show":j}=n;W&&$e(W,E),j&&$e(j,E),m.value=E,s.value=!0}ar(a,E=>{E?At("keydown",document,u):st("keydown",document,u)}),lr(()=>{st("keydown",document,u)});let w=0,S=0,y=0,L=0,$=0,P=0,I=0,x=0,F=!1;function h(E){const{clientX:W,clientY:j}=E;y=W-w,L=j-S,Un(X)}function d(E){const{mouseUpClientX:W,mouseUpClientY:j,mouseDownClientX:Z,mouseDownClientY:K}=E,J=Z-W,Y=K-j,ce=`vertical${Y>0?"Top":"Bottom"}`,ye=`horizontal${J>0?"Left":"Right"}`;return{moveVerticalDirection:ce,moveHorizontalDirection:ye,deltaHorizontal:J,deltaVertical:Y}}function A(E){const{value:W}=t;if(!W)return{offsetX:0,offsetY:0};const j=W.getBoundingClientRect(),{moveVerticalDirection:Z,moveHorizontalDirection:K,deltaHorizontal:J,deltaVertical:Y}=E||{};let ce=0,ye=0;return j.width<=window.innerWidth?ce=0:j.left>0?ce=(j.width-window.innerWidth)/2:j.right<window.innerWidth?ce=-(j.width-window.innerWidth)/2:K==="horizontalRight"?ce=Math.min((j.width-window.innerWidth)/2,$-(J??0)):ce=Math.max(-((j.width-window.innerWidth)/2),$-(J??0)),j.height<=window.innerHeight?ye=0:j.top>0?ye=(j.height-window.innerHeight)/2:j.bottom<window.innerHeight?ye=-(j.height-window.innerHeight)/2:Z==="verticalBottom"?ye=Math.min((j.height-window.innerHeight)/2,P-(Y??0)):ye=Math.max(-((j.height-window.innerHeight)/2),P-(Y??0)),{offsetX:ce,offsetY:ye}}function C(E){st("mousemove",document,h),st("mouseup",document,C);const{clientX:W,clientY:j}=E;F=!1;const Z=d({mouseUpClientX:W,mouseUpClientY:j,mouseDownClientX:I,mouseDownClientY:x}),K=A(Z);y=K.offsetX,L=K.offsetY,X()}const R=Ge($r,null);function U(E){var W,j;if((j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onMousedown)===null||j===void 0||j.call(W,E),E.button!==0)return;const{clientX:Z,clientY:K}=E;F=!0,w=Z-y,S=K-L,$=y,P=L,I=Z,x=K,X(),At("mousemove",document,h),At("mouseup",document,C)}const k=1.5;let T=0,p=1,f=0;function z(E){var W,j;(j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDblclick)===null||j===void 0||j.call(W,E);const Z=M();p=p===Z?1:Z,X()}function O(){p=1,T=0}function B(){var E;O(),f=0,(E=n.onPrev)===null||E===void 0||E.call(n)}function V(){var E;O(),f=0,(E=n.onNext)===null||E===void 0||E.call(n)}function N(){f-=90,X()}function H(){f+=90,X()}function D(){const{value:E}=t;if(!E)return 1;const{innerWidth:W,innerHeight:j}=window,Z=Math.max(1,E.naturalHeight/(j-ut)),K=Math.max(1,E.naturalWidth/(W-ut));return Math.max(3,Z*2,K*2)}function M(){const{value:E}=t;if(!E)return 1;const{innerWidth:W,innerHeight:j}=window,Z=E.naturalHeight/(j-ut),K=E.naturalWidth/(W-ut);return Z<1&&K<1?1:Math.max(Z,K)}function G(){const E=D();p<E&&(T+=1,p=Math.min(E,Math.pow(k,T)),X())}function ae(){if(p>.5){const E=p;T-=1,p=Math.max(.5,Math.pow(k,T));const W=E-p;X(!1);const j=A();p+=W,X(!1),p-=W,y=j.offsetX,L=j.offsetY,X()}}function ne(){const E=v.value;E&&wr(E,void 0)}function X(E=!0){var W;const{value:j}=t;if(!j)return;const{style:Z}=j,K=fn((W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.style);let J="";if(typeof K=="string")J=`${K};`;else for(const ce in K)J+=`${$o(ce)}: ${K[ce]};`;const Y=`transform-origin: center; transform: translateX(${y}px) translateY(${L}px) rotate(${f}deg) scale(${p});`;F?Z.cssText=`${J}cursor: grabbing; transition: none;${Y}`:Z.cssText=`${J}cursor: grab;${Y}${E?"":"transition: none;"}`,E||j.offsetHeight}function oe(){if(a.value){const{onClose:E}=n;E&&$e(E),c(!1),m.value=!1}}function fe(){p=M(),T=Math.ceil(Math.log(p)/Math.log(k)),y=0,L=0,X()}const ve={setThumbnailEl:E=>{e=E}};function Oe(E,W){if(n.showToolbarTooltip){const{value:j}=l;return _(Bn,{to:!1,theme:j.peers.Tooltip,themeOverrides:j.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>g.value[W],trigger:()=>E})}else return E}const Se=Q(()=>{const{common:{cubicBezierEaseInOut:E},self:{toolbarIconColor:W,toolbarBorderRadius:j,toolbarBoxShadow:Z,toolbarColor:K}}=l.value;return{"--n-bezier":E,"--n-toolbar-icon-color":W,"--n-toolbar-color":K,"--n-toolbar-border-radius":j,"--n-toolbar-box-shadow":Z}}),{inlineThemeDisabled:ue}=Fe(),he=ue?et("image-preview",void 0,Se,n):void 0;function se(E){E.preventDefault()}return Object.assign({clsPrefix:b,previewRef:t,previewWrapperRef:i,previewSrc:v,mergedShow:a,appear:dn(),displayed:s,previewedImgProps:R==null?void 0:R.previewedImgPropsRef,handleWheel:se,handlePreviewMousedown:U,handlePreviewDblclick:z,syncTransformOrigin:o,handleAfterLeave:()=>{O(),f=0,s.value=!1},handleDragStart:E=>{var W,j;(j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDragstart)===null||j===void 0||j.call(W,E),E.preventDefault()},zoomIn:G,zoomOut:ae,handleDownloadClick:ne,rotateCounterclockwise:N,rotateClockwise:H,handleSwitchPrev:B,handleSwitchNext:V,withTooltip:Oe,resizeToOrignalImageSize:fe,cssVars:ue?void 0:Se,themeClass:he==null?void 0:he.themeClass,onRender:he==null?void 0:he.onRender,doUpdateShow:c,close:oe},ve)},render(){var n,v;const{clsPrefix:b,renderToolbar:l,withTooltip:e}=this,t=e(_(be,{clsPrefix:b,onClick:this.handleSwitchPrev},{default:Zo}),"tipPrevious"),i=e(_(be,{clsPrefix:b,onClick:this.handleSwitchNext},{default:Xo}),"tipNext"),s=e(_(be,{clsPrefix:b,onClick:this.rotateCounterclockwise},{default:()=>_(Do,null)}),"tipCounterclockwise"),g=e(_(be,{clsPrefix:b,onClick:this.rotateClockwise},{default:()=>_(Eo,null)}),"tipClockwise"),m=e(_(be,{clsPrefix:b,onClick:this.resizeToOrignalImageSize},{default:()=>_(Mo,null)}),"tipOriginalSize"),r=e(_(be,{clsPrefix:b,onClick:this.zoomOut},{default:()=>_(Ho,null)}),"tipZoomOut"),a=e(_(be,{clsPrefix:b,onClick:this.handleDownloadClick},{default:()=>_(Lr,null)}),"tipDownload"),o=e(_(be,{clsPrefix:b,onClick:()=>this.close()},{default:Yo}),"tipClose"),u=e(_(be,{clsPrefix:b,onClick:this.zoomIn},{default:()=>_(jo,null)}),"tipZoomIn");return _(Ke,null,(v=(n=this.$slots).default)===null||v===void 0?void 0:v.call(n),_(sn,{show:this.mergedShow},{default:()=>{var c;return this.mergedShow||this.displayed?((c=this.onRender)===null||c===void 0||c.call(this),_t(_("div",{ref:"containerRef",class:[`${b}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},_(Rt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?_("div",{class:`${b}-image-preview-overlay`,onClick:()=>this.close()}):null}),this.showToolbar?_(Rt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?_("div",{class:`${b}-image-preview-toolbar`},l?l({nodes:{prev:t,next:i,rotateCounterclockwise:s,rotateClockwise:g,resizeToOriginalSize:m,zoomOut:r,zoomIn:u,download:a,close:o}}):_(Ke,null,this.onPrev?_(Ke,null,t,i):null,s,g,m,r,u,a,o)):null}):null,_(Rt,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:w={}}=this;return _t(_("div",{class:`${b}-image-preview-wrapper`,ref:"previewWrapperRef"},_("img",Object.assign({},w,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${b}-image-preview`,w.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[ir,this.mergedShow]])}})),[[un,{enabled:this.mergedShow}]])):null}}))}}),zr=$t("n-image-group"),Jo=Object.assign(Object.assign({},Mt),{srcList:Array,current:Number,defaultCurrent:{type:Number,default:0},show:{type:Boolean,default:void 0},defaultShow:Boolean,onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],onUpdateCurrent:[Function,Array],"onUpdate:current":[Function,Array]}),ei=pe({name:"ImageGroup",props:Jo,setup(n){const{mergedClsPrefixRef:v}=Fe(n),b=`c${Pt()}`,l=ie(null),e=ie(n.defaultShow),t=le(n,"show"),i=gt(t,e),s=ie(new Map),g=Q(()=>{if(n.srcList){const h=new Map;return n.srcList.forEach((d,A)=>{h.set(`p${A}`,d)}),h}return s.value}),m=Q(()=>Array.from(g.value.keys())),r=()=>m.value.length;function a(h,d){n.srcList&&at("image-group","`n-image` can't be placed inside `n-image-group` when image group's `src-list` prop is set.");const A=`r${h}`;return s.value.has(`r${A}`)||s.value.set(A,d),function(){s.value.has(A)||s.value.delete(A)}}const o=ie(n.defaultCurrent),u=le(n,"current"),c=gt(u,o),w=h=>{if(h!==c.value){const{onUpdateCurrent:d,"onUpdate:current":A}=n;d&&$e(d,h),A&&$e(A,h),o.value=h}},S=Q(()=>m.value[c.value]),y=h=>{const d=m.value.indexOf(h);d!==c.value&&w(d)},L=Q(()=>g.value.get(S.value));function $(h){const{onUpdateShow:d,"onUpdate:show":A}=n;d&&$e(d,h),A&&$e(A,h),e.value=h}function P(){$(!1)}const I=Q(()=>{const h=(A,C)=>{for(let R=A;R<=C;R++){const U=m.value[R];if(g.value.get(U))return R}},d=h(c.value+1,r()-1);return d===void 0?h(0,c.value-1):d}),x=Q(()=>{const h=(A,C)=>{for(let R=A;R>=C;R--){const U=m.value[R];if(g.value.get(U))return R}},d=h(c.value-1,0);return d===void 0?h(r()-1,c.value+1):d});function F(h){var d,A;h===1?(x.value!==void 0&&w(I.value),(d=n.onPreviewNext)===null||d===void 0||d.call(n)):(I.value!==void 0&&w(x.value),(A=n.onPreviewPrev)===null||A===void 0||A.call(n))}return Ft(zr,{mergedClsPrefixRef:v,registerImageUrl:a,setThumbnailEl:h=>{var d;(d=l.value)===null||d===void 0||d.setThumbnailEl(h)},toggleShow:h=>{$(!0),y(h)},groupId:b,renderToolbarRef:le(n,"renderToolbar")}),{mergedClsPrefix:v,previewInstRef:l,mergedShow:i,src:L,onClose:P,next:()=>{F(1)},prev:()=>{F(-1)}}},render(){return _(Fr,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,src:this.src,show:this.mergedShow,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,onClose:this.onClose},this.$slots)}}),ti=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Mt);let ri=0;const ni=pe({name:"Image",props:ti,slots:Object,inheritAttrs:!1,setup(n){const v=ie(null),b=ie(!1),l=ie(null),e=Ge(zr,null),{mergedClsPrefixRef:t}=e||Fe(n),i=Q(()=>n.previewSrc||n.src),s=ie(!1),g=ri++,m=()=>{if(n.previewDisabled||b.value)return;if(e){e.setThumbnailEl(v.value),e.toggleShow(`r${g}`);return}const{value:w}=l;w&&(w.setThumbnailEl(v.value),s.value=!0)},r={click:()=>{m()},showPreview:m},a=ie(!n.lazy);Ut(()=>{var w;(w=v.value)===null||w===void 0||w.setAttribute("data-group-id",(e==null?void 0:e.groupId)||"")}),Ut(()=>{if(n.lazy&&n.intersectionObserverOptions){let w;const S=ft(()=>{w==null||w(),w=void 0,w=zn(v.value,n.intersectionObserverOptions,a)});lr(()=>{S(),w==null||w()})}}),ft(()=>{var w;n.src||((w=n.imgProps)===null||w===void 0||w.src),b.value=!1}),ft(w=>{var S;const y=(S=e==null?void 0:e.registerImageUrl)===null||S===void 0?void 0:S.call(e,g,i.value||"");w(()=>{y==null||y()})});function o(w){var S,y;r.showPreview(),(y=(S=n.imgProps)===null||S===void 0?void 0:S.onClick)===null||y===void 0||y.call(S,w)}function u(){s.value=!1}const c=ie(!1);return Ft($r,{previewedImgPropsRef:le(n,"previewedImgProps")}),Object.assign({mergedClsPrefix:t,groupId:e==null?void 0:e.groupId,previewInstRef:l,imageRef:v,mergedPreviewSrc:i,showError:b,shouldStartLoading:a,loaded:c,mergedOnClick:w=>{o(w)},onPreviewClose:u,mergedOnError:w=>{if(!a.value)return;b.value=!0;const{onError:S,imgProps:{onError:y}={}}=n;S==null||S(w),y==null||y(w)},mergedOnLoad:w=>{const{onLoad:S,imgProps:{onLoad:y}={}}=n;S==null||S(w),y==null||y(w),c.value=!0},previewShow:s},r)},render(){var n,v;const{mergedClsPrefix:b,imgProps:l={},loaded:e,$attrs:t,lazy:i}=this,s=sr(this.$slots.error,()=>[]),g=(v=(n=this.$slots).placeholder)===null||v===void 0?void 0:v.call(n),m=this.src||l.src,r=this.showError&&s.length?s:_("img",Object.assign(Object.assign({},l),{ref:"imageRef",width:this.width||l.width,height:this.height||l.height,src:this.showError?this.fallbackSrc:i&&this.intersectionObserverOptions?this.shouldStartLoading?m:void 0:m,alt:this.alt||l.alt,"aria-label":this.alt||l.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Fn&&i&&!this.intersectionObserverOptions?"lazy":"eager",style:[l.style||"",g&&!e?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return _("div",Object.assign({},t,{role:"none",class:[t.class,`${b}-image`,(this.previewDisabled||this.showError)&&`${b}-image--preview-disabled`]}),this.groupId?r:_(Fr,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,src:this.mergedPreviewSrc,show:!this.previewDisabled&&this.previewShow,onClose:this.onPreviewClose},{default:()=>r}),!e&&g)}}),oi={success:_(fr,null),error:_(dr,null),warning:_(cr,null),info:_(ur,null)},ii=pe({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(n,{slots:v}){const b=Q(()=>{const t="gradient",{fillColor:i}=n;return typeof i=="object"?`${t}-${hn(JSON.stringify(i))}`:t});function l(t,i,s,g){const{gapDegree:m,viewBoxWidth:r,strokeWidth:a}=n,o=50,u=0,c=o,w=0,S=2*o,y=50+a/2,L=`M ${y},${y} m ${u},${c}
      a ${o},${o} 0 1 1 ${w},${-S}
      a ${o},${o} 0 1 1 ${-w},${S}`,$=Math.PI*2*o,P={stroke:g==="rail"?s:typeof n.fillColor=="object"?`url(#${b.value})`:s,strokeDasharray:`${Math.min(t,100)/100*($-m)}px ${r*8}px`,strokeDashoffset:`-${m/2}px`,transformOrigin:i?"center":void 0,transform:i?`rotate(${i}deg)`:void 0};return{pathString:L,pathStyle:P}}const e=()=>{const t=typeof n.fillColor=="object",i=t?n.fillColor.stops[0]:"",s=t?n.fillColor.stops[1]:"";return t&&_("defs",null,_("linearGradient",{id:b.value,x1:"0%",y1:"100%",x2:"100%",y2:"0%"},_("stop",{offset:"0%","stop-color":i}),_("stop",{offset:"100%","stop-color":s})))};return()=>{const{fillColor:t,railColor:i,strokeWidth:s,offsetDegree:g,status:m,percentage:r,showIndicator:a,indicatorTextColor:o,unit:u,gapOffsetDegree:c,clsPrefix:w}=n,{pathString:S,pathStyle:y}=l(100,0,i,"rail"),{pathString:L,pathStyle:$}=l(r,g,t,"fill"),P=100+s;return _("div",{class:`${w}-progress-content`,role:"none"},_("div",{class:`${w}-progress-graph`,"aria-hidden":!0},_("div",{class:`${w}-progress-graph-circle`,style:{transform:c?`rotate(${c}deg)`:void 0}},_("svg",{viewBox:`0 0 ${P} ${P}`},e(),_("g",null,_("path",{class:`${w}-progress-graph-circle-rail`,d:S,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:y})),_("g",null,_("path",{class:[`${w}-progress-graph-circle-fill`,r===0&&`${w}-progress-graph-circle-fill--empty`],d:L,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:$}))))),a?_("div",null,v.default?_("div",{class:`${w}-progress-custom-content`,role:"none"},v.default()):m!=="default"?_("div",{class:`${w}-progress-icon`,"aria-hidden":!0},_(be,{clsPrefix:w},{default:()=>oi[m]})):_("div",{class:`${w}-progress-text`,style:{color:o},role:"none"},_("span",{class:`${w}-progress-text__percentage`},r),_("span",{class:`${w}-progress-text__unit`},u))):null)}}}),ai={success:_(fr,null),error:_(dr,null),warning:_(cr,null),info:_(ur,null)},li=pe({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(n,{slots:v}){const b=Q(()=>Xe(n.height)),l=Q(()=>{var i,s;return typeof n.fillColor=="object"?`linear-gradient(to right, ${(i=n.fillColor)===null||i===void 0?void 0:i.stops[0]} , ${(s=n.fillColor)===null||s===void 0?void 0:s.stops[1]})`:n.fillColor}),e=Q(()=>n.railBorderRadius!==void 0?Xe(n.railBorderRadius):n.height!==void 0?Xe(n.height,{c:.5}):""),t=Q(()=>n.fillBorderRadius!==void 0?Xe(n.fillBorderRadius):n.railBorderRadius!==void 0?Xe(n.railBorderRadius):n.height!==void 0?Xe(n.height,{c:.5}):"");return()=>{const{indicatorPlacement:i,railColor:s,railStyle:g,percentage:m,unit:r,indicatorTextColor:a,status:o,showIndicator:u,processing:c,clsPrefix:w}=n;return _("div",{class:`${w}-progress-content`,role:"none"},_("div",{class:`${w}-progress-graph`,"aria-hidden":!0},_("div",{class:[`${w}-progress-graph-line`,{[`${w}-progress-graph-line--indicator-${i}`]:!0}]},_("div",{class:`${w}-progress-graph-line-rail`,style:[{backgroundColor:s,height:b.value,borderRadius:e.value},g]},_("div",{class:[`${w}-progress-graph-line-fill`,c&&`${w}-progress-graph-line-fill--processing`],style:{maxWidth:`${n.percentage}%`,background:l.value,height:b.value,lineHeight:b.value,borderRadius:t.value}},i==="inside"?_("div",{class:`${w}-progress-graph-line-indicator`,style:{color:a}},v.default?v.default():`${m}${r}`):null)))),u&&i==="outside"?_("div",null,v.default?_("div",{class:`${w}-progress-custom-content`,style:{color:a},role:"none"},v.default()):o==="default"?_("div",{role:"none",class:`${w}-progress-icon ${w}-progress-icon--as-text`,style:{color:a}},m,r):_("div",{class:`${w}-progress-icon`,"aria-hidden":!0},_(be,{clsPrefix:w},{default:()=>ai[o]}))):null)}}});function Kt(n,v,b=100){return`m ${b/2} ${b/2-n} a ${n} ${n} 0 1 1 0 ${2*n} a ${n} ${n} 0 1 1 0 -${2*n}`}const si=pe({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(n,{slots:v}){const b=Q(()=>n.percentage.map((t,i)=>`${Math.PI*t/100*(n.viewBoxWidth/2-n.strokeWidth/2*(1+2*i)-n.circleGap*i)*2}, ${n.viewBoxWidth*8}`)),l=(e,t)=>{const i=n.fillColor[t],s=typeof i=="object"?i.stops[0]:"",g=typeof i=="object"?i.stops[1]:"";return typeof n.fillColor[t]=="object"&&_("linearGradient",{id:`gradient-${t}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},_("stop",{offset:"0%","stop-color":s}),_("stop",{offset:"100%","stop-color":g}))};return()=>{const{viewBoxWidth:e,strokeWidth:t,circleGap:i,showIndicator:s,fillColor:g,railColor:m,railStyle:r,percentage:a,clsPrefix:o}=n;return _("div",{class:`${o}-progress-content`,role:"none"},_("div",{class:`${o}-progress-graph`,"aria-hidden":!0},_("div",{class:`${o}-progress-graph-circle`},_("svg",{viewBox:`0 0 ${e} ${e}`},_("defs",null,a.map((u,c)=>l(u,c))),a.map((u,c)=>_("g",{key:c},_("path",{class:`${o}-progress-graph-circle-rail`,d:Kt(e/2-t/2*(1+2*c)-i*c,t,e),"stroke-width":t,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:m[c]},r[c]]}),_("path",{class:[`${o}-progress-graph-circle-fill`,u===0&&`${o}-progress-graph-circle-fill--empty`],d:Kt(e/2-t/2*(1+2*c)-i*c,t,e),"stroke-width":t,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:b.value[c],strokeDashoffset:0,stroke:typeof g[c]=="object"?`url(#gradient-${c})`:g[c]}})))))),s&&v.default?_("div",null,_("div",{class:`${o}-progress-text`},v.default())):null)}}}),ui=de([q("progress",{display:"inline-block"},[q("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),ee("line",`
 width: 100%;
 display: block;
 `,[q("progress-content",`
 display: flex;
 align-items: center;
 `,[q("progress-graph",{flex:1})]),q("progress-custom-content",{marginLeft:"14px"}),q("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[ee("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),ee("circle, dashboard",{width:"120px"},[q("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),q("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),q("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),ee("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[q("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),q("progress-content",{position:"relative"}),q("progress-graph",{position:"relative"},[q("progress-graph-circle",[de("svg",{verticalAlign:"bottom"}),q("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[ee("empty",{opacity:0})]),q("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),q("progress-graph-line",[ee("indicator-inside",[q("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[q("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),q("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),ee("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[q("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),q("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),q("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[q("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[ee("processing",[de("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),de("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),ci=Object.assign(Object.assign({},_e.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),di=pe({name:"Progress",props:ci,setup(n){const v=Q(()=>n.indicatorPlacement||n.indicatorPosition),b=Q(()=>{if(n.gapDegree||n.gapDegree===0)return n.gapDegree;if(n.type==="dashboard")return 75}),{mergedClsPrefixRef:l,inlineThemeDisabled:e}=Fe(n),t=_e("Progress","-progress",ui,gn,n,l),i=Q(()=>{const{status:g}=n,{common:{cubicBezierEaseInOut:m},self:{fontSize:r,fontSizeCircle:a,railColor:o,railHeight:u,iconSizeCircle:c,iconSizeLine:w,textColorCircle:S,textColorLineInner:y,textColorLineOuter:L,lineBgProcessing:$,fontWeightCircle:P,[It("iconColor",g)]:I,[It("fillColor",g)]:x}}=t.value;return{"--n-bezier":m,"--n-fill-color":x,"--n-font-size":r,"--n-font-size-circle":a,"--n-font-weight-circle":P,"--n-icon-color":I,"--n-icon-size-circle":c,"--n-icon-size-line":w,"--n-line-bg-processing":$,"--n-rail-color":o,"--n-rail-height":u,"--n-text-color-circle":S,"--n-text-color-line-inner":y,"--n-text-color-line-outer":L}}),s=e?et("progress",Q(()=>n.status[0]),i,n):void 0;return{mergedClsPrefix:l,mergedIndicatorPlacement:v,gapDeg:b,cssVars:e?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{type:n,cssVars:v,indicatorTextColor:b,showIndicator:l,status:e,railColor:t,railStyle:i,color:s,percentage:g,viewBoxWidth:m,strokeWidth:r,mergedIndicatorPlacement:a,unit:o,borderRadius:u,fillBorderRadius:c,height:w,processing:S,circleGap:y,mergedClsPrefix:L,gapDeg:$,gapOffsetDegree:P,themeClass:I,$slots:x,onRender:F}=this;return F==null||F(),_("div",{class:[I,`${L}-progress`,`${L}-progress--${n}`,`${L}-progress--${e}`],style:v,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":g,role:n==="circle"||n==="line"||n==="dashboard"?"progressbar":"none"},n==="circle"||n==="dashboard"?_(ii,{clsPrefix:L,status:e,showIndicator:l,indicatorTextColor:b,railColor:t,fillColor:s,railStyle:i,offsetDegree:this.offsetDegree,percentage:g,viewBoxWidth:m,strokeWidth:r,gapDegree:$===void 0?n==="dashboard"?75:0:$,gapOffsetDegree:P,unit:o},x):n==="line"?_(li,{clsPrefix:L,status:e,showIndicator:l,indicatorTextColor:b,railColor:t,fillColor:s,railStyle:i,percentage:g,processing:S,indicatorPlacement:a,unit:o,fillBorderRadius:c,railBorderRadius:u,height:w},x):n==="multiple-circle"?_(si,{clsPrefix:L,strokeWidth:r,railColor:t,fillColor:s,railStyle:i,viewBoxWidth:m,percentage:g,showIndicator:l,circleGap:y},x):null)}}),fi=q("p",`
 box-sizing: border-box;
 transition: color .3s var(--n-bezier);
 margin: var(--n-margin);
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 color: var(--n-text-color);
`,[de("&:first-child","margin-top: 0;"),de("&:last-child","margin-bottom: 0;")]),hi=Object.assign(Object.assign({},_e.props),{depth:[String,Number]}),gi=pe({name:"P",props:hi,setup(n){const{mergedClsPrefixRef:v,inlineThemeDisabled:b}=Fe(n),l=_e("Typography","-p",fi,hr,n,v),e=Q(()=>{const{depth:i}=n,s=i||"1",{common:{cubicBezierEaseInOut:g},self:{pFontSize:m,pLineHeight:r,pMargin:a,pTextColor:o,[`pTextColor${s}Depth`]:u}}=l.value;return{"--n-bezier":g,"--n-font-size":m,"--n-line-height":r,"--n-margin":a,"--n-text-color":i===void 0?o:u}}),t=b?et("p",Q(()=>`${n.depth||""}`),e,n):void 0;return{mergedClsPrefix:v,cssVars:b?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var n;return(n=this.onRender)===null||n===void 0||n.call(this),_("p",{class:[`${this.mergedClsPrefix}-p`,this.themeClass],style:this.cssVars},this.$slots)}}),pi=q("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[ee("strong",`
 font-weight: var(--n-font-weight-strong);
 `),ee("italic",{fontStyle:"italic"}),ee("underline",{textDecoration:"underline"}),ee("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),vi=Object.assign(Object.assign({},_e.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),mi=pe({name:"Text",props:vi,setup(n){const{mergedClsPrefixRef:v,inlineThemeDisabled:b}=Fe(n),l=_e("Typography","-text",pi,hr,n,v),e=Q(()=>{const{depth:i,type:s}=n,g=s==="default"?i===void 0?"textColor":`textColor${i}Depth`:It("textColor",s),{common:{fontWeightStrong:m,fontFamilyMono:r,cubicBezierEaseInOut:a},self:{codeTextColor:o,codeBorderRadius:u,codeColor:c,codeBorder:w,[g]:S}}=l.value;return{"--n-bezier":a,"--n-text-color":S,"--n-font-weight-strong":m,"--n-font-famliy-mono":r,"--n-code-border-radius":u,"--n-code-text-color":o,"--n-code-color":c,"--n-code-border":w}}),t=b?et("text",Q(()=>`${n.type[0]}${n.depth||""}`),e,n):void 0;return{mergedClsPrefix:v,compitableTag:In(n,["as","tag"]),cssVars:b?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var n,v,b;const{mergedClsPrefix:l}=this;(n=this.onRender)===null||n===void 0||n.call(this);const e=[`${l}-text`,this.themeClass,{[`${l}-text--code`]:this.code,[`${l}-text--delete`]:this.delete,[`${l}-text--strong`]:this.strong,[`${l}-text--italic`]:this.italic,[`${l}-text--underline`]:this.underline}],t=(b=(v=this.$slots).default)===null||b===void 0?void 0:b.call(v);return this.code?_("code",{class:e,style:this.cssVars},this.delete?_("del",null,t):t):this.delete?_("del",{class:e,style:this.cssVars},t):_(this.compitableTag||"span",{class:e,style:this.cssVars},t)}}),tt=$t("n-upload"),bi=de([q("upload","width: 100%;",[ee("dragger-inside",[q("upload-trigger",`
 display: block;
 `)]),ee("drag-over",[q("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),q("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[de("&:hover",`
 border: var(--n-dragger-border-hover);
 `),ee("disabled",`
 cursor: not-allowed;
 `)]),q("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[de("+",[q("upload-file-list","margin-top: 8px;")]),ee("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),ee("image-card",`
 width: 96px;
 height: 96px;
 `,[q("base-icon",`
 font-size: 24px;
 `),q("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),q("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[de("a, img","outline: none;"),ee("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[q("upload-file","cursor: not-allowed;")]),ee("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),q("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ht(),q("progress",[Ht({foldPadding:!0})]),de("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[q("upload-file-info",[we("action",`
 opacity: 1;
 `)])]),ee("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[q("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[q("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),we("name",`
 padding: 0 8px;
 `),we("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[de("img",`
 width: 100%;
 `)])])]),ee("text-type",[q("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),ee("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[q("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),q("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[we("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[de("img",`
 width: 100%;
 `)])]),de("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),de("&:hover",[de("&::before","opacity: 1;"),q("upload-file-info",[we("thumbnail","opacity: .12;")])])]),ee("error-status",[de("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),q("upload-file-info",[we("name","color: var(--n-item-text-color-error);"),we("thumbnail","color: var(--n-item-text-color-error);")]),ee("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),ee("with-url",`
 cursor: pointer;
 `,[q("upload-file-info",[we("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[de("a",`
 text-decoration: underline;
 `)])])]),q("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[we("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[q("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),we("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[q("button",[de("&:not(:last-child)",{marginRight:"4px"}),q("base-icon",[de("svg",[pn()])])]),ee("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),ee("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),we("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[de("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),q("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),Mr="__UPLOAD_DRAGGER__",Br=pe({name:"UploadDragger",[Mr]:!0,setup(n,{slots:v}){const b=Ge(tt,null);return b||at("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:l},mergedDisabledRef:{value:e},maxReachedRef:{value:t}}=b;return _("div",{class:[`${l}-upload-dragger`,(e||t)&&`${l}-upload-dragger--disabled`]},v)}}});function wi(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},_("g",{fill:"none"},_("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"})))}function yi(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},_("g",{fill:"none"},_("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})))}const xi=pe({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Ge(tt).mergedThemeRef}},render(){return _(gr,null,{default:()=>this.show?_(di,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var Lt=function(n,v,b,l){function e(t){return t instanceof b?t:new b(function(i){i(t)})}return new(b||(b=Promise))(function(t,i){function s(r){try{m(l.next(r))}catch(a){i(a)}}function g(r){try{m(l.throw(r))}catch(a){i(a)}}function m(r){r.done?t(r.value):e(r.value).then(s,g)}m((l=l.apply(n,v||[])).next())})};function Er(n){return n.includes("image/")}function Jt(n=""){const v=n.split("/"),l=v[v.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(l)||[""])[0]}const er=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Dr=n=>{if(n.type)return Er(n.type);const v=Jt(n.name||"");if(er.test(v))return!0;const b=n.thumbnailUrl||n.url||"",l=Jt(b);return!!(/^data:image\//.test(b)||er.test(l))};function Ci(n){return Lt(this,void 0,void 0,function*(){return yield new Promise(v=>{if(!n.type||!Er(n.type)){v("");return}v(window.URL.createObjectURL(n))})})}const Ri=vn&&window.FileReader&&window.File;function Ai(n){return n.isDirectory}function Si(n){return n.isFile}function ki(n,v){return Lt(this,void 0,void 0,function*(){const b=[];function l(e){return Lt(this,void 0,void 0,function*(){for(const t of e)if(t){if(v&&Ai(t)){const i=t.createReader();let s=[],g;try{do g=yield new Promise((m,r)=>{i.readEntries(m,r)}),s=s.concat(g);while(g.length>0)}catch(m){Wt("upload","error happens when handling directory upload",m)}yield l(s)}else if(Si(t))try{const i=yield new Promise((s,g)=>{t.file(s,g)});b.push({file:i,entry:t,source:"dnd"})}catch(i){Wt("upload","error happens when handling file upload",i)}}})}return yield l(n),b})}function it(n){const{id:v,name:b,percentage:l,status:e,url:t,file:i,thumbnailUrl:s,type:g,fullPath:m,batchId:r}=n;return{id:v,name:b,percentage:l??null,status:e,url:t??null,file:i??null,thumbnailUrl:s??null,type:g??null,fullPath:m??null,batchId:r??null}}function _i(n,v,b){return n=n.toLowerCase(),v=v.toLocaleLowerCase(),b=b.toLocaleLowerCase(),b.split(",").map(e=>e.trim()).filter(Boolean).some(e=>{if(e.startsWith(".")){if(n.endsWith(e))return!0}else if(e.includes("/")){const[t,i]=v.split("/"),[s,g]=e.split("/");if((s==="*"||t&&s&&s===t)&&(g==="*"||i&&g&&g===i))return!0}else return!0;return!1})}var tr=function(n,v,b,l){function e(t){return t instanceof b?t:new b(function(i){i(t)})}return new(b||(b=Promise))(function(t,i){function s(r){try{m(l.next(r))}catch(a){i(a)}}function g(r){try{m(l.throw(r))}catch(a){i(a)}}function m(r){r.done?t(r.value):e(r.value).then(s,g)}m((l=l.apply(n,v||[])).next())})};const ct={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Pi=pe({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(n){const v=Ge(tt),b=ie(null),l=ie(""),e=Q(()=>{const{file:I}=n;return I.status==="finished"?"success":I.status==="error"?"error":"info"}),t=Q(()=>{const{file:I}=n;if(I.status==="error")return"error"}),i=Q(()=>{const{file:I}=n;return I.status==="uploading"}),s=Q(()=>{if(!v.showCancelButtonRef.value)return!1;const{file:I}=n;return["uploading","pending","error"].includes(I.status)}),g=Q(()=>{if(!v.showRemoveButtonRef.value)return!1;const{file:I}=n;return["finished"].includes(I.status)}),m=Q(()=>{if(!v.showDownloadButtonRef.value)return!1;const{file:I}=n;return["finished"].includes(I.status)}),r=Q(()=>{if(!v.showRetryButtonRef.value)return!1;const{file:I}=n;return["error"].includes(I.status)}),a=bn(()=>l.value||n.file.thumbnailUrl||n.file.url),o=Q(()=>{if(!v.showPreviewButtonRef.value)return!1;const{file:{status:I},listType:x}=n;return["finished"].includes(I)&&a.value&&x==="image-card"});function u(){return tr(this,void 0,void 0,function*(){const I=v.onRetryRef.value;I&&(yield I({file:n.file}))===!1||v.submit(n.file.id)})}function c(I){I.preventDefault();const{file:x}=n;["finished","pending","error"].includes(x.status)?S(x):["uploading"].includes(x.status)?L(x):wn("upload","The button clicked type is unknown.")}function w(I){I.preventDefault(),y(n.file)}function S(I){const{xhrMap:x,doChange:F,onRemoveRef:{value:h},mergedFileListRef:{value:d}}=v;Promise.resolve(h?h({file:Object.assign({},I),fileList:d,index:n.index}):!0).then(A=>{if(A===!1)return;const C=Object.assign({},I,{status:"removed"});x.delete(I.id),F(C,void 0,{remove:!0})})}function y(I){const{onDownloadRef:{value:x},customDownloadRef:{value:F}}=v;Promise.resolve(x?x(Object.assign({},I)):!0).then(h=>{h!==!1&&(F?F(Object.assign({},I)):wr(I.url,I.name))})}function L(I){const{xhrMap:x}=v,F=x.get(I.id);F==null||F.abort(),S(Object.assign({},I))}function $(I){const{onPreviewRef:{value:x}}=v;if(x)x(n.file,{event:I});else if(n.listType==="image-card"){const{value:F}=b;if(!F)return;F.showPreview()}}const P=()=>tr(this,void 0,void 0,function*(){const{listType:I}=n;I!=="image"&&I!=="image-card"||v.shouldUseThumbnailUrlRef.value(n.file)&&(l.value=yield v.getFileThumbnailUrlResolver(n.file))});return ft(()=>{P()}),{mergedTheme:v.mergedThemeRef,progressStatus:e,buttonType:t,showProgress:i,disabled:v.mergedDisabledRef,showCancelButton:s,showRemoveButton:g,showDownloadButton:m,showRetryButton:r,showPreviewButton:o,mergedThumbnailUrl:a,shouldUseThumbnailUrl:v.shouldUseThumbnailUrlRef,renderIcon:v.renderIconRef,imageRef:b,handleRemoveOrCancelClick:c,handleDownloadClick:w,handleRetryClick:u,handlePreviewClick:$}},render(){const{clsPrefix:n,mergedTheme:v,listType:b,file:l,renderIcon:e}=this;let t;const i=b==="image";i||b==="image-card"?t=!this.shouldUseThumbnailUrl(l)||!this.mergedThumbnailUrl?_("span",{class:`${n}-upload-file-info__thumbnail`},e?e(l):Dr(l)?_(be,{clsPrefix:n},{default:wi}):_(be,{clsPrefix:n},{default:yi})):_("a",{rel:"noopener noreferer",target:"_blank",href:l.url||void 0,class:`${n}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},b==="image-card"?_(ni,{src:this.mergedThumbnailUrl||void 0,previewSrc:l.url||void 0,alt:l.name,ref:"imageRef"}):_("img",{src:this.mergedThumbnailUrl||void 0,alt:l.name})):t=_("span",{class:`${n}-upload-file-info__thumbnail`},e?e(l):_(be,{clsPrefix:n},{default:()=>_(Fo,null)}));const g=_(xi,{show:this.showProgress,percentage:l.percentage||0,status:this.progressStatus}),m=b==="text"||b==="image";return _("div",{class:[`${n}-upload-file`,`${n}-upload-file--${this.progressStatus}-status`,l.url&&l.status!=="error"&&b!=="image-card"&&`${n}-upload-file--with-url`,`${n}-upload-file--${b}-type`]},_("div",{class:`${n}-upload-file-info`},t,_("div",{class:`${n}-upload-file-info__name`},m&&(l.url&&l.status!=="error"?_("a",{rel:"noopener noreferer",target:"_blank",href:l.url||void 0,onClick:this.handlePreviewClick},l.name):_("span",{onClick:this.handlePreviewClick},l.name)),i&&g),_("div",{class:[`${n}-upload-file-info__action`,`${n}-upload-file-info__action--${b}-type`]},this.showPreviewButton?_(Ve,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,builtinThemeOverrides:ct},{icon:()=>_(be,{clsPrefix:n},{default:()=>_($n,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&_(Ve,{key:"cancelOrTrash",theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ct,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>_(mn,null,{default:()=>this.showRemoveButton?_(be,{clsPrefix:n,key:"trash"},{default:()=>_(No,null)}):_(be,{clsPrefix:n,key:"cancel"},{default:()=>_(zo,null)})})}),this.showRetryButton&&!this.disabled&&_(Ve,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,builtinThemeOverrides:ct},{icon:()=>_(be,{clsPrefix:n},{default:()=>_(Bo,null)})}),this.showDownloadButton?_(Ve,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,builtinThemeOverrides:ct},{icon:()=>_(be,{clsPrefix:n},{default:()=>_(Lr,null)})}):null)),!i&&g)}}),Nr=pe({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(n,{slots:v}){const b=Ge(tt,null);b||at("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:l,mergedDisabledRef:e,maxReachedRef:t,listTypeRef:i,dragOverRef:s,openOpenFileDialog:g,draggerInsideRef:m,handleFileAddition:r,mergedDirectoryDndRef:a,triggerClassRef:o,triggerStyleRef:u}=b,c=Q(()=>i.value==="image-card");function w(){e.value||t.value||g()}function S(P){P.preventDefault(),s.value=!0}function y(P){P.preventDefault(),s.value=!0}function L(P){P.preventDefault(),s.value=!1}function $(P){var I;if(P.preventDefault(),!m.value||e.value||t.value){s.value=!1;return}const x=(I=P.dataTransfer)===null||I===void 0?void 0:I.items;x!=null&&x.length?ki(Array.from(x).map(F=>F.webkitGetAsEntry()),a.value).then(F=>{r(F)}).finally(()=>{s.value=!1}):s.value=!1}return()=>{var P;const{value:I}=l;return n.abstract?(P=v.default)===null||P===void 0?void 0:P.call(v,{handleClick:w,handleDrop:$,handleDragOver:S,handleDragEnter:y,handleDragLeave:L}):_("div",{class:[`${I}-upload-trigger`,(e.value||t.value)&&`${I}-upload-trigger--disabled`,c.value&&`${I}-upload-trigger--image-card`,o.value],style:u.value,onClick:w,onDrop:$,onDragover:S,onDragenter:y,onDragleave:L},c.value?_(Br,null,{default:()=>sr(v.default,()=>[_(be,{clsPrefix:I},{default:()=>_(En,null)})])}):v)}}}),Ui=pe({name:"UploadFileList",setup(n,{slots:v}){const b=Ge(tt,null);b||at("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:l,mergedClsPrefixRef:e,listTypeRef:t,mergedFileListRef:i,fileListClassRef:s,fileListStyleRef:g,cssVarsRef:m,themeClassRef:r,maxReachedRef:a,showTriggerRef:o,imageGroupPropsRef:u}=b,c=Q(()=>t.value==="image-card"),w=()=>i.value.map((y,L)=>_(Pi,{clsPrefix:e.value,key:y.id,file:y,index:L,listType:t.value})),S=()=>c.value?_(ei,Object.assign({},u.value),{default:w}):_(gr,{group:!0},{default:w});return()=>{const{value:y}=e,{value:L}=l;return _("div",{class:[`${y}-upload-file-list`,c.value&&`${y}-upload-file-list--grid`,L?r==null?void 0:r.value:void 0,s.value],style:[L&&m?m.value:"",g.value]},S(),o.value&&!a.value&&c.value&&_(Nr,null,v))}}});var rr=function(n,v,b,l){function e(t){return t instanceof b?t:new b(function(i){i(t)})}return new(b||(b=Promise))(function(t,i){function s(r){try{m(l.next(r))}catch(a){i(a)}}function g(r){try{m(l.throw(r))}catch(a){i(a)}}function m(r){r.done?t(r.value):e(r.value).then(s,g)}m((l=l.apply(n,v||[])).next())})};function Ii(n,v,b){const{doChange:l,xhrMap:e}=n;let t=0;function i(g){var m;let r=Object.assign({},v,{status:"error",percentage:t});e.delete(v.id),r=it(((m=n.onError)===null||m===void 0?void 0:m.call(n,{file:r,event:g}))||r),l(r,g)}function s(g){var m;if(n.isErrorState){if(n.isErrorState(b)){i(g);return}}else if(b.status<200||b.status>=300){i(g);return}let r=Object.assign({},v,{status:"finished",percentage:t});e.delete(v.id),r=it(((m=n.onFinish)===null||m===void 0?void 0:m.call(n,{file:r,event:g}))||r),l(r,g)}return{handleXHRLoad:s,handleXHRError:i,handleXHRAbort(g){const m=Object.assign({},v,{status:"removed",file:null,percentage:t});e.delete(v.id),l(m,g)},handleXHRProgress(g){const m=Object.assign({},v,{status:"uploading"});if(g.lengthComputable){const r=Math.ceil(g.loaded/g.total*100);m.percentage=r,t=r}l(m,g)}}}function Ti(n){const{inst:v,file:b,data:l,headers:e,withCredentials:t,action:i,customRequest:s}=n,{doChange:g}=n.inst;let m=0;s({file:b,data:l,headers:e,withCredentials:t,action:i,onProgress(r){const a=Object.assign({},b,{status:"uploading"}),o=r.percent;a.percentage=o,m=o,g(a)},onFinish(){var r;let a=Object.assign({},b,{status:"finished",percentage:m});a=it(((r=v.onFinish)===null||r===void 0?void 0:r.call(v,{file:a}))||a),g(a)},onError(){var r;let a=Object.assign({},b,{status:"error",percentage:m});a=it(((r=v.onError)===null||r===void 0?void 0:r.call(v,{file:a}))||a),g(a)}})}function Oi(n,v,b){const l=Ii(n,v,b);b.onabort=l.handleXHRAbort,b.onerror=l.handleXHRError,b.onload=l.handleXHRLoad,b.upload&&(b.upload.onprogress=l.handleXHRProgress)}function jr(n,v){return typeof n=="function"?n({file:v}):n||{}}function Li(n,v,b){const l=jr(v,b);l&&Object.keys(l).forEach(e=>{n.setRequestHeader(e,l[e])})}function $i(n,v,b){const l=jr(v,b);l&&Object.keys(l).forEach(e=>{n.append(e,l[e])})}function Fi(n,v,b,{method:l,action:e,withCredentials:t,responseType:i,headers:s,data:g}){const m=new XMLHttpRequest;m.responseType=i,n.xhrMap.set(b.id,m),m.withCredentials=t;const r=new FormData;if($i(r,g,b),b.file!==null&&r.append(v,b.file),Oi(n,b,m),e!==void 0){m.open(l.toUpperCase(),e),Li(m,s,b),m.send(r);const a=Object.assign({},b,{status:"uploading"});n.doChange(a)}}const zi=Object.assign(Object.assign({},_e.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:n=>Ri?Dr(n):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Mi=pe({name:"Upload",props:zi,setup(n){n.abstract&&n.listType==="image-card"&&at("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:v,inlineThemeDisabled:b,mergedRtlRef:l}=Fe(n),e=_e("Upload","-upload",bi,xn,n,v),t=Cn("Upload",l,v),i=Rn(n),s=ie(n.defaultFileList),g=le(n,"fileList"),m=ie(null),r={value:!1},a=ie(!1),o=new Map,u=gt(g,s),c=Q(()=>u.value.map(it)),w=Q(()=>{const{max:C}=n;return C!==void 0?c.value.length>=C:!1});function S(){var C;(C=m.value)===null||C===void 0||C.click()}function y(C){const R=C.target;I(R.files?Array.from(R.files).map(U=>({file:U,entry:null,source:"input"})):null,C),R.value=""}function L(C){const{"onUpdate:fileList":R,onUpdateFileList:U}=n;R&&$e(R,C),U&&$e(U,C),s.value=C}const $=Q(()=>n.multiple||n.directory),P=(C,R,U={append:!1,remove:!1})=>{const{append:k,remove:T}=U,p=Array.from(c.value),f=p.findIndex(z=>z.id===C.id);if(k||T||~f){k?p.push(C):T?p.splice(f,1):p.splice(f,1,C);const{onChange:z}=n;z&&z({file:C,fileList:p,event:R}),L(p)}};function I(C,R){if(!C||C.length===0)return;const{onBeforeUpload:U}=n;C=$.value?C:[C[0]];const{max:k,accept:T}=n;C=C.filter(({file:f,source:z})=>z==="dnd"&&(T!=null&&T.trim())?_i(f.name,f.type,T):!0),k&&(C=C.slice(0,k-c.value.length));const p=Pt();Promise.all(C.map(f=>rr(this,[f],void 0,function*({file:z,entry:O}){var B;const V={id:Pt(),batchId:p,name:z.name,status:"pending",percentage:0,file:z,url:null,type:z.type,thumbnailUrl:null,fullPath:(B=O==null?void 0:O.fullPath)!==null&&B!==void 0?B:`/${z.webkitRelativePath||z.name}`};return!U||(yield U({file:V,fileList:c.value}))!==!1?V:null}))).then(f=>rr(this,void 0,void 0,function*(){let z=Promise.resolve();f.forEach(O=>{z=z.then(An).then(()=>{O&&P(O,R,{append:!0})})}),yield z})).then(()=>{n.defaultUpload&&x()})}function x(C){const{method:R,action:U,withCredentials:k,headers:T,data:p,name:f}=n,z=C!==void 0?c.value.filter(B=>B.id===C):c.value,O=C!==void 0;z.forEach(B=>{const{status:V}=B;(V==="pending"||V==="error"&&O)&&(n.customRequest?Ti({inst:{doChange:P,xhrMap:o,onFinish:n.onFinish,onError:n.onError},file:B,action:U,withCredentials:k,headers:T,data:p,customRequest:n.customRequest}):Fi({doChange:P,xhrMap:o,onFinish:n.onFinish,onError:n.onError,isErrorState:n.isErrorState},f,B,{method:R,action:U,withCredentials:k,responseType:n.responseType,headers:T,data:p}))})}function F(C){var R;if(C.thumbnailUrl)return C.thumbnailUrl;const{createThumbnailUrl:U}=n;return U?(R=U(C.file,C))!==null&&R!==void 0?R:C.url||"":C.url?C.url:C.file?Ci(C.file):""}const h=Q(()=>{const{common:{cubicBezierEaseInOut:C},self:{draggerColor:R,draggerBorder:U,draggerBorderHover:k,itemColorHover:T,itemColorHoverError:p,itemTextColorError:f,itemTextColorSuccess:z,itemTextColor:O,itemIconColor:B,itemDisabledOpacity:V,lineHeight:N,borderRadius:H,fontSize:D,itemBorderImageCardError:M,itemBorderImageCard:G}}=e.value;return{"--n-bezier":C,"--n-border-radius":H,"--n-dragger-border":U,"--n-dragger-border-hover":k,"--n-dragger-color":R,"--n-font-size":D,"--n-item-color-hover":T,"--n-item-color-hover-error":p,"--n-item-disabled-opacity":V,"--n-item-icon-color":B,"--n-item-text-color":O,"--n-item-text-color-error":f,"--n-item-text-color-success":z,"--n-line-height":N,"--n-item-border-image-card-error":M,"--n-item-border-image-card":G}}),d=b?et("upload",void 0,h,n):void 0;Ft(tt,{mergedClsPrefixRef:v,mergedThemeRef:e,showCancelButtonRef:le(n,"showCancelButton"),showDownloadButtonRef:le(n,"showDownloadButton"),showRemoveButtonRef:le(n,"showRemoveButton"),showRetryButtonRef:le(n,"showRetryButton"),onRemoveRef:le(n,"onRemove"),onDownloadRef:le(n,"onDownload"),customDownloadRef:le(n,"customDownload"),mergedFileListRef:c,triggerClassRef:le(n,"triggerClass"),triggerStyleRef:le(n,"triggerStyle"),shouldUseThumbnailUrlRef:le(n,"shouldUseThumbnailUrl"),renderIconRef:le(n,"renderIcon"),xhrMap:o,submit:x,doChange:P,showPreviewButtonRef:le(n,"showPreviewButton"),onPreviewRef:le(n,"onPreview"),getFileThumbnailUrlResolver:F,listTypeRef:le(n,"listType"),dragOverRef:a,openOpenFileDialog:S,draggerInsideRef:r,handleFileAddition:I,mergedDisabledRef:i.mergedDisabledRef,maxReachedRef:w,fileListClassRef:le(n,"fileListClass"),fileListStyleRef:le(n,"fileListStyle"),abstractRef:le(n,"abstract"),acceptRef:le(n,"accept"),cssVarsRef:b?void 0:h,themeClassRef:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender,showTriggerRef:le(n,"showTrigger"),imageGroupPropsRef:le(n,"imageGroupProps"),mergedDirectoryDndRef:Q(()=>{var C;return(C=n.directoryDnd)!==null&&C!==void 0?C:n.directory}),onRetryRef:le(n,"onRetry")});const A={clear:()=>{s.value=[]},submit:x,openOpenFileDialog:S};return Object.assign({mergedClsPrefix:v,draggerInsideRef:r,rtlEnabled:t,inputElRef:m,mergedTheme:e,dragOver:a,mergedMultiple:$,cssVars:b?void 0:h,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender,handleFileInputChange:y},A)},render(){var n,v;const{draggerInsideRef:b,mergedClsPrefix:l,$slots:e,directory:t,onRender:i}=this;if(e.default&&!this.abstract){const g=e.default()[0];!((n=g==null?void 0:g.type)===null||n===void 0)&&n[Mr]&&(b.value=!0)}const s=_("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${l}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:t||void 0,directory:t||void 0}));return this.abstract?_(Ke,null,(v=e.default)===null||v===void 0?void 0:v.call(e),_(yn,{to:"body"},s)):(i==null||i(),_("div",{class:[`${l}-upload`,this.rtlEnabled&&`${l}-upload--rtl`,b.value&&`${l}-upload--dragger-inside`,this.dragOver&&`${l}-upload--drag-over`,this.themeClass],style:this.cssVars},s,this.showTrigger&&this.listType!=="image-card"&&_(Nr,null,e),this.showFileList&&_(Ui,null,e)))}}),Bi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ei=me("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Di=me("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),Ni=me("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),ji=[Ei,Di,Ni],Hi=pe({name:"CloudUploadOutline",render:function(v,b){return Ee(),Je("svg",Bi,ji)}});function Wi(n,v){return v.forEach(function(b){b&&typeof b!="string"&&!Array.isArray(b)&&Object.keys(b).forEach(function(l){if(l!=="default"&&!(l in n)){var e=Object.getOwnPropertyDescriptor(b,l);Object.defineProperty(n,l,e.get?e:{enumerable:!0,get:function(){return b[l]}})}})}),Object.freeze(n)}function Hr(n,v){return new Promise(function(b,l){let e;return Vi(n).then(function(t){try{return e=t,b(new Blob([v.slice(0,2),e,v.slice(2)],{type:"image/jpeg"}))}catch(i){return l(i)}},l)})}const Vi=n=>new Promise((v,b)=>{const l=new FileReader;l.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let i=0;if(t.getUint16(i)!==65496)return b("not a valid JPEG");for(i+=2;;){const s=t.getUint16(i);if(s===65498)break;const g=t.getUint16(i+2);if(s===65505&&t.getUint32(i+4)===1165519206){const m=i+10;let r;switch(t.getUint16(m)){case 18761:r=!0;break;case 19789:r=!1;break;default:return b("TIFF header contains invalid endian")}if(t.getUint16(m+2,r)!==42)return b("TIFF header contains invalid version");const a=t.getUint32(m+4,r),o=m+a+2+12*t.getUint16(m+a,r);for(let u=m+a+2;u<o;u+=12)if(t.getUint16(u,r)==274){if(t.getUint16(u+2,r)!==3)return b("Orientation data type is invalid");if(t.getUint32(u+4,r)!==1)return b("Orientation data count is invalid");t.setUint16(u+8,1,r);break}return v(e.slice(i,i+2+g))}i+=2+g}return v(new Blob)}),l.readAsArrayBuffer(n)});var pt={},qi={get exports(){return pt},set exports(n){pt=n}};(function(n){var v,b,l={};qi.exports=l,l.parse=function(e,t){for(var i=l.bin.readUshort,s=l.bin.readUint,g=0,m={},r=new Uint8Array(e),a=r.length-4;s(r,a)!=101010256;)a--;g=a,g+=4;var o=i(r,g+=4);i(r,g+=2);var u=s(r,g+=2),c=s(r,g+=4);g+=4,g=c;for(var w=0;w<o;w++){s(r,g),g+=4,g+=4,g+=4,s(r,g+=4),u=s(r,g+=4);var S=s(r,g+=4),y=i(r,g+=4),L=i(r,g+2),$=i(r,g+4);g+=6;var P=s(r,g+=8);g+=4,g+=y+L+$,l._readLocal(r,P,m,u,S,t)}return m},l._readLocal=function(e,t,i,s,g,m){var r=l.bin.readUshort,a=l.bin.readUint;a(e,t),r(e,t+=4),r(e,t+=2);var o=r(e,t+=2);a(e,t+=2),a(e,t+=4),t+=4;var u=r(e,t+=8),c=r(e,t+=2);t+=2;var w=l.bin.readUTF8(e,t,u);if(t+=u,t+=c,m)i[w]={size:g,csize:s};else{var S=new Uint8Array(e.buffer,t);if(o==0)i[w]=new Uint8Array(S.buffer.slice(t,t+s));else{if(o!=8)throw"unknown compression method: "+o;var y=new Uint8Array(g);l.inflateRaw(S,y),i[w]=y}}},l.inflateRaw=function(e,t){return l.F.inflate(e,t)},l.inflate=function(e,t){return e[0],e[1],l.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},l.deflate=function(e,t){t==null&&(t={level:6});var i=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[i]=120,s[i+1]=156,i+=2,i=l.F.deflateRaw(e,s,i,t.level);var g=l.adler(e,0,e.length);return s[i+0]=g>>>24&255,s[i+1]=g>>>16&255,s[i+2]=g>>>8&255,s[i+3]=g>>>0&255,new Uint8Array(s.buffer,0,i+4)},l.deflateRaw=function(e,t){t==null&&(t={level:6});var i=new Uint8Array(50+Math.floor(1.1*e.length)),s=l.F.deflateRaw(e,i,s,t.level);return new Uint8Array(i.buffer,0,s)},l.encode=function(e,t){t==null&&(t=!1);var i=0,s=l.bin.writeUint,g=l.bin.writeUshort,m={};for(var r in e){var a=!l._noNeed(r)&&!t,o=e[r],u=l.crc.crc(o,0,o.length);m[r]={cpr:a,usize:o.length,crc:u,file:a?l.deflateRaw(o):o}}for(var r in m)i+=m[r].file.length+30+46+2*l.bin.sizeUTF8(r);i+=22;var c=new Uint8Array(i),w=0,S=[];for(var r in m){var y=m[r];S.push(w),w=l._writeHeader(c,w,r,y,0)}var L=0,$=w;for(var r in m)y=m[r],S.push(w),w=l._writeHeader(c,w,r,y,1,S[L++]);var P=w-$;return s(c,w,101010256),w+=4,g(c,w+=4,L),g(c,w+=2,L),s(c,w+=2,P),s(c,w+=4,$),w+=4,w+=2,c.buffer},l._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},l._writeHeader=function(e,t,i,s,g,m){var r=l.bin.writeUint,a=l.bin.writeUshort,o=s.file;return r(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),a(e,t,20),a(e,t+=2,0),a(e,t+=2,s.cpr?8:0),r(e,t+=2,0),r(e,t+=4,s.crc),r(e,t+=4,o.length),r(e,t+=4,s.usize),a(e,t+=4,l.bin.sizeUTF8(i)),a(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,r(e,t+=6,m),t+=4),t+=l.bin.writeUTF8(e,t,i),g==0&&(e.set(o,t),t+=o.length),t},l.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var i=t,s=0;s<8;s++)1&i?i=3988292384^i>>>1:i>>>=1;e[t]=i}return e}(),update:function(e,t,i,s){for(var g=0;g<s;g++)e=l.crc.table[255&(e^t[i+g])]^e>>>8;return e},crc:function(e,t,i){return 4294967295^l.crc.update(4294967295,e,t,i)}},l.adler=function(e,t,i){for(var s=1,g=0,m=t,r=t+i;m<r;){for(var a=Math.min(m+5552,r);m<a;)g+=s+=e[m++];s%=65521,g%=65521}return g<<16|s},l.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,i){e[t]=255&i,e[t+1]=i>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,i){e[t]=255&i,e[t+1]=i>>8&255,e[t+2]=i>>16&255,e[t+3]=i>>24&255},readASCII:function(e,t,i){for(var s="",g=0;g<i;g++)s+=String.fromCharCode(e[t+g]);return s},writeASCII:function(e,t,i){for(var s=0;s<i.length;s++)e[t+s]=i.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,i){for(var s,g="",m=0;m<i;m++)g+="%"+l.bin.pad(e[t+m].toString(16));try{s=decodeURIComponent(g)}catch{return l.bin.readASCII(e,t,i)}return s},writeUTF8:function(e,t,i){for(var s=i.length,g=0,m=0;m<s;m++){var r=i.charCodeAt(m);if(!(4294967168&r))e[t+g]=r,g++;else if(!(4294965248&r))e[t+g]=192|r>>6,e[t+g+1]=128|r>>0&63,g+=2;else if(!(4294901760&r))e[t+g]=224|r>>12,e[t+g+1]=128|r>>6&63,e[t+g+2]=128|r>>0&63,g+=3;else{if(4292870144&r)throw"e";e[t+g]=240|r>>18,e[t+g+1]=128|r>>12&63,e[t+g+2]=128|r>>6&63,e[t+g+3]=128|r>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,i=0,s=0;s<t;s++){var g=e.charCodeAt(s);if(!(4294967168&g))i++;else if(!(4294965248&g))i+=2;else if(!(4294901760&g))i+=3;else{if(4292870144&g)throw"e";i+=4}}return i}},l.F={},l.F.deflateRaw=function(e,t,i,s){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],m=l.F.U,r=l.F._goodIndex;l.F._hash;var a=l.F._putsE,o=0,u=i<<3,c=0,w=e.length;if(s==0){for(;o<w;)a(t,u,o+(C=Math.min(65535,w-o))==w?1:0),u=l.F._copyExact(e,o,C,t,u+8),o+=C;return u>>>3}var S=m.lits,y=m.strt,L=m.prev,$=0,P=0,I=0,x=0,F=0,h=0;for(w>2&&(y[h=l.F._hash(e,0)]=0),o=0;o<w;o++){if(F=h,o+1<w-2){h=l.F._hash(e,o+1);var d=o+1&32767;L[d]=y[h],y[h]=d}if(c<=o){($>14e3||P>26697)&&w-o>100&&(c<o&&(S[$]=o-c,$+=2,c=o),u=l.F._writeBlock(o==w-1||c==w?1:0,S,$,x,e,I,o-I,t,u),$=P=x=0,I=o);var A=0;o<w-2&&(A=l.F._bestMatch(e,o,L,F,Math.min(g[2],w-o),g[3]));var C=A>>>16,R=65535&A;if(A!=0){R=65535&A;var U=r(C=A>>>16,m.of0);m.lhst[257+U]++;var k=r(R,m.df0);m.dhst[k]++,x+=m.exb[U]+m.dxb[k],S[$]=C<<23|o-c,S[$+1]=R<<16|U<<8|k,$+=2,c=o+C}else m.lhst[e[o]]++;P++}}for(I==o&&e.length!=0||(c<o&&(S[$]=o-c,$+=2,c=o),u=l.F._writeBlock(1,S,$,x,e,I,o-I,t,u),$=0,P=0,$=P=x=0,I=o);7&u;)u++;return u>>>3},l.F._bestMatch=function(e,t,i,s,g,m){var r=32767&t,a=i[r],o=r-a+32768&32767;if(a==r||s!=l.F._hash(e,t-o))return 0;for(var u=0,c=0,w=Math.min(32767,t);o<=w&&--m!=0&&a!=r;){if(u==0||e[t+u]==e[t+u-o]){var S=l.F._howLong(e,t,o);if(S>u){if(c=o,(u=S)>=g)break;o+2<S&&(S=o+2);for(var y=0,L=0;L<S-2;L++){var $=t-o+L+32768&32767,P=$-i[$]+32768&32767;P>y&&(y=P,a=$)}}}o+=(r=a)-(a=i[r])+32768&32767}return u<<16|c},l.F._howLong=function(e,t,i){if(e[t]!=e[t-i]||e[t+1]!=e[t+1-i]||e[t+2]!=e[t+2-i])return 0;var s=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-i];)t++;return t-s},l.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},l.saved=0,l.F._writeBlock=function(e,t,i,s,g,m,r,a,o){var u,c,w,S,y,L,$,P,I,x=l.F.U,F=l.F._putsF,h=l.F._putsE;x.lhst[256]++,c=(u=l.F.getTrees())[0],w=u[1],S=u[2],y=u[3],L=u[4],$=u[5],P=u[6],I=u[7];var d=32+(o+3&7?8-(o+3&7):0)+(r<<3),A=s+l.F.contSize(x.fltree,x.lhst)+l.F.contSize(x.fdtree,x.dhst),C=s+l.F.contSize(x.ltree,x.lhst)+l.F.contSize(x.dtree,x.dhst);C+=14+3*$+l.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var R=0;R<286;R++)x.lhst[R]=0;for(R=0;R<30;R++)x.dhst[R]=0;for(R=0;R<19;R++)x.ihst[R]=0;var U=d<A&&d<C?0:A<C?1:2;if(F(a,o,e),F(a,o+1,U),o+=3,U==0){for(;7&o;)o++;o=l.F._copyExact(g,m,r,a,o)}else{var k,T;if(U==1&&(k=x.fltree,T=x.fdtree),U==2){l.F.makeCodes(x.ltree,c),l.F.revCodes(x.ltree,c),l.F.makeCodes(x.dtree,w),l.F.revCodes(x.dtree,w),l.F.makeCodes(x.itree,S),l.F.revCodes(x.itree,S),k=x.ltree,T=x.dtree,h(a,o,y-257),h(a,o+=5,L-1),h(a,o+=5,$-4),o+=4;for(var p=0;p<$;p++)h(a,o+3*p,x.itree[1+(x.ordr[p]<<1)]);o+=3*$,o=l.F._codeTiny(P,x.itree,a,o),o=l.F._codeTiny(I,x.itree,a,o)}for(var f=m,z=0;z<i;z+=2){for(var O=t[z],B=O>>>23,V=f+(8388607&O);f<V;)o=l.F._writeLit(g[f++],k,a,o);if(B!=0){var N=t[z+1],H=N>>16,D=N>>8&255,M=255&N;h(a,o=l.F._writeLit(257+D,k,a,o),B-x.of0[D]),o+=x.exb[D],F(a,o=l.F._writeLit(M,T,a,o),H-x.df0[M]),o+=x.dxb[M],f+=B}}o=l.F._writeLit(256,k,a,o)}return o},l.F._copyExact=function(e,t,i,s,g){var m=g>>>3;return s[m]=i,s[m+1]=i>>>8,s[m+2]=255-s[m],s[m+3]=255-s[m+1],m+=4,s.set(new Uint8Array(e.buffer,t,i),m),g+(i+4<<3)},l.F.getTrees=function(){for(var e=l.F.U,t=l.F._hufTree(e.lhst,e.ltree,15),i=l.F._hufTree(e.dhst,e.dtree,15),s=[],g=l.F._lenCodes(e.ltree,s),m=[],r=l.F._lenCodes(e.dtree,m),a=0;a<s.length;a+=2)e.ihst[s[a]]++;for(a=0;a<m.length;a+=2)e.ihst[m[a]]++;for(var o=l.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[t,i,o,g,r,u,s,m]},l.F.getSecond=function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(e[i+1]);return t},l.F.nonZero=function(e){for(var t="",i=0;i<e.length;i+=2)e[i+1]!=0&&(t+=(i>>1)+",");return t},l.F.contSize=function(e,t){for(var i=0,s=0;s<t.length;s++)i+=t[s]*e[1+(s<<1)];return i},l.F._codeTiny=function(e,t,i,s){for(var g=0;g<e.length;g+=2){var m=e[g],r=e[g+1];s=l.F._writeLit(m,t,i,s);var a=m==16?2:m==17?3:7;m>15&&(l.F._putsE(i,s,r,a),s+=a)}return s},l.F._lenCodes=function(e,t){for(var i=e.length;i!=2&&e[i-1]==0;)i-=2;for(var s=0;s<i;s+=2){var g=e[s+1],m=s+3<i?e[s+3]:-1,r=s+5<i?e[s+5]:-1,a=s==0?-1:e[s-1];if(g==0&&m==g&&r==g){for(var o=s+5;o+2<i&&e[o+2]==g;)o+=2;(u=Math.min(o+1-s>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),s+=2*u-2}else if(g==a&&m==g&&r==g){for(o=s+5;o+2<i&&e[o+2]==g;)o+=2;var u=Math.min(o+1-s>>>1,6);t.push(16,u-3),s+=2*u-2}else t.push(g,0)}return i>>>1},l.F._hufTree=function(e,t,i){var s=[],g=e.length,m=t.length,r=0;for(r=0;r<m;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<g;r++)e[r]!=0&&s.push({lit:r,f:e[r]});var a=s.length,o=s.slice(0);if(a==0)return 0;if(a==1){var u=s[0].lit;return o=u==0?1:0,t[1+(u<<1)]=1,t[1+(o<<1)]=1,1}s.sort(function(P,I){return P.f-I.f});var c=s[0],w=s[1],S=0,y=1,L=2;for(s[0]={lit:-1,f:c.f+w.f,l:c,r:w,d:0};y!=a-1;)c=S!=y&&(L==a||s[S].f<s[L].f)?s[S++]:s[L++],w=S!=y&&(L==a||s[S].f<s[L].f)?s[S++]:s[L++],s[y++]={lit:-1,f:c.f+w.f,l:c,r:w};var $=l.F.setDepth(s[y-1],0);for($>i&&(l.F.restrictDepth(o,i,$),$=i),r=0;r<a;r++)t[1+(o[r].lit<<1)]=o[r].d;return $},l.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(l.F.setDepth(e.l,t+1),l.F.setDepth(e.r,t+1))},l.F.restrictDepth=function(e,t,i){var s=0,g=1<<i-t,m=0;for(e.sort(function(a,o){return o.d==a.d?a.f-o.f:o.d-a.d}),s=0;s<e.length&&e[s].d>t;s++){var r=e[s].d;e[s].d=t,m+=g-(1<<i-r)}for(m>>>=i-t;m>0;)(r=e[s].d)<t?(e[s].d++,m-=1<<t-r-1):s++;for(;s>=0;s--)e[s].d==t&&m<0&&(e[s].d--,m++);m!=0&&console.log("debt left")},l.F._goodIndex=function(e,t){var i=0;return t[16|i]<=e&&(i|=16),t[8|i]<=e&&(i|=8),t[4|i]<=e&&(i|=4),t[2|i]<=e&&(i|=2),t[1|i]<=e&&(i|=1),i},l.F._writeLit=function(e,t,i,s){return l.F._putsF(i,s,t[e<<1]),s+t[1+(e<<1)]},l.F.inflate=function(e,t){var i=Uint8Array;if(e[0]==3&&e[1]==0)return t||new i(0);var s=l.F,g=s._bitsF,m=s._bitsE,r=s._decodeTiny,a=s.makeCodes,o=s.codes2map,u=s._get17,c=s.U,w=t==null;w&&(t=new i(e.length>>>2<<3));for(var S,y,L=0,$=0,P=0,I=0,x=0,F=0,h=0,d=0,A=0;L==0;)if(L=g(e,A,1),$=g(e,A+1,2),A+=3,$!=0){if(w&&(t=l.F._check(t,d+(1<<17))),$==1&&(S=c.flmap,y=c.fdmap,F=511,h=31),$==2){P=m(e,A,5)+257,I=m(e,A+5,5)+1,x=m(e,A+10,4)+4,A+=14;for(var C=0;C<38;C+=2)c.itree[C]=0,c.itree[C+1]=0;var R=1;for(C=0;C<x;C++){var U=m(e,A+3*C,3);c.itree[1+(c.ordr[C]<<1)]=U,U>R&&(R=U)}A+=3*x,a(c.itree,R),o(c.itree,R,c.imap),S=c.lmap,y=c.dmap,A=r(c.imap,(1<<R)-1,P+I,e,A,c.ttree);var k=s._copyOut(c.ttree,0,P,c.ltree);F=(1<<k)-1;var T=s._copyOut(c.ttree,P,I,c.dtree);h=(1<<T)-1,a(c.ltree,k),o(c.ltree,k,S),a(c.dtree,T),o(c.dtree,T,y)}for(;;){var p=S[u(e,A)&F];A+=15&p;var f=p>>>4;if(!(f>>>8))t[d++]=f;else{if(f==256)break;var z=d+f-254;if(f>264){var O=c.ldef[f-257];z=d+(O>>>3)+m(e,A,7&O),A+=7&O}var B=y[u(e,A)&h];A+=15&B;var V=B>>>4,N=c.ddef[V],H=(N>>>4)+g(e,A,15&N);for(A+=15&N,w&&(t=l.F._check(t,d+(1<<17)));d<z;)t[d]=t[d++-H],t[d]=t[d++-H],t[d]=t[d++-H],t[d]=t[d++-H];d=z}}}else{7&A&&(A+=8-(7&A));var D=4+(A>>>3),M=e[D-4]|e[D-3]<<8;w&&(t=l.F._check(t,d+M)),t.set(new i(e.buffer,e.byteOffset+D,M),d),A=D+M<<3,d+=M}return t.length==d?t:t.slice(0,d)},l.F._check=function(e,t){var i=e.length;if(t<=i)return e;var s=new Uint8Array(Math.max(i<<1,t));return s.set(e,0),s},l.F._decodeTiny=function(e,t,i,s,g,m){for(var r=l.F._bitsE,a=l.F._get17,o=0;o<i;){var u=e[a(s,g)&t];g+=15&u;var c=u>>>4;if(c<=15)m[o]=c,o++;else{var w=0,S=0;c==16?(S=3+r(s,g,2),g+=2,w=m[o-1]):c==17?(S=3+r(s,g,3),g+=3):c==18&&(S=11+r(s,g,7),g+=7);for(var y=o+S;o<y;)m[o]=w,o++}}return g},l.F._copyOut=function(e,t,i,s){for(var g=0,m=0,r=s.length>>>1;m<i;){var a=e[m+t];s[m<<1]=0,s[1+(m<<1)]=a,a>g&&(g=a),m++}for(;m<r;)s[m<<1]=0,s[1+(m<<1)]=0,m++;return g},l.F.makeCodes=function(e,t){for(var i,s,g,m,r=l.F.U,a=e.length,o=r.bl_count,u=0;u<=t;u++)o[u]=0;for(u=1;u<a;u+=2)o[e[u]]++;var c=r.next_code;for(i=0,o[0]=0,s=1;s<=t;s++)i=i+o[s-1]<<1,c[s]=i;for(g=0;g<a;g+=2)(m=e[g+1])!=0&&(e[g]=c[m],c[m]++)},l.F.codes2map=function(e,t,i){for(var s=e.length,g=l.F.U.rev15,m=0;m<s;m+=2)if(e[m+1]!=0)for(var r=m>>1,a=e[m+1],o=r<<4|a,u=t-a,c=e[m]<<u,w=c+(1<<u);c!=w;)i[g[c]>>>15-t]=o,c++},l.F.revCodes=function(e,t){for(var i=l.F.U.rev15,s=15-t,g=0;g<e.length;g+=2){var m=e[g]<<t-e[g+1];e[g]=i[m]>>>s}},l.F._putsE=function(e,t,i){i<<=7&t;var s=t>>>3;e[s]|=i,e[s+1]|=i>>>8},l.F._putsF=function(e,t,i){i<<=7&t;var s=t>>>3;e[s]|=i,e[s+1]|=i>>>8,e[s+2]|=i>>>16},l.F._bitsE=function(e,t,i){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<i)-1},l.F._bitsF=function(e,t,i){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<i)-1},l.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},l.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},l.F.U=(v=Uint16Array,b=Uint32Array,{next_code:new v(16),bl_count:new v(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new v(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new b(32),flmap:new v(512),fltree:[],fdmap:new v(32),fdtree:[],lmap:new v(32768),ltree:[],ttree:[],dmap:new v(32768),dtree:[],imap:new v(512),itree:[],rev15:new v(32768),lhst:new b(286),dhst:new b(30),ihst:new b(19),lits:new b(15e3),strt:new v(65536),prev:new v(32768)}),function(){for(var e=l.F.U,t=0;t<32768;t++){var i=t;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,e.rev15[t]=(i>>>16|i<<16)>>>17}function s(g,m,r){for(;m--!=0;)g.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),l.F.makeCodes(e.fltree,9),l.F.codes2map(e.fltree,9,e.flmap),l.F.revCodes(e.fltree,9),s(e.fdtree,32,5),l.F.makeCodes(e.fdtree,5),l.F.codes2map(e.fdtree,5,e.fdmap),l.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()})();var Gi=Wi({__proto__:null,default:pt},[pt]);const Ue=function(){var n={nextZero(r,a){for(;r[a]!=0;)a++;return a},readUshort:(r,a)=>r[a]<<8|r[a+1],writeUshort(r,a,o){r[a]=o>>8&255,r[a+1]=255&o},readUint:(r,a)=>16777216*r[a]+(r[a+1]<<16|r[a+2]<<8|r[a+3]),writeUint(r,a,o){r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o},readASCII(r,a,o){let u="";for(let c=0;c<o;c++)u+=String.fromCharCode(r[a+c]);return u},writeASCII(r,a,o){for(let u=0;u<o.length;u++)r[a+u]=o.charCodeAt(u)},readBytes(r,a,o){const u=[];for(let c=0;c<o;c++)u.push(r[a+c]);return u},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,a,o){let u,c="";for(let w=0;w<o;w++)c+=`%${n.pad(r[a+w].toString(16))}`;try{u=decodeURIComponent(c)}catch{return n.readASCII(r,a,o)}return u}};function v(r,a,o,u){const c=a*o,w=t(u),S=Math.ceil(a*w/8),y=new Uint8Array(4*c),L=new Uint32Array(y.buffer),{ctype:$}=u,{depth:P}=u,I=n.readUshort;if($==6){const O=c<<2;if(P==8)for(var x=0;x<O;x+=4)y[x]=r[x],y[x+1]=r[x+1],y[x+2]=r[x+2],y[x+3]=r[x+3];if(P==16)for(x=0;x<O;x++)y[x]=r[x<<1]}else if($==2){const O=u.tabs.tRNS;if(O==null){if(P==8)for(x=0;x<c;x++){var F=3*x;L[x]=255<<24|r[F+2]<<16|r[F+1]<<8|r[F]}if(P==16)for(x=0;x<c;x++)F=6*x,L[x]=255<<24|r[F+4]<<16|r[F+2]<<8|r[F]}else{var h=O[0];const B=O[1],V=O[2];if(P==8)for(x=0;x<c;x++){var d=x<<2;F=3*x,L[x]=255<<24|r[F+2]<<16|r[F+1]<<8|r[F],r[F]==h&&r[F+1]==B&&r[F+2]==V&&(y[d+3]=0)}if(P==16)for(x=0;x<c;x++)d=x<<2,F=6*x,L[x]=255<<24|r[F+4]<<16|r[F+2]<<8|r[F],I(r,F)==h&&I(r,F+2)==B&&I(r,F+4)==V&&(y[d+3]=0)}}else if($==3){const O=u.tabs.PLTE,B=u.tabs.tRNS,V=B?B.length:0;if(P==1)for(var A=0;A<o;A++){var C=A*S,R=A*a;for(x=0;x<a;x++){d=R+x<<2;var U=3*(k=r[C+(x>>3)]>>7-((7&x)<<0)&1);y[d]=O[U],y[d+1]=O[U+1],y[d+2]=O[U+2],y[d+3]=k<V?B[k]:255}}if(P==2)for(A=0;A<o;A++)for(C=A*S,R=A*a,x=0;x<a;x++)d=R+x<<2,U=3*(k=r[C+(x>>2)]>>6-((3&x)<<1)&3),y[d]=O[U],y[d+1]=O[U+1],y[d+2]=O[U+2],y[d+3]=k<V?B[k]:255;if(P==4)for(A=0;A<o;A++)for(C=A*S,R=A*a,x=0;x<a;x++)d=R+x<<2,U=3*(k=r[C+(x>>1)]>>4-((1&x)<<2)&15),y[d]=O[U],y[d+1]=O[U+1],y[d+2]=O[U+2],y[d+3]=k<V?B[k]:255;if(P==8)for(x=0;x<c;x++){var k;d=x<<2,U=3*(k=r[x]),y[d]=O[U],y[d+1]=O[U+1],y[d+2]=O[U+2],y[d+3]=k<V?B[k]:255}}else if($==4){if(P==8)for(x=0;x<c;x++){d=x<<2;var T=r[p=x<<1];y[d]=T,y[d+1]=T,y[d+2]=T,y[d+3]=r[p+1]}if(P==16)for(x=0;x<c;x++){var p;d=x<<2,T=r[p=x<<2],y[d]=T,y[d+1]=T,y[d+2]=T,y[d+3]=r[p+2]}}else if($==0)for(h=u.tabs.tRNS?u.tabs.tRNS:-1,A=0;A<o;A++){const O=A*S,B=A*a;if(P==1)for(var f=0;f<a;f++){var z=(T=255*(r[O+(f>>>3)]>>>7-(7&f)&1))==255*h?0:255;L[B+f]=z<<24|T<<16|T<<8|T}else if(P==2)for(f=0;f<a;f++)z=(T=85*(r[O+(f>>>2)]>>>6-((3&f)<<1)&3))==85*h?0:255,L[B+f]=z<<24|T<<16|T<<8|T;else if(P==4)for(f=0;f<a;f++)z=(T=17*(r[O+(f>>>1)]>>>4-((1&f)<<2)&15))==17*h?0:255,L[B+f]=z<<24|T<<16|T<<8|T;else if(P==8)for(f=0;f<a;f++)z=(T=r[O+f])==h?0:255,L[B+f]=z<<24|T<<16|T<<8|T;else if(P==16)for(f=0;f<a;f++)T=r[O+(f<<1)],z=I(r,O+(f<<1))==h?0:255,L[B+f]=z<<24|T<<16|T<<8|T}return y}function b(r,a,o,u){const c=t(r),w=Math.ceil(o*c/8),S=new Uint8Array((w+1+r.interlace)*u);return a=r.tabs.CgBI?e(a,S):l(a,S),r.interlace==0?a=i(a,r,0,o,u):r.interlace==1&&(a=function(L,$){const P=$.width,I=$.height,x=t($),F=x>>3,h=Math.ceil(P*x/8),d=new Uint8Array(I*h);let A=0;const C=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],k=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const f=U[T],z=k[T];let O=0,B=0,V=C[T];for(;V<I;)V+=f,B++;let N=R[T];for(;N<P;)N+=z,O++;const H=Math.ceil(O*x/8);i(L,$,A,O,B);let D=0,M=C[T];for(;M<I;){let G=R[T],ae=A+D*H<<3;for(;G<P;){var p;if(x==1&&(p=(p=L[ae>>3])>>7-(7&ae)&1,d[M*h+(G>>3)]|=p<<7-((7&G)<<0)),x==2&&(p=(p=L[ae>>3])>>6-(7&ae)&3,d[M*h+(G>>2)]|=p<<6-((3&G)<<1)),x==4&&(p=(p=L[ae>>3])>>4-(7&ae)&15,d[M*h+(G>>1)]|=p<<4-((1&G)<<2)),x>=8){const ne=M*h+G*F;for(let X=0;X<F;X++)d[ne+X]=L[(ae>>3)+X]}ae+=x,G+=z}D++,M+=f}O*B!=0&&(A+=B*(1+H)),T+=1}return d}(a,r)),a}function l(r,a){return e(new Uint8Array(r.buffer,2,r.length-6),a)}var e=function(){const r={H:{}};return r.H.N=function(a,o){const u=Uint8Array;let c,w,S=0,y=0,L=0,$=0,P=0,I=0,x=0,F=0,h=0;if(a[0]==3&&a[1]==0)return o||new u(0);const d=r.H,A=d.b,C=d.e,R=d.R,U=d.n,k=d.A,T=d.Z,p=d.m,f=o==null;for(f&&(o=new u(a.length>>>2<<5));S==0;)if(S=A(a,h,1),y=A(a,h+1,2),h+=3,y!=0){if(f&&(o=r.H.W(o,F+(1<<17))),y==1&&(c=p.J,w=p.h,I=511,x=31),y==2){L=C(a,h,5)+257,$=C(a,h+5,5)+1,P=C(a,h+10,4)+4,h+=14;let O=1;for(var z=0;z<38;z+=2)p.Q[z]=0,p.Q[z+1]=0;for(z=0;z<P;z++){const N=C(a,h+3*z,3);p.Q[1+(p.X[z]<<1)]=N,N>O&&(O=N)}h+=3*P,U(p.Q,O),k(p.Q,O,p.u),c=p.w,w=p.d,h=R(p.u,(1<<O)-1,L+$,a,h,p.v);const B=d.V(p.v,0,L,p.C);I=(1<<B)-1;const V=d.V(p.v,L,$,p.D);x=(1<<V)-1,U(p.C,B),k(p.C,B,c),U(p.D,V),k(p.D,V,w)}for(;;){const O=c[T(a,h)&I];h+=15&O;const B=O>>>4;if(!(B>>>8))o[F++]=B;else{if(B==256)break;{let V=F+B-254;if(B>264){const G=p.q[B-257];V=F+(G>>>3)+C(a,h,7&G),h+=7&G}const N=w[T(a,h)&x];h+=15&N;const H=N>>>4,D=p.c[H],M=(D>>>4)+A(a,h,15&D);for(h+=15&D;F<V;)o[F]=o[F++-M],o[F]=o[F++-M],o[F]=o[F++-M],o[F]=o[F++-M];F=V}}}}else{7&h&&(h+=8-(7&h));const O=4+(h>>>3),B=a[O-4]|a[O-3]<<8;f&&(o=r.H.W(o,F+B)),o.set(new u(a.buffer,a.byteOffset+O,B),F),h=O+B<<3,F+=B}return o.length==F?o:o.slice(0,F)},r.H.W=function(a,o){const u=a.length;if(o<=u)return a;const c=new Uint8Array(u<<1);return c.set(a,0),c},r.H.R=function(a,o,u,c,w,S){const y=r.H.e,L=r.H.Z;let $=0;for(;$<u;){const P=a[L(c,w)&o];w+=15&P;const I=P>>>4;if(I<=15)S[$]=I,$++;else{let x=0,F=0;I==16?(F=3+y(c,w,2),w+=2,x=S[$-1]):I==17?(F=3+y(c,w,3),w+=3):I==18&&(F=11+y(c,w,7),w+=7);const h=$+F;for(;$<h;)S[$]=x,$++}}return w},r.H.V=function(a,o,u,c){let w=0,S=0;const y=c.length>>>1;for(;S<u;){const L=a[S+o];c[S<<1]=0,c[1+(S<<1)]=L,L>w&&(w=L),S++}for(;S<y;)c[S<<1]=0,c[1+(S<<1)]=0,S++;return w},r.H.n=function(a,o){const u=r.H.m,c=a.length;let w,S,y,L;const $=u.j;for(var P=0;P<=o;P++)$[P]=0;for(P=1;P<c;P+=2)$[a[P]]++;const I=u.K;for(w=0,$[0]=0,S=1;S<=o;S++)w=w+$[S-1]<<1,I[S]=w;for(y=0;y<c;y+=2)L=a[y+1],L!=0&&(a[y]=I[L],I[L]++)},r.H.A=function(a,o,u){const c=a.length,w=r.H.m.r;for(let S=0;S<c;S+=2)if(a[S+1]!=0){const y=S>>1,L=a[S+1],$=y<<4|L,P=o-L;let I=a[S]<<P;const x=I+(1<<P);for(;I!=x;)u[w[I]>>>15-o]=$,I++}},r.H.l=function(a,o){const u=r.H.m.r,c=15-o;for(let w=0;w<a.length;w+=2){const S=a[w]<<o-a[w+1];a[w]=u[S]>>>c}},r.H.M=function(a,o,u){u<<=7&o;const c=o>>>3;a[c]|=u,a[c+1]|=u>>>8},r.H.I=function(a,o,u){u<<=7&o;const c=o>>>3;a[c]|=u,a[c+1]|=u>>>8,a[c+2]|=u>>>16},r.H.e=function(a,o,u){return(a[o>>>3]|a[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},r.H.b=function(a,o,u){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},r.H.Z=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)},r.H.i=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16|a[3+(o>>>3)]<<24)>>>(7&o)},r.H.m=function(){const a=Uint16Array,o=Uint32Array;return{K:new a(16),j:new a(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new a(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new o(32),J:new a(512),_:[],h:new a(32),$:[],w:new a(32768),C:[],v:[],d:new a(32768),D:[],u:new a(512),Q:[],r:new a(32768),s:new o(286),Y:new o(30),a:new o(19),t:new o(15e3),k:new a(65536),g:new a(32768)}}(),function(){const a=r.H.m;for(var o=0;o<32768;o++){let c=o;c=(2863311530&c)>>>1|(1431655765&c)<<1,c=(3435973836&c)>>>2|(858993459&c)<<2,c=(4042322160&c)>>>4|(252645135&c)<<4,c=(4278255360&c)>>>8|(16711935&c)<<8,a.r[o]=(c>>>16|c<<16)>>>17}function u(c,w,S){for(;w--!=0;)c.push(0,S)}for(o=0;o<32;o++)a.q[o]=a.S[o]<<3|a.T[o],a.c[o]=a.p[o]<<4|a.z[o];u(a._,144,8),u(a._,112,9),u(a._,24,7),u(a._,8,8),r.H.n(a._,9),r.H.A(a._,9,a.J),r.H.l(a._,9),u(a.$,32,5),r.H.n(a.$,5),r.H.A(a.$,5,a.h),r.H.l(a.$,5),u(a.Q,19,0),u(a.C,286,0),u(a.D,30,0),u(a.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function i(r,a,o,u,c){let w=t(a);const S=Math.ceil(u*w/8);let y,L;w=Math.ceil(w/8);let $=r[o],P=0;if($>1&&(r[o]=[0,0,1][$-2]),$==3)for(P=w;P<S;P++)r[P+1]=r[P+1]+(r[P+1-w]>>>1)&255;for(let I=0;I<c;I++)if(y=o+I*S,L=y+I+1,$=r[L-1],P=0,$==0)for(;P<S;P++)r[y+P]=r[L+P];else if($==1){for(;P<w;P++)r[y+P]=r[L+P];for(;P<S;P++)r[y+P]=r[L+P]+r[y+P-w]}else if($==2)for(;P<S;P++)r[y+P]=r[L+P]+r[y+P-S];else if($==3){for(;P<w;P++)r[y+P]=r[L+P]+(r[y+P-S]>>>1);for(;P<S;P++)r[y+P]=r[L+P]+(r[y+P-S]+r[y+P-w]>>>1)}else{for(;P<w;P++)r[y+P]=r[L+P]+s(0,r[y+P-S],0);for(;P<S;P++)r[y+P]=r[L+P]+s(r[y+P-w],r[y+P-S],r[y+P-w-S])}return r}function s(r,a,o){const u=r+a-o,c=u-r,w=u-a,S=u-o;return c*c<=w*w&&c*c<=S*S?r:w*w<=S*S?a:o}function g(r,a,o){o.width=n.readUint(r,a),a+=4,o.height=n.readUint(r,a),a+=4,o.depth=r[a],a++,o.ctype=r[a],a++,o.compress=r[a],a++,o.filter=r[a],a++,o.interlace=r[a],a++}function m(r,a,o,u,c,w,S,y,L){const $=Math.min(a,c),P=Math.min(o,w);let I=0,x=0;for(let T=0;T<P;T++)for(let p=0;p<$;p++)if(S>=0&&y>=0?(I=T*a+p<<2,x=(y+T)*c+S+p<<2):(I=(-y+T)*a-S+p<<2,x=T*c+p<<2),L==0)u[x]=r[I],u[x+1]=r[I+1],u[x+2]=r[I+2],u[x+3]=r[I+3];else if(L==1){var F=r[I+3]*.00392156862745098,h=r[I]*F,d=r[I+1]*F,A=r[I+2]*F,C=u[x+3]*(1/255),R=u[x]*C,U=u[x+1]*C,k=u[x+2]*C;const f=1-F,z=F+C*f,O=z==0?0:1/z;u[x+3]=255*z,u[x+0]=(h+R*f)*O,u[x+1]=(d+U*f)*O,u[x+2]=(A+k*f)*O}else if(L==2)F=r[I+3],h=r[I],d=r[I+1],A=r[I+2],C=u[x+3],R=u[x],U=u[x+1],k=u[x+2],F==C&&h==R&&d==U&&A==k?(u[x]=0,u[x+1]=0,u[x+2]=0,u[x+3]=0):(u[x]=h,u[x+1]=d,u[x+2]=A,u[x+3]=F);else if(L==3){if(F=r[I+3],h=r[I],d=r[I+1],A=r[I+2],C=u[x+3],R=u[x],U=u[x+1],k=u[x+2],F==C&&h==R&&d==U&&A==k)continue;if(F<220&&C>20)return!1}return!0}return{decode:function(a){const o=new Uint8Array(a);let u=8;const c=n,w=c.readUshort,S=c.readUint,y={tabs:{},frames:[]},L=new Uint8Array(o.length);let $,P=0,I=0;const x=[137,80,78,71,13,10,26,10];for(var F=0;F<8;F++)if(o[F]!=x[F])throw"The input is not a PNG file!";for(;u<o.length;){const T=c.readUint(o,u);u+=4;const p=c.readASCII(o,u,4);if(u+=4,p=="IHDR")g(o,u,y);else if(p=="iCCP"){for(var h=u;o[h]!=0;)h++;c.readASCII(o,u,h-u),o[h+1];const f=o.slice(h+2,u+T);let z=null;try{z=l(f)}catch{z=e(f)}y.tabs[p]=z}else if(p=="CgBI")y.tabs[p]=o.slice(u,u+4);else if(p=="IDAT"){for(F=0;F<T;F++)L[P+F]=o[u+F];P+=T}else if(p=="acTL")y.tabs[p]={num_frames:S(o,u),num_plays:S(o,u+4)},$=new Uint8Array(o.length);else if(p=="fcTL"){I!=0&&((k=y.frames[y.frames.length-1]).data=b(y,$.slice(0,I),k.rect.width,k.rect.height),I=0);const f={x:S(o,u+12),y:S(o,u+16),width:S(o,u+4),height:S(o,u+8)};let z=w(o,u+22);z=w(o,u+20)/(z==0?100:z);const O={rect:f,delay:Math.round(1e3*z),dispose:o[u+24],blend:o[u+25]};y.frames.push(O)}else if(p=="fdAT"){for(F=0;F<T-4;F++)$[I+F]=o[u+F+4];I+=T-4}else if(p=="pHYs")y.tabs[p]=[c.readUint(o,u),c.readUint(o,u+4),o[u+8]];else if(p=="cHRM")for(y.tabs[p]=[],F=0;F<8;F++)y.tabs[p].push(c.readUint(o,u+4*F));else if(p=="tEXt"||p=="zTXt"){y.tabs[p]==null&&(y.tabs[p]={});var d=c.nextZero(o,u),A=c.readASCII(o,u,d-u),C=u+T-d-1;if(p=="tEXt")U=c.readASCII(o,d+1,C);else{var R=l(o.slice(d+2,d+2+C));U=c.readUTF8(R,0,R.length)}y.tabs[p][A]=U}else if(p=="iTXt"){y.tabs[p]==null&&(y.tabs[p]={}),d=0,h=u,d=c.nextZero(o,h),A=c.readASCII(o,h,d-h);const f=o[h=d+1];var U;o[h+1],h+=2,d=c.nextZero(o,h),c.readASCII(o,h,d-h),h=d+1,d=c.nextZero(o,h),c.readUTF8(o,h,d-h),C=T-((h=d+1)-u),f==0?U=c.readUTF8(o,h,C):(R=l(o.slice(h,h+C)),U=c.readUTF8(R,0,R.length)),y.tabs[p][A]=U}else if(p=="PLTE")y.tabs[p]=c.readBytes(o,u,T);else if(p=="hIST"){const f=y.tabs.PLTE.length/3;for(y.tabs[p]=[],F=0;F<f;F++)y.tabs[p].push(w(o,u+2*F))}else if(p=="tRNS")y.ctype==3?y.tabs[p]=c.readBytes(o,u,T):y.ctype==0?y.tabs[p]=w(o,u):y.ctype==2&&(y.tabs[p]=[w(o,u),w(o,u+2),w(o,u+4)]);else if(p=="gAMA")y.tabs[p]=c.readUint(o,u)/1e5;else if(p=="sRGB")y.tabs[p]=o[u];else if(p=="bKGD")y.ctype==0||y.ctype==4?y.tabs[p]=[w(o,u)]:y.ctype==2||y.ctype==6?y.tabs[p]=[w(o,u),w(o,u+2),w(o,u+4)]:y.ctype==3&&(y.tabs[p]=o[u]);else if(p=="IEND")break;u+=T,c.readUint(o,u),u+=4}var k;return I!=0&&((k=y.frames[y.frames.length-1]).data=b(y,$.slice(0,I),k.rect.width,k.rect.height)),y.data=b(y,L,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(a){const o=a.width,u=a.height;if(a.tabs.acTL==null)return[v(a.data,o,u,a).buffer];const c=[];a.frames[0].data==null&&(a.frames[0].data=a.data);const w=o*u*4,S=new Uint8Array(w),y=new Uint8Array(w),L=new Uint8Array(w);for(let P=0;P<a.frames.length;P++){const I=a.frames[P],x=I.rect.x,F=I.rect.y,h=I.rect.width,d=I.rect.height,A=v(I.data,h,d,a);if(P!=0)for(var $=0;$<w;$++)L[$]=S[$];if(I.blend==0?m(A,h,d,S,o,u,x,F,0):I.blend==1&&m(A,h,d,S,o,u,x,F,1),c.push(S.buffer.slice(0)),I.dispose!=0){if(I.dispose==1)m(y,h,d,S,o,u,x,F,0);else if(I.dispose==2)for($=0;$<w;$++)S[$]=L[$]}}return c},_paeth:s,_copyTile:m,_bin:n}}();(function(){const{_copyTile:n}=Ue,{_bin:v}=Ue,b=Ue._paeth;var l={table:function(){const h=new Uint32Array(256);for(let d=0;d<256;d++){let A=d;for(let C=0;C<8;C++)1&A?A=3988292384^A>>>1:A>>>=1;h[d]=A}return h}(),update(h,d,A,C){for(let R=0;R<C;R++)h=l.table[255&(h^d[A+R])]^h>>>8;return h},crc:(h,d,A)=>4294967295^l.update(4294967295,h,d,A)};function e(h,d,A,C){d[A]+=h[0]*C>>4,d[A+1]+=h[1]*C>>4,d[A+2]+=h[2]*C>>4,d[A+3]+=h[3]*C>>4}function t(h){return Math.max(0,Math.min(255,h))}function i(h,d){const A=h[0]-d[0],C=h[1]-d[1],R=h[2]-d[2],U=h[3]-d[3];return A*A+C*C+R*R+U*U}function s(h,d,A,C,R,U,k){k==null&&(k=1);const T=C.length,p=[];for(var f=0;f<T;f++){const M=C[f];p.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(f=0;f<T;f++){let M=4294967295;for(var z=0,O=0;O<T;O++){var B=i(p[f],p[O]);O!=f&&B<M&&(M=B,z=O)}}const V=new Uint32Array(R.buffer),N=new Int16Array(d*A*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(f=0;f<H.length;f++)H[f]=255*((H[f]+.5)/16-.5);for(let M=0;M<A;M++)for(let G=0;G<d;G++){var D;f=4*(M*d+G),k!=2?D=[t(h[f]+N[f]),t(h[f+1]+N[f+1]),t(h[f+2]+N[f+2]),t(h[f+3]+N[f+3])]:(B=H[4*(3&M)+(3&G)],D=[t(h[f]+B),t(h[f+1]+B),t(h[f+2]+B),t(h[f+3]+B)]),z=0;let ae=16777215;for(O=0;O<T;O++){const oe=i(D,p[O]);oe<ae&&(ae=oe,z=O)}const ne=p[z],X=[D[0]-ne[0],D[1]-ne[1],D[2]-ne[2],D[3]-ne[3]];k==1&&(G!=d-1&&e(X,N,f+4,7),M!=A-1&&(G!=0&&e(X,N,f+4*d-4,3),e(X,N,f+4*d,5),G!=d-1&&e(X,N,f+4*d+4,1))),U[f>>2]=z,V[f>>2]=C[z]}}function g(h,d,A,C,R){R==null&&(R={});const{crc:U}=l,k=v.writeUint,T=v.writeUshort,p=v.writeASCII;let f=8;const z=h.frames.length>1;let O,B=!1,V=33+(z?20:0);if(R.sRGB!=null&&(V+=13),R.pHYs!=null&&(V+=21),R.iCCP!=null&&(O=pako.deflate(R.iCCP),V+=21+O.length+4),h.ctype==3){for(var N=h.plte.length,H=0;H<N;H++)h.plte[H]>>>24!=255&&(B=!0);V+=8+3*N+4+(B?8+1*N+4:0)}for(var D=0;D<h.frames.length;D++)z&&(V+=38),V+=(ne=h.frames[D]).cimg.length+12,D!=0&&(V+=4);V+=12;const M=new Uint8Array(V),G=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)M[H]=G[H];if(k(M,f,13),f+=4,p(M,f,"IHDR"),f+=4,k(M,f,d),f+=4,k(M,f,A),f+=4,M[f]=h.depth,f++,M[f]=h.ctype,f++,M[f]=0,f++,M[f]=0,f++,M[f]=0,f++,k(M,f,U(M,f-17,17)),f+=4,R.sRGB!=null&&(k(M,f,1),f+=4,p(M,f,"sRGB"),f+=4,M[f]=R.sRGB,f++,k(M,f,U(M,f-5,5)),f+=4),R.iCCP!=null){const X=13+O.length;k(M,f,X),f+=4,p(M,f,"iCCP"),f+=4,p(M,f,"ICC profile"),f+=11,f+=2,M.set(O,f),f+=O.length,k(M,f,U(M,f-(X+4),X+4)),f+=4}if(R.pHYs!=null&&(k(M,f,9),f+=4,p(M,f,"pHYs"),f+=4,k(M,f,R.pHYs[0]),f+=4,k(M,f,R.pHYs[1]),f+=4,M[f]=R.pHYs[2],f++,k(M,f,U(M,f-13,13)),f+=4),z&&(k(M,f,8),f+=4,p(M,f,"acTL"),f+=4,k(M,f,h.frames.length),f+=4,k(M,f,R.loop!=null?R.loop:0),f+=4,k(M,f,U(M,f-12,12)),f+=4),h.ctype==3){for(k(M,f,3*(N=h.plte.length)),f+=4,p(M,f,"PLTE"),f+=4,H=0;H<N;H++){const X=3*H,oe=h.plte[H],fe=255&oe,ve=oe>>>8&255,Oe=oe>>>16&255;M[f+X+0]=fe,M[f+X+1]=ve,M[f+X+2]=Oe}if(f+=3*N,k(M,f,U(M,f-3*N-4,3*N+4)),f+=4,B){for(k(M,f,N),f+=4,p(M,f,"tRNS"),f+=4,H=0;H<N;H++)M[f+H]=h.plte[H]>>>24&255;f+=N,k(M,f,U(M,f-N-4,N+4)),f+=4}}let ae=0;for(D=0;D<h.frames.length;D++){var ne=h.frames[D];z&&(k(M,f,26),f+=4,p(M,f,"fcTL"),f+=4,k(M,f,ae++),f+=4,k(M,f,ne.rect.width),f+=4,k(M,f,ne.rect.height),f+=4,k(M,f,ne.rect.x),f+=4,k(M,f,ne.rect.y),f+=4,T(M,f,C[D]),f+=2,T(M,f,1e3),f+=2,M[f]=ne.dispose,f++,M[f]=ne.blend,f++,k(M,f,U(M,f-30,30)),f+=4);const X=ne.cimg;k(M,f,(N=X.length)+(D==0?0:4)),f+=4;const oe=f;p(M,f,D==0?"IDAT":"fdAT"),f+=4,D!=0&&(k(M,f,ae++),f+=4),M.set(X,f),f+=N,k(M,f,U(M,oe,f-oe)),f+=4}return k(M,f,0),f+=4,p(M,f,"IEND"),f+=4,k(M,f,U(M,f-4,4)),f+=4,M.buffer}function m(h,d,A){for(let C=0;C<h.frames.length;C++){const R=h.frames[C];R.rect.width;const U=R.rect.height,k=new Uint8Array(U*R.bpl+U);R.cimg=u(R.img,U,R.bpp,R.bpl,k,d,A)}}function r(h,d,A,C,R){const U=R[0],k=R[1],T=R[2],p=R[3],f=R[4],z=R[5];let O=6,B=8,V=255;for(var N=0;N<h.length;N++){const he=new Uint8Array(h[N]);for(var H=he.length,D=0;D<H;D+=4)V&=he[D+3]}const M=V!=255,G=function(se,E,W,j,Z,K){const J=[];for(var Y=0;Y<se.length;Y++){const Re=new Uint8Array(se[Y]),Pe=new Uint32Array(Re.buffer);var ce;let ke=0,Le=0,Ie=E,Ne=W,xt=j?1:0;if(Y!=0){const en=K||j||Y==1||J[Y-2].dispose!=0?1:2;let Ct=0,Dt=1e9;for(let rt=0;rt<en;rt++){var ye=new Uint8Array(se[Y-1-rt]);const tn=new Uint32Array(se[Y-1-rt]);let Me=E,Be=W,Ze=-1,nt=-1;for(let je=0;je<W;je++)for(let He=0;He<E;He++)Pe[xe=je*E+He]!=tn[xe]&&(He<Me&&(Me=He),He>Ze&&(Ze=He),je<Be&&(Be=je),je>nt&&(nt=je));Ze==-1&&(Me=Be=Ze=nt=0),Z&&((1&Me)==1&&Me--,(1&Be)==1&&Be--);const Nt=(Ze-Me+1)*(nt-Be+1);Nt<Dt&&(Dt=Nt,Ct=rt,ke=Me,Le=Be,Ie=Ze-Me+1,Ne=nt-Be+1)}ye=new Uint8Array(se[Y-1-Ct]),Ct==1&&(J[Y-1].dispose=2),ce=new Uint8Array(Ie*Ne*4),n(ye,E,W,ce,Ie,Ne,-ke,-Le,0),xt=n(Re,E,W,ce,Ie,Ne,-ke,-Le,3)?1:0,xt==1?o(Re,E,W,ce,{x:ke,y:Le,width:Ie,height:Ne}):n(Re,E,W,ce,Ie,Ne,-ke,-Le,0)}else ce=Re.slice(0);J.push({rect:{x:ke,y:Le,width:Ie,height:Ne},img:ce,blend:xt,dispose:0})}if(j)for(Y=0;Y<J.length;Y++){if((De=J[Y]).blend==1)continue;const Re=De.rect,Pe=J[Y-1].rect,ke=Math.min(Re.x,Pe.x),Le=Math.min(Re.y,Pe.y),Ie={x:ke,y:Le,width:Math.max(Re.x+Re.width,Pe.x+Pe.width)-ke,height:Math.max(Re.y+Re.height,Pe.y+Pe.height)-Le};J[Y-1].dispose=1,Y-1!=0&&a(se,E,W,J,Y-1,Ie,Z),a(se,E,W,J,Y,Ie,Z)}let lt=0;if(se.length!=1)for(var xe=0;xe<J.length;xe++){var De;lt+=(De=J[xe]).rect.width*De.rect.height}return J}(h,d,A,U,k,T),ae={},ne=[],X=[];if(C!=0){const he=[];for(D=0;D<G.length;D++)he.push(G[D].img.buffer);const se=function(Z){let K=0;for(var J=0;J<Z.length;J++)K+=Z[J].byteLength;const Y=new Uint8Array(K);let ce=0;for(J=0;J<Z.length;J++){const ye=new Uint8Array(Z[J]),lt=ye.length;for(let xe=0;xe<lt;xe+=4){let De=ye[xe],Re=ye[xe+1],Pe=ye[xe+2];const ke=ye[xe+3];ke==0&&(De=Re=Pe=0),Y[ce+xe]=De,Y[ce+xe+1]=Re,Y[ce+xe+2]=Pe,Y[ce+xe+3]=ke}ce+=lt}return Y.buffer}(he),E=w(se,C);for(D=0;D<E.plte.length;D++)ne.push(E.plte[D].est.rgba);let W=0;for(D=0;D<G.length;D++){const j=(fe=G[D]).img.length;var oe=new Uint8Array(E.inds.buffer,W>>2,j>>2);X.push(oe);const Z=new Uint8Array(E.abuf,W,j);z&&s(fe.img,fe.rect.width,fe.rect.height,ne,Z,oe),fe.img.set(Z),W+=j}}else for(N=0;N<G.length;N++){var fe=G[N];const he=new Uint32Array(fe.img.buffer);var ve=fe.rect.width;for(H=he.length,oe=new Uint8Array(H),X.push(oe),D=0;D<H;D++){const se=he[D];if(D!=0&&se==he[D-1])oe[D]=oe[D-1];else if(D>ve&&se==he[D-ve])oe[D]=oe[D-ve];else{let E=ae[se];if(E==null&&(ae[se]=E=ne.length,ne.push(se),ne.length>=300))break;oe[D]=E}}}const Oe=ne.length;for(Oe<=256&&f==0&&(B=Oe<=2?1:Oe<=4?2:Oe<=16?4:8,B=Math.max(B,p)),N=0;N<G.length;N++){(fe=G[N]).rect.x,fe.rect.y,ve=fe.rect.width;const he=fe.rect.height;let se=fe.img;new Uint32Array(se.buffer);let E=4*ve,W=4;if(Oe<=256&&f==0){E=Math.ceil(B*ve/8);var Se=new Uint8Array(E*he);const j=X[N];for(let Z=0;Z<he;Z++){D=Z*E;const K=Z*ve;if(B==8)for(var ue=0;ue<ve;ue++)Se[D+ue]=j[K+ue];else if(B==4)for(ue=0;ue<ve;ue++)Se[D+(ue>>1)]|=j[K+ue]<<4-4*(1&ue);else if(B==2)for(ue=0;ue<ve;ue++)Se[D+(ue>>2)]|=j[K+ue]<<6-2*(3&ue);else if(B==1)for(ue=0;ue<ve;ue++)Se[D+(ue>>3)]|=j[K+ue]<<7-1*(7&ue)}se=Se,O=3,W=1}else if(M==0&&G.length==1){Se=new Uint8Array(ve*he*3);const j=ve*he;for(D=0;D<j;D++){const Z=3*D,K=4*D;Se[Z]=se[K],Se[Z+1]=se[K+1],Se[Z+2]=se[K+2]}se=Se,O=2,W=3,E=3*ve}fe.img=se,fe.bpl=E,fe.bpp=W}return{ctype:O,depth:B,plte:ne,frames:G}}function a(h,d,A,C,R,U,k){const T=Uint8Array,p=Uint32Array,f=new T(h[R-1]),z=new p(h[R-1]),O=R+1<h.length?new T(h[R+1]):null,B=new T(h[R]),V=new p(B.buffer);let N=d,H=A,D=-1,M=-1;for(let ae=0;ae<U.height;ae++)for(let ne=0;ne<U.width;ne++){const X=U.x+ne,oe=U.y+ae,fe=oe*d+X,ve=V[fe];ve==0||C[R-1].dispose==0&&z[fe]==ve&&(O==null||O[4*fe+3]!=0)||(X<N&&(N=X),X>D&&(D=X),oe<H&&(H=oe),oe>M&&(M=oe))}D==-1&&(N=H=D=M=0),k&&((1&N)==1&&N--,(1&H)==1&&H--),U={x:N,y:H,width:D-N+1,height:M-H+1};const G=C[R];G.rect=U,G.blend=1,G.img=new Uint8Array(U.width*U.height*4),C[R-1].dispose==0?(n(f,d,A,G.img,U.width,U.height,-U.x,-U.y,0),o(B,d,A,G.img,U)):n(B,d,A,G.img,U.width,U.height,-U.x,-U.y,0)}function o(h,d,A,C,R){n(h,d,A,C,R.width,R.height,-R.x,-R.y,2)}function u(h,d,A,C,R,U,k){const T=[];let p,f=[0,1,2,3,4];U!=-1?f=[U]:(d*C>5e5||A==1)&&(f=[0]),k&&(p={level:0});const z=Gi;for(var O=0;O<f.length;O++){for(let N=0;N<d;N++)c(R,h,N,C,A,f[O]);T.push(z.deflate(R,p))}let B,V=1e9;for(O=0;O<T.length;O++)T[O].length<V&&(B=O,V=T[O].length);return T[B]}function c(h,d,A,C,R,U){const k=A*C;let T=k+A;if(h[T]=U,T++,U==0)if(C<500)for(var p=0;p<C;p++)h[T+p]=d[k+p];else h.set(new Uint8Array(d.buffer,k,C),T);else if(U==1){for(p=0;p<R;p++)h[T+p]=d[k+p];for(p=R;p<C;p++)h[T+p]=d[k+p]-d[k+p-R]+256&255}else if(A==0){for(p=0;p<R;p++)h[T+p]=d[k+p];if(U==2)for(p=R;p<C;p++)h[T+p]=d[k+p];if(U==3)for(p=R;p<C;p++)h[T+p]=d[k+p]-(d[k+p-R]>>1)+256&255;if(U==4)for(p=R;p<C;p++)h[T+p]=d[k+p]-b(d[k+p-R],0,0)+256&255}else{if(U==2)for(p=0;p<C;p++)h[T+p]=d[k+p]+256-d[k+p-C]&255;if(U==3){for(p=0;p<R;p++)h[T+p]=d[k+p]+256-(d[k+p-C]>>1)&255;for(p=R;p<C;p++)h[T+p]=d[k+p]+256-(d[k+p-C]+d[k+p-R]>>1)&255}if(U==4){for(p=0;p<R;p++)h[T+p]=d[k+p]+256-b(0,d[k+p-C],0)&255;for(p=R;p<C;p++)h[T+p]=d[k+p]+256-b(d[k+p-R],d[k+p-C],d[k+p-R-C])&255}}}function w(h,d){const A=new Uint8Array(h),C=A.slice(0),R=new Uint32Array(C.buffer),U=S(C,d),k=U[0],T=U[1],p=A.length,f=new Uint8Array(p>>2);let z;if(A.length<2e7)for(var O=0;O<p;O+=4)z=y(k,B=A[O]*(1/255),V=A[O+1]*(1/255),N=A[O+2]*(1/255),H=A[O+3]*(1/255)),f[O>>2]=z.ind,R[O>>2]=z.est.rgba;else for(O=0;O<p;O+=4){var B=A[O]*.00392156862745098,V=A[O+1]*(1/255),N=A[O+2]*(1/255),H=A[O+3]*(1/255);for(z=k;z.left;)z=L(z.est,B,V,N,H)<=0?z.left:z.right;f[O>>2]=z.ind,R[O>>2]=z.est.rgba}return{abuf:C.buffer,inds:f,plte:T}}function S(h,d,A){A==null&&(A=1e-4);const C=new Uint32Array(h.buffer),R={i0:0,i1:h.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=I(h,R.i0,R.i1),R.est=x(R.bst);const U=[R];for(;U.length<d;){let T=0,p=0;for(var k=0;k<U.length;k++)U[k].est.L>T&&(T=U[k].est.L,p=k);if(T<A)break;const f=U[p],z=$(h,C,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=z||f.i1<=z){f.est.L=0;continue}const O={i0:f.i0,i1:z,bst:null,est:null,tdst:0,left:null,right:null};O.bst=I(h,O.i0,O.i1),O.est=x(O.bst);const B={i0:z,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:f.bst.N-O.bst.N},k=0;k<16;k++)B.bst.R[k]=f.bst.R[k]-O.bst.R[k];for(k=0;k<4;k++)B.bst.m[k]=f.bst.m[k]-O.bst.m[k];B.est=x(B.bst),f.left=O,f.right=B,U[p]=O,U.push(B)}for(U.sort((T,p)=>p.bst.N-T.bst.N),k=0;k<U.length;k++)U[k].ind=k;return[R,U]}function y(h,d,A,C,R){if(h.left==null)return h.tdst=function(O,B,V,N,H){const D=B-O[0],M=V-O[1],G=N-O[2],ae=H-O[3];return D*D+M*M+G*G+ae*ae}(h.est.q,d,A,C,R),h;const U=L(h.est,d,A,C,R);let k=h.left,T=h.right;U>0&&(k=h.right,T=h.left);const p=y(k,d,A,C,R);if(p.tdst<=U*U)return p;const f=y(T,d,A,C,R);return f.tdst<p.tdst?f:p}function L(h,d,A,C,R){const{e:U}=h;return U[0]*d+U[1]*A+U[2]*C+U[3]*R-h.eMq}function $(h,d,A,C,R,U){for(C-=4;A<C;){for(;P(h,A,R)<=U;)A+=4;for(;P(h,C,R)>U;)C-=4;if(A>=C)break;const k=d[A>>2];d[A>>2]=d[C>>2],d[C>>2]=k,A+=4,C-=4}for(;P(h,A,R)>U;)A-=4;return A+4}function P(h,d,A){return h[d]*A[0]+h[d+1]*A[1]+h[d+2]*A[2]+h[d+3]*A[3]}function I(h,d,A){const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],U=A-d>>2;for(let k=d;k<A;k+=4){const T=h[k]*.00392156862745098,p=h[k+1]*(1/255),f=h[k+2]*(1/255),z=h[k+3]*(1/255);R[0]+=T,R[1]+=p,R[2]+=f,R[3]+=z,C[0]+=T*T,C[1]+=T*p,C[2]+=T*f,C[3]+=T*z,C[5]+=p*p,C[6]+=p*f,C[7]+=p*z,C[10]+=f*f,C[11]+=f*z,C[15]+=z*z}return C[4]=C[1],C[8]=C[2],C[9]=C[6],C[12]=C[3],C[13]=C[7],C[14]=C[11],{R:C,m:R,N:U}}function x(h){const{R:d}=h,{m:A}=h,{N:C}=h,R=A[0],U=A[1],k=A[2],T=A[3],p=C==0?0:1/C,f=[d[0]-R*R*p,d[1]-R*U*p,d[2]-R*k*p,d[3]-R*T*p,d[4]-U*R*p,d[5]-U*U*p,d[6]-U*k*p,d[7]-U*T*p,d[8]-k*R*p,d[9]-k*U*p,d[10]-k*k*p,d[11]-k*T*p,d[12]-T*R*p,d[13]-T*U*p,d[14]-T*k*p,d[15]-T*T*p],z=f,O=F;let B=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,N=0;if(C!=0)for(let D=0;D<16&&(B=O.multVec(z,B),N=Math.sqrt(O.dot(B,B)),B=O.sml(1/N,B),!(D!=0&&Math.abs(N-V)<1e-9));D++)V=N;const H=[R*p,U*p,k*p,T*p];return{Cov:f,q:H,e:B,L:V,eMq255:O.dot(O.sml(255,H),B),eMq:O.dot(B,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var F={multVec:(h,d)=>[h[0]*d[0]+h[1]*d[1]+h[2]*d[2]+h[3]*d[3],h[4]*d[0]+h[5]*d[1]+h[6]*d[2]+h[7]*d[3],h[8]*d[0]+h[9]*d[1]+h[10]*d[2]+h[11]*d[3],h[12]*d[0]+h[13]*d[1]+h[14]*d[2]+h[15]*d[3]],dot:(h,d)=>h[0]*d[0]+h[1]*d[1]+h[2]*d[2]+h[3]*d[3],sml:(h,d)=>[h*d[0],h*d[1],h*d[2],h*d[3]]};Ue.encode=function(d,A,C,R,U,k,T){R==null&&(R=0),T==null&&(T=!1);const p=r(d,A,C,R,[!1,!1,!1,0,T,!1]);return m(p,-1),g(p,A,C,U,k)},Ue.encodeLL=function(d,A,C,R,U,k,T,p){const f={ctype:0+(R==1?0:2)+(U==0?0:4),depth:k,frames:[]},z=(R+U)*k,O=z*A;for(let B=0;B<d.length;B++)f.frames.push({rect:{x:0,y:0,width:A,height:C},img:new Uint8Array(d[B]),blend:0,dispose:1,bpp:Math.ceil(z/8),bpl:Math.ceil(O/8)});return m(f,0,!0),g(f,A,C,T,p)},Ue.encode.compress=r,Ue.encode.dither=s,Ue.quantize=w,Ue.quantize.getKDtree=S,Ue.quantize.getNearest=y})();const Wr={toArrayBuffer(n,v){const b=n.width,l=n.height,e=b<<2,t=n.getContext("2d").getImageData(0,0,b,l),i=new Uint32Array(t.data.buffer),s=(32*b+31)/32<<2,g=s*l,m=122+g,r=new ArrayBuffer(m),a=new DataView(r),o=1<<20;let u,c,w,S,y=o,L=0,$=0,P=0;function I(h){a.setUint16($,h,!0),$+=2}function x(h){a.setUint32($,h,!0),$+=4}function F(h){$+=h}I(19778),x(m),F(4),x(122),x(108),x(b),x(-l>>>0),I(1),I(32),x(3),x(g),x(2835),x(2835),F(8),x(16711680),x(65280),x(255),x(4278190080),x(1466527264),function h(){for(;L<l&&y>0;){for(S=122+L*s,u=0;u<e;)y--,c=i[P++],w=c>>>24,a.setUint32(S+u,c<<8|w),u+=4;L++}P<i.length?(y=o,setTimeout(h,Wr._dly)):v(r)}()},toBlob(n,v){this.toArrayBuffer(n,b=>{v(new Blob([b],{type:"image/bmp"}))})},_dly:9};var Ae={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Zi={[Ae.CHROME]:16384,[Ae.FIREFOX]:11180,[Ae.DESKTOP_SAFARI]:16384,[Ae.IE]:8192,[Ae.IOS]:4096,[Ae.ETC]:8192};const Bt=typeof window<"u",Vr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,vt=Bt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Xi=(Bt||Vr)&&(vt&&vt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qr=(Bt||Vr)&&(vt&&vt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Et(n,v,b=Date.now()){return new Promise(l=>{const e=n.split(","),t=e[0].match(/:(.*?);/)[1],i=globalThis.atob(e[1]);let s=i.length;const g=new Uint8Array(s);for(;s--;)g[s]=i.charCodeAt(s);const m=new Blob([g],{type:t});m.name=v,m.lastModified=b,l(m)})}function Gr(n){return new Promise((v,b)=>{const l=new qr;l.onload=()=>v(l.result),l.onerror=e=>b(e),l.readAsDataURL(n)})}function Zr(n){return new Promise((v,b)=>{const l=new Image;l.onload=()=>v(l),l.onerror=e=>b(e),l.src=n})}function qe(){if(qe.cachedResult!==void 0)return qe.cachedResult;let n=Ae.ETC;const{userAgent:v}=navigator;return/Chrom(e|ium)/i.test(v)?n=Ae.CHROME:/iP(ad|od|hone)/i.test(v)&&/WebKit/i.test(v)?n=Ae.IOS:/Safari/i.test(v)?n=Ae.DESKTOP_SAFARI:/Firefox/i.test(v)?n=Ae.FIREFOX:(/MSIE/i.test(v)||document.documentMode)&&(n=Ae.IE),qe.cachedResult=n,qe.cachedResult}function Xr(n,v){const b=qe(),l=Zi[b];let e=n,t=v,i=e*t;const s=e>t?t/e:e/t;for(;i>l*l;){const g=(l+e)/2,m=(l+t)/2;g<m?(t=m,e=m*s):(t=g*s,e=g),i=e*t}return{width:e,height:t}}function yt(n,v){let b,l;try{if(b=new OffscreenCanvas(n,v),l=b.getContext("2d"),l===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{b=document.createElement("canvas"),l=b.getContext("2d")}return b.width=n,b.height=v,[b,l]}function Yr(n,v){const{width:b,height:l}=Xr(n.width,n.height),[e,t]=yt(b,l);return v&&/jpe?g/.test(v)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(n,0,0,e.width,e.height),e}function ht(){return ht.cachedResult!==void 0||(ht.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ht.cachedResult}function mt(n,v={}){return new Promise(function(b,l){let e,t;var i=function(){try{return t=Yr(e,v.fileType||n.type),b([e,t])}catch(g){return l(g)}},s=function(g){try{var m=function(r){try{throw r}catch(a){return l(a)}};try{let r;return Gr(n).then(function(a){try{return r=a,Zr(r).then(function(o){try{return e=o,function(){try{return i()}catch(u){return l(u)}}()}catch(u){return m(u)}},m)}catch(o){return m(o)}},m)}catch(r){m(r)}}catch(r){return l(r)}};try{if(ht()||[Ae.DESKTOP_SAFARI,Ae.MOBILE_SAFARI].includes(qe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(g){try{return e=g,i()}catch{return s()}},s)}catch{s()}})}function bt(n,v,b,l,e=1){return new Promise(function(t,i){let s;if(v==="image/png"){let m,r,a;return m=n.getContext("2d"),{data:r}=m.getImageData(0,0,n.width,n.height),a=Ue.encode([r.buffer],n.width,n.height,4096*e),s=new Blob([a],{type:v}),s.name=b,s.lastModified=l,g.call(this)}{let m=function(){return g.call(this)};if(v==="image/bmp")return new Promise(r=>Wr.toBlob(n,r)).then((function(r){try{return s=r,s.name=b,s.lastModified=l,m.call(this)}catch(a){return i(a)}}).bind(this),i);{let r=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:v,quality:e}).then((function(a){try{return s=a,s.name=b,s.lastModified=l,r.call(this)}catch(o){return i(o)}}).bind(this),i);{let a;return a=n.toDataURL(v,e),Et(a,b,l).then((function(o){try{return s=o,r.call(this)}catch(u){return i(u)}}).bind(this),i)}}}function g(){return t(s)}})}function Te(n){n.width=0,n.height=0}function Qe(){return new Promise(function(n,v){let b,l,e,t;return Qe.cachedResult!==void 0?n(Qe.cachedResult):Et("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(i){try{return b=i,mt(b).then(function(s){try{return l=s[1],bt(l,b.type,b.name,b.lastModified).then(function(g){try{return e=g,Te(l),mt(e).then(function(m){try{return t=m[0],Qe.cachedResult=t.width===1&&t.height===2,n(Qe.cachedResult)}catch(r){return v(r)}},v)}catch(m){return v(m)}},v)}catch(g){return v(g)}},v)}catch(s){return v(s)}},v)})}function Qr(n){return new Promise((v,b)=>{const l=new qr;l.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return v(-2);const i=t.byteLength;let s=2;for(;s<i;){if(t.getUint16(s+2,!1)<=8)return v(-1);const g=t.getUint16(s,!1);if(s+=2,g==65505){if(t.getUint32(s+=2,!1)!=1165519206)return v(-1);const m=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,m);const r=t.getUint16(s,m);s+=2;for(let a=0;a<r;a++)if(t.getUint16(s+12*a,m)==274)return v(t.getUint16(s+12*a+8,m))}else{if((65280&g)!=65280)break;s+=t.getUint16(s,!1)}}return v(-1)},l.onerror=e=>b(e),l.readAsArrayBuffer(n)})}function Kr(n,v){const{width:b}=n,{height:l}=n,{maxWidthOrHeight:e}=v;let t,i=n;return isFinite(e)&&(b>e||l>e)&&([i,t]=yt(b,l),b>l?(i.width=e,i.height=l/b*e):(i.width=b/l*e,i.height=e),t.drawImage(n,0,0,i.width,i.height),Te(n)),i}function Jr(n,v){const{width:b}=n,{height:l}=n,[e,t]=yt(b,l);switch(v>4&&v<9?(e.width=l,e.height=b):(e.width=b,e.height=l),v){case 2:t.transform(-1,0,0,1,b,0);break;case 3:t.transform(-1,0,0,-1,b,l);break;case 4:t.transform(1,0,0,-1,0,l);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,l,0);break;case 7:t.transform(0,-1,-1,0,l,b);break;case 8:t.transform(0,-1,1,0,0,b)}return t.drawImage(n,0,0,b,l),Te(n),e}function nr(n,v,b=0){return new Promise(function(l,e){let t,i,s,g,m,r,a,o,u,c,w,S,y,L,$,P,I,x,F,h;function d(C=5){if(v.signal&&v.signal.aborted)throw v.signal.reason;t+=C,v.onProgress(Math.min(t,100))}function A(C){if(v.signal&&v.signal.aborted)throw v.signal.reason;t=Math.min(Math.max(C,t),100),v.onProgress(t)}return t=b,i=v.maxIteration||10,s=1024*v.maxSizeMB*1024,d(),mt(n,v).then((function(C){try{return[,g]=C,d(),m=Kr(g,v),d(),new Promise(function(R,U){var k;if(!(k=v.exifOrientation))return Qr(n).then((function(p){try{return k=p,T.call(this)}catch(f){return U(f)}}).bind(this),U);function T(){return R(k)}return T.call(this)}).then((function(R){try{return r=R,d(),Qe().then((function(U){try{return a=U?m:Jr(m,r),d(),o=v.initialQuality||1,u=v.fileType||n.type,bt(a,u,n.name,n.lastModified,o).then((function(k){try{{let p=function(){if(i--&&($>s||$>y)){let z,O;return z=h?.95*F.width:F.width,O=h?.95*F.height:F.height,[I,x]=yt(z,O),x.drawImage(F,0,0,z,O),o*=u==="image/png"?.85:.95,bt(I,u,n.name,n.lastModified,o).then(function(B){try{return P=B,Te(F),F=I,$=P.size,A(Math.min(99,Math.floor((L-$)/(L-s)*100))),p}catch(V){return e(V)}},e)}return[1]},f=function(){return Te(F),Te(I),Te(m),Te(a),Te(g),A(100),l(P)};if(c=k,d(),w=c.size>s,S=c.size>n.size,!w&&!S)return A(100),l(c);var T;return y=n.size,L=c.size,$=L,F=a,h=!v.alwaysKeepResolution&&w,(T=(function(z){for(;z;){if(z.then)return void z.then(T,e);try{if(z.pop){if(z.length)return z.pop()?f.call(this):z;z=p}else z=z.call(this)}catch(O){return e(O)}}}).bind(this))(p)}}catch(p){return e(p)}}).bind(this),e)}catch(k){return e(k)}}).bind(this),e)}catch(U){return e(U)}}).bind(this),e)}catch(R){return e(R)}}).bind(this),e)})}const Yi=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let kt;function Qi(n,v){return new Promise((b,l)=>{kt||(kt=function(i){const s=[];return s.push(i),URL.createObjectURL(new Blob(s))}(Yi));const e=new Worker(kt);e.addEventListener("message",function(i){if(v.signal&&v.signal.aborted)e.terminate();else if(i.data.progress===void 0){if(i.data.error)return l(new Error(i.data.error)),void e.terminate();b(i.data.file),e.terminate()}else v.onProgress(i.data.progress)}),e.addEventListener("error",l),v.signal&&v.signal.addEventListener("abort",()=>{l(v.signal.reason),e.terminate()}),e.postMessage({file:n,imageCompressionLibUrl:v.libURL,options:{...v,onProgress:void 0,signal:void 0}})})}function Ce(n,v){return new Promise(function(b,l){let e,t,i,s,g,m;if(e={...v},i=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=u=>{i=u,typeof s=="function"&&s(i)},!(n instanceof Blob||n instanceof Xi))return l(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return l(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||m)return nr(n,e).then((function(u){try{return t=u,o.call(this)}catch(c){return l(c)}}).bind(this),l);var r=(function(){try{return o.call(this)}catch(u){return l(u)}}).bind(this),a=function(u){try{return nr(n,e).then(function(c){try{return t=c,r()}catch(w){return l(w)}},l)}catch(c){return l(c)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Qi(n,e).then(function(u){try{return t=u,r()}catch{return a()}},a)}catch{a()}function o(){try{t.name=n.name,t.lastModified=n.lastModified}catch{}try{e.preserveExif&&n.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===n.type)&&(t=Hr(n,t))}catch{}return b(t)}})}Ce.getDataUrlFromFile=Gr,Ce.getFilefromDataUrl=Et,Ce.loadImage=Zr,Ce.drawImageInCanvas=Yr,Ce.drawFileInCanvas=mt,Ce.canvasToFile=bt,Ce.getExifOrientation=Qr,Ce.handleMaxWidthOrHeight=Kr,Ce.followExifOrientation=Jr,Ce.cleanupCanvasMemory=Te,Ce.isAutoOrientationInBrowser=Qe,Ce.approximateBelowMaximumCanvasSizeOfBrowser=Xr,Ce.copyExifWithoutOrientation=Hr,Ce.getBrowserName=qe,Ce.version="2.0.2";const Ki={class:"image-uploader-wrapper"},Ji={class:"dragger-content"},ea={class:"upload-hint"},ta=pe({__name:"ImageUploader",emits:["success","error"],setup(n,{emit:v}){const b=v,l=zt(),e=pr(),t=ie([]),i=ie(!1);async function s({file:m,onFinish:r,onError:a,onProgress:o}){if(!e.user){l.error("请先登录"),a();return}i.value=!0;try{const u=m.file,c={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};o({percent:20});const w=await Ce(u,c);o({percent:50});const S=u.name.split(".").pop(),L=`restaurant-images/${`${e.user.id}/${Date.now()}.${S}`}`,{error:$}=await Tt.storage.from("food-images").upload(L,w,{upsert:!0});if($)throw $;const{data:{publicUrl:P}}=Tt.storage.from("food-images").getPublicUrl(L);o({percent:100}),r(),b("success",P),l.success("图片上传成功")}catch(u){console.error("Upload error:",u),l.error("图片上传失败: "+u.message),a(),b("error",u)}finally{i.value=!1}}function g(){b("success","")}return(m,r)=>(Ee(),Je("div",Ki,[re(te(Mi),{"file-list":t.value,"onUpdate:fileList":r[0]||(r[0]=a=>t.value=a),"directory-dnd":"",max:1,accept:"image/*","list-type":"image-card","custom-request":s,onRemove:g},{default:ge(()=>[t.value.length===0?(Ee(),vr(te(Br),{key:0},{default:ge(()=>[me("div",Ji,[re(te(br),{size:"30",depth:3},{default:ge(()=>[re(te(Hi))]),_:1}),re(te(mi),{style:{"font-size":"12px","margin-top":"4px"},depth:"3"},{default:ge(()=>[...r[1]||(r[1]=[ot(" 上传图片 ",-1)])]),_:1})])]),_:1})):Sn("",!0)]),_:1},8,["file-list"]),me("div",ea,[re(te(gi),{depth:"3",style:{margin:"8px 0 0 0","font-size":"12px","line-height":"1.5"}},{default:ge(()=>[...r[2]||(r[2]=[ot(" 支持 JPG, PNG, WebP",-1),me("br",null,null,-1),ot(" 自动压缩至 1MB 以内 ",-1)])]),_:1})])]))}}),ra=wt(ta,[["__scopeId","data-v-7e72646e"]]),na={class:"address-picker"},oa={class:"picker-dropdown"},ia={class:"options-list"},aa=["onMousedown"],la={class:"option-name"},sa={class:"option-address"},ua=pe({__name:"AddressPicker",emits:["select"],setup(n,{emit:v}){const b=v,l=ie([]),e=ie(""),t=ie(!1),i=ie(!1),s=ie(!1);let g=null,m=null,r=null;Ut(async()=>{try{const S="4c07c0ea7823f62a296cf8fe1c63a051";console.log("[AddressPicker] Loading AMap with key:",S.substring(0,8)+"..."),m=await Nn.load({key:S,version:"2.0",plugins:["AMap.AutoComplete","AMap.PlaceSearch"]}),g=new m.AutoComplete({city:"全国",datatype:"all"}),s.value=!0,console.log("[AddressPicker] AMap loaded successfully!")}catch(S){console.error("[AddressPicker] AMap load failed:",S)}}),ar(e,S=>{if(r&&clearTimeout(r),!S||S.trim().length===0){l.value=[],t.value=!1,i.value=!1;return}i.value=!0,r=setTimeout(()=>{a(S.trim())},300)});function a(S){if(!g){console.warn("[AddressPicker] AutoComplete not ready, AMap may not be loaded"),i.value=!1;return}console.log("[AddressPicker] Searching:",S),g.search(S,(y,L)=>{if(i.value=!1,console.log("[AddressPicker] Search result:",y,L),y==="complete"&&L.tips&&Array.isArray(L.tips)){const $=L.tips.filter(P=>!(!P.id||!P.name));l.value=$.map(P=>({label:`${P.name} - ${P.district||""}${typeof P.address=="string"?P.address:""}`,value:P.name,data:P})),t.value=l.value.length>0,console.log("[AddressPicker] Found",l.value.length,"results")}else y==="no_data"?(console.log("[AddressPicker] No results found for:",S),l.value=[],t.value=!1):(console.warn("[AddressPicker] Search failed or unexpected status:",y),l.value=[],t.value=!1)})}function o(S){const y=S.data;if(y){console.log("[AddressPicker] Selected:",y);const L=y.location;let $=null,P=null;L&&($=typeof L.getLng=="function"?L.getLng():L.lng||null,P=typeof L.getLat=="function"?L.getLat():L.lat||null);const I=typeof y.address=="string"?y.address:y.district||y.name,x={name:y.name,address:I,city:w(y.district||""),district:y.district||"",location:$&&P?{lng:$,lat:P}:null};console.log("[AddressPicker] Emitting:",x),b("select",x),e.value=y.name,t.value=!1,l.value=[]}}function u(){e.value&&l.value.length>0&&(t.value=!0)}function c(){setTimeout(()=>{t.value=!1},200)}function w(S){if(S.includes("市")){const y=S.match(/.*?(省|自治区)?(.*?)市/);return y?y[2]:S}return S.split(" ")[0]||""}return(S,y)=>(Ee(),Je("div",na,[re(te(Ot),{value:e.value,"onUpdate:value":y[0]||(y[0]=L=>e.value=L),placeholder:"输入餐厅名称或地址进行搜索",clearable:"",onFocus:u,onBlur:c},null,8,["value"]),_t(me("div",oa,[re(te(mr),{"content-style":"padding: 0;",bordered:!0},{default:ge(()=>[re(te(Mn),{style:{"max-height":"300px"}},{default:ge(()=>[me("ul",ia,[(Ee(!0),Je(Ke,null,kn(l.value,L=>(Ee(),Je("li",{key:L.data.id,class:"option-item",onMousedown:$=>o(L)},[me("div",la,St(L.data.name),1),me("div",sa,St(L.data.district)+St(typeof L.data.address=="string"?L.data.address:""),1)],40,aa))),128))])]),_:1})]),_:1})],512),[[ir,t.value&&l.value.length>0]])]))}}),ca=wt(ua,[["__scopeId","data-v-2b4098b7"]]),da={class:"form-section"},fa={class:"form-section"},ha={class:"form-row"},ga={class:"form-section"},pa={class:"form-actions"},va=pe({__name:"RestaurantForm",emits:["submit","cancel"],setup(n,{emit:v}){const b=v,l=zt(),e=ie(null),t=ie(!1),i=_n({name:"",tier:"npc",category:"chinese",price_per_person:50,address:"",city:"",district:"",latitude:null,longitude:null,recommendation:"",image_url:""}),s={name:{required:!0,message:"请输入餐厅名称",trigger:"blur"},tier:{required:!0,message:"请选择评级",trigger:"change"},category:{required:!0,message:"请选择类别",trigger:"change"},address:{required:!0,message:"请选择地址",trigger:"change"}},g=Object.entries(Tn).map(([u,c])=>({label:`${c.emoji} ${c.label}`,value:u})),m=Object.entries(On).map(([u,c])=>({label:`${c.emoji} ${c.label}`,value:u}));function r(u){console.log("[RestaurantForm] Address selected:",u),i.address=u.address||"",i.city=u.city||"",i.district=u.district||"",u.location?(i.latitude=u.location.lat,i.longitude=u.location.lng):(i.latitude=null,i.longitude=null),i.name||(i.name=u.name)}function a(u){i.image_url=u}async function o(){var u;try{await((u=e.value)==null?void 0:u.validate()),t.value=!0,b("submit",{...i})}catch{l.error("请填写完整信息")}finally{t.value=!1}}return(u,c)=>(Ee(),vr(te(jn),{ref_key:"formRef",ref:e,model:i,rules:s,"label-placement":"top",class:"restaurant-form"},{default:ge(()=>[me("div",da,[c[6]||(c[6]=me("h3",{class:"section-title"},"📍 位置信息",-1)),re(te(We),{label:"搜索地址",path:"address"},{default:ge(()=>[re(ca,{onSelect:r})]),_:1}),re(te(We),{label:"餐厅名称",path:"name"},{default:ge(()=>[re(te(Ot),{value:i.name,"onUpdate:value":c[0]||(c[0]=w=>i.name=w),placeholder:"请输入或从地址搜索"},null,8,["value"])]),_:1})]),re(te(Qt)),me("div",fa,[c[7]||(c[7]=me("h3",{class:"section-title"},"⭐ 评价信息",-1)),re(te(qt),{vertical:"",size:16},{default:ge(()=>[me("div",ha,[re(te(We),{label:"等级",path:"tier",class:"flex-1"},{default:ge(()=>[re(te(Vt),{value:i.tier,"onUpdate:value":c[1]||(c[1]=w=>i.tier=w),options:te(g)},null,8,["value","options"])]),_:1}),re(te(We),{label:"类别",path:"category",class:"flex-1"},{default:ge(()=>[re(te(Vt),{value:i.category,"onUpdate:value":c[2]||(c[2]=w=>i.category=w),options:te(m)},null,8,["value","options"])]),_:1})]),re(te(We),{label:"人均价格 (元)",path:"price_per_person"},{default:ge(()=>[re(te(Dn),{value:i.price_per_person,"onUpdate:value":c[3]||(c[3]=w=>i.price_per_person=w),min:0,step:10,class:"w-full"},null,8,["value"])]),_:1})]),_:1})]),re(te(Qt)),me("div",ga,[c[8]||(c[8]=me("h3",{class:"section-title"},"🖼️ 展示与推荐",-1)),re(te(We),{label:"餐厅图片",path:"image_url"},{default:ge(()=>[re(ra,{onSuccess:a})]),_:1}),re(te(We),{label:"一句话推荐 (避雷建议)",path:"recommendation"},{default:ge(()=>[re(te(Ot),{value:i.recommendation,"onUpdate:value":c[4]||(c[4]=w=>i.recommendation=w),type:"textarea",placeholder:"分享你的用餐体验，或者必点菜品...",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})]),me("div",pa,[re(te(qt),{justify:"end"},{default:ge(()=>[re(te(Ve),{onClick:c[5]||(c[5]=w=>b("cancel"))},{default:ge(()=>[...c[9]||(c[9]=[ot("取消",-1)])]),_:1}),re(te(Ve),{type:"primary",loading:t.value,onClick:o},{default:ge(()=>[...c[10]||(c[10]=[ot("提交发布",-1)])]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model"]))}}),ma=wt(va,[["__scopeId","data-v-841b83d0"]]),ba={class:"submit-page"},wa={class:"page-header"},ya={class:"content-wrapper"},xa=pe({__name:"SubmitPage",setup(n){const v=Pn(),b=zt(),l=pr();async function e(i){if(!l.user){b.error("请先登录"),v.push("/login");return}try{const{error:s}=await Tt.from("restaurants").insert({...i,created_by:l.user.id});if(s)throw s;b.success("美食录入成功！"),v.push("/")}catch(s){console.error("Submit error:",s),b.error("录入失败: "+s.message)}}function t(){v.back()}return(i,s)=>(Ee(),Je("div",ba,[me("header",wa,[re(te(Ve),{quaternary:"",circle:"",onClick:t},{icon:ge(()=>[re(te(br),null,{default:ge(()=>[re(te(Hn))]),_:1})]),_:1}),s[0]||(s[0]=me("h1",{class:"page-title"},"录入美食",-1))]),me("div",ya,[re(te(mr),{bordered:!1,class:"form-card"},{default:ge(()=>[re(ma,{onSubmit:e,onCancel:t})]),_:1})])]))}}),Ta=wt(xa,[["__scopeId","data-v-a83798a4"]]);export{Ta as default};
