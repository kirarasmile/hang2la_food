import{g as N,R as C,k as f,C as x,G as R,M as a,L as l,K as s,N as L,D as q,b1 as v,O as d,U as c,T as B}from"./index-C84fRpCZ.js";import{u as I,b,N as w,_ as K}from"./_plugin-vue_export-helper-DI8fTAil.js";import{a as T,N as n}from"./FormItem-Cenej8-V.js";import{a as U}from"./Checkbox-Cj2ZBpPL.js";const S={class:"page-container"},V={class:"login-wrapper"},D=N({__name:"LoginPage",setup(F){const u=B(),_=C(),i=I(),g=f(null),t=f(!1),r=f({email:"",password:"",remember:!0}),h={email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±",trigger:"blur"},{type:"email",message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€",trigger:["blur","change"]}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"}]};async function m(){var p;try{await((p=g.value)==null?void 0:p.validate())}catch{return}t.value=!0;try{const e=await _.signIn(r.value.email,r.value.password);if(e.success){i.success("ç™»å½•æˆåŠŸï¼");const o=u.currentRoute.value.query.redirect;u.push(o||"/")}else i.error(e.message)}catch(e){console.error("Login error:",e),i.error(e.message||"ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•")}finally{t.value=!1}}function y(){u.push("/register")}function k(){u.push("/")}return(p,e)=>(q(),x("div",S,[R("div",V,[a(s(L),{title:"ðŸœ æ¬¢è¿Žå›žæ¥",class:"login-card"},{default:l(()=>[a(s(T),{ref_key:"formRef",ref:g,model:r.value,rules:h,"label-placement":"left","label-width":"80","require-mark-placement":"right-hanging"},{default:l(()=>[a(s(n),{label:"é‚®ç®±",path:"email"},{default:l(()=>[a(s(b),{value:r.value.email,"onUpdate:value":e[0]||(e[0]=o=>r.value.email=o),placeholder:"è¯·è¾“å…¥é‚®ç®±",disabled:t.value,onKeyup:v(m,["enter"])},null,8,["value","disabled"])]),_:1}),a(s(n),{label:"å¯†ç ",path:"password"},{default:l(()=>[a(s(b),{value:r.value.password,"onUpdate:value":e[1]||(e[1]=o=>r.value.password=o),placeholder:"è¯·è¾“å…¥å¯†ç ",type:"password","show-password-on":"click",disabled:t.value,onKeyup:v(m,["enter"])},null,8,["value","disabled"])]),_:1}),a(s(n),{"show-label":!1},{default:l(()=>[a(s(U),{checked:r.value.remember,"onUpdate:checked":e[2]||(e[2]=o=>r.value.remember=o),disabled:t.value},{default:l(()=>[...e[3]||(e[3]=[d(" è®°ä½æˆ‘ ",-1)])]),_:1},8,["checked","disabled"])]),_:1}),a(s(n),{"show-label":!1},{default:l(()=>[a(s(w),{style:{width:"100%","justify-content":"space-between"}},{default:l(()=>[a(s(c),{disabled:t.value,onClick:k},{default:l(()=>[...e[4]||(e[4]=[d(" è¿”å›žé¦–é¡µ ",-1)])]),_:1},8,["disabled"]),a(s(w),null,{default:l(()=>[a(s(c),{disabled:t.value,onClick:y},{default:l(()=>[...e[5]||(e[5]=[d(" æ³¨å†Œè´¦å· ",-1)])]),_:1},8,["disabled"]),a(s(c),{type:"primary",loading:t.value,onClick:m},{default:l(()=>[...e[6]||(e[6]=[d(" ç™»å½• ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])]))}}),E=K(D,[["__scopeId","data-v-042ba2e7"]]);export{E as default};
