import{az as ir,aA as ze,h as A,g as ge,e as ce,a as G,a5 as ar,aB as nn,a6 as dt,ac as At,af as on,u as Fe,aC as lr,k as oe,Z as le,n as ke,aD as an,m as Y,q as qe,ap as sr,aE as ln,at as Se,aF as ct,f as be,a1 as te,F as rt,aG as sn,aH as un,aI as dn,y as cn,c as $t,am as Ht,aJ as me,ao as fn,an as hn,ae as gn,aK as pn,x as vn,v as ur,aL as lt,l as Ge,aM as Rt,P as mn,aN as kt,ai as Lt,av as it,r as dr,t as _t,w as ft,aO as bn,aP as cr,aQ as fr,aR as hr,aS as gr,aT as wn,p as It,aU as pr,aa as Vt,aV as yn,a4 as vr,i as xn,aW as Wt,U as Ve,aX as Cn,aY as Rn,aZ as Sn,a_ as An,a$ as kn,a9 as _n,_ as In,C as zt,D as Ke,G as Re,R as mr,J as Tt,K as ne,L as ve,H as Tn,M as ie,O as gt,Y as Pt,b0 as Pn,N as Un,T as On}from"./index-C84fRpCZ.js";import{B as Fn,V as $n,c as Ln,u as Ut,d as zn,e as Bn,f as Mn,h as En,i as Dn,a as br,T as Nn,C as jn,b as qt}from"./index-42J8-QdI.js";import{b as Ot,a as nt,c as Hn,f as Xe,E as Vn,u as Bt,_ as wt,N as Gt}from"./_plugin-vue_export-helper-DI8fTAil.js";import{i as Wn,o as qn}from"./utils-B7WRdNWS.js";import{N as Gn}from"./Tooltip-D9nyMQT9.js";import{d as wr,A as Zn,N as Xn}from"./InputNumber-DHuTHHq4.js";import{A as Yn}from"./index-DEV-fsYM.js";import{N as He,a as Qn}from"./FormItem-Cenej8-V.js";import{A as Kn}from"./ArrowBackOutline-DEshgmAS.js";function Jn(r,g,b,a){for(var e=-1,t=r==null?0:r.length;++e<t;)b=g(b,r[e],e,r);return b}function eo(r){return function(g){return r==null?void 0:r[g]}}var to={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ro=eo(to),no=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oo="\\u0300-\\u036f",io="\\ufe20-\\ufe2f",ao="\\u20d0-\\u20ff",lo=oo+io+ao,so="["+lo+"]",uo=RegExp(so,"g");function co(r){return r=ir(r),r&&r.replace(no,ro).replace(uo,"")}var fo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ho(r){return r.match(fo)||[]}var go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function po(r){return go.test(r)}var yr="\\ud800-\\udfff",vo="\\u0300-\\u036f",mo="\\ufe20-\\ufe2f",bo="\\u20d0-\\u20ff",wo=vo+mo+bo,xr="\\u2700-\\u27bf",Cr="a-z\\xdf-\\xf6\\xf8-\\xff",yo="\\xac\\xb1\\xd7\\xf7",xo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Co="\\u2000-\\u206f",Ro=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rr="A-Z\\xc0-\\xd6\\xd8-\\xde",So="\\ufe0e\\ufe0f",Sr=yo+xo+Co+Ro,Ar="['’]",Zt="["+Sr+"]",Ao="["+wo+"]",kr="\\d+",ko="["+xr+"]",_r="["+Cr+"]",Ir="[^"+yr+Sr+kr+xr+Cr+Rr+"]",_o="\\ud83c[\\udffb-\\udfff]",Io="(?:"+Ao+"|"+_o+")",To="[^"+yr+"]",Tr="(?:\\ud83c[\\udde6-\\uddff]){2}",Pr="[\\ud800-\\udbff][\\udc00-\\udfff]",Ye="["+Rr+"]",Po="\\u200d",Xt="(?:"+_r+"|"+Ir+")",Uo="(?:"+Ye+"|"+Ir+")",Yt="(?:"+Ar+"(?:d|ll|m|re|s|t|ve))?",Qt="(?:"+Ar+"(?:D|LL|M|RE|S|T|VE))?",Ur=Io+"?",Or="["+So+"]?",Oo="(?:"+Po+"(?:"+[To,Tr,Pr].join("|")+")"+Or+Ur+")*",Fo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$o="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lo=Or+Ur+Oo,zo="(?:"+[ko,Tr,Pr].join("|")+")"+Lo,Bo=RegExp([Ye+"?"+_r+"+"+Yt+"(?="+[Zt,Ye,"$"].join("|")+")",Uo+"+"+Qt+"(?="+[Zt,Ye+Xt,"$"].join("|")+")",Ye+"?"+Xt+"+"+Yt,Ye+"+"+Qt,$o,Fo,kr,zo].join("|"),"g");function Mo(r){return r.match(Bo)||[]}function Eo(r,g,b){return r=ir(r),g=g,g===void 0?po(r)?Mo(r):ho(r):r.match(g)||[]}var Do="['’]",No=RegExp(Do,"g");function jo(r){return function(g){return Jn(Eo(co(g).replace(No,"")),r,"")}}var Ho=jo(function(r,g,b){return r+(b?"-":"")+g.toLowerCase()});const Vo=ze("attach",()=>A("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},A("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},A("g",{fill:"currentColor","fill-rule":"nonzero"},A("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),Wo=ze("cancel",()=>A("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},A("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},A("g",{fill:"currentColor","fill-rule":"nonzero"},A("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Fr=ze("download",()=>A("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},A("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},A("g",{fill:"currentColor","fill-rule":"nonzero"},A("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),qo=ge({name:"ResizeSmall",render(){return A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},A("g",{fill:"none"},A("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Go=ze("retry",()=>A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},A("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),A("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Zo=ze("rotateClockwise",()=>A("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),A("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Xo=ze("rotateClockwise",()=>A("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),A("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Yo=ze("trash",()=>A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},A("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),A("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),A("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),A("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Qo=ze("zoomIn",()=>A("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),A("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Ko=ze("zoomOut",()=>A("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),A("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Jo=ce([G("auto-complete",`
 z-index: auto;
 position: relative;
 display: inline-flex;
 width: 100%;
 `),G("auto-complete-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[ar({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]);function ei(r){return r.map($r)}function $r(r){var g,b;return typeof r=="string"?{label:r,value:r}:r.type==="group"?{type:"group",label:(g=r.label)!==null&&g!==void 0?g:r.name,value:(b=r.value)!==null&&b!==void 0?b:r.name,key:r.key||r.name,children:r.children.map(e=>$r(e))}:r}const ti=Object.assign(Object.assign({},ke.props),{to:Ut.propTo,menuProps:Object,append:Boolean,bordered:{type:Boolean,default:void 0},clearable:{type:Boolean,default:void 0},defaultValue:{type:String,default:null},loading:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:String,placement:{type:String,default:"bottom-start"},value:String,blurAfterSelect:Boolean,clearAfterSelect:Boolean,getShow:Function,showEmpty:Boolean,inputProps:Object,renderOption:Function,renderLabel:Function,size:String,options:{type:Array,default:()=>[]},zIndex:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onSelect:[Function,Array],onBlur:[Function,Array],onFocus:[Function,Array],onInput:[Function,Array]}),ri=ge({name:"AutoComplete",props:ti,slots:Object,setup(r){const{mergedBorderedRef:g,namespaceRef:b,mergedClsPrefixRef:a,inlineThemeDisabled:e}=Fe(r),t=lr(r),{mergedSizeRef:l,mergedDisabledRef:s,mergedStatusRef:p}=t,m=oe(null),n=oe(null),o=oe(r.defaultValue),i=le(r,"value"),u=nt(i,o),d=oe(!1),w=oe(!1),_=ke("AutoComplete","-auto-complete",Jo,an,r,a),C=Y(()=>ei(r.options)),B=Y(()=>{const{getShow:L}=r;return L?L(u.value||""):!!u.value}),z=Y(()=>B.value&&d.value&&(r.showEmpty?!0:!!C.value.length)),T=Y(()=>Bn(C.value,Mn("value","children")));function P(L){const{"onUpdate:value":F,onUpdateValue:q,onInput:J}=r,{nTriggerFormInput:re,nTriggerFormChange:Z}=t;q&&Se(q,L),F&&Se(F,L),J&&Se(J,L),o.value=L,re(),Z()}function y(L){const{onSelect:F}=r,{nTriggerFormInput:q,nTriggerFormChange:J}=t;F&&Se(F,L),q(),J()}function $(L){const{onBlur:F}=r,{nTriggerFormBlur:q}=t;F&&Se(F,L),q()}function h(L){const{onFocus:F}=r,{nTriggerFormFocus:q}=t;F&&Se(F,L),q()}function c(){w.value=!0}function S(){window.setTimeout(()=>{w.value=!1},0)}function x(L){var F,q,J;switch(L.key){case"Enter":if(!w.value){const re=(F=n.value)===null||F===void 0?void 0:F.getPendingTmNode();re&&(R(re.rawNode),L.preventDefault())}break;case"ArrowDown":(q=n.value)===null||q===void 0||q.next();break;case"ArrowUp":(J=n.value)===null||J===void 0||J.prev();break}}function R(L){(L==null?void 0:L.value)!==void 0&&(y(L.value),r.clearAfterSelect?P(null):L.label!==void 0&&P(r.append?`${u.value}${L.label}`:L.label),d.value=!1,r.blurAfterSelect&&O())}function I(){P(null)}function k(L){d.value=!0,h(L)}function U(L){d.value=!1,$(L)}function v(L){d.value=!0,P(L)}function f(L){R(L.rawNode)}function M(L){var F;!((F=m.value)===null||F===void 0)&&F.contains(ln(L))||(d.value=!1)}function O(){var L,F;!((L=m.value)===null||L===void 0)&&L.contains(document.activeElement)&&((F=document.activeElement)===null||F===void 0||F.blur())}const E=Y(()=>{const{common:{cubicBezierEaseInOut:L},self:{menuBoxShadow:F}}=_.value;return{"--n-menu-box-shadow":F,"--n-bezier":L}}),H=e?qe("auto-complete",void 0,E,r):void 0,N=oe(null),V={focus:()=>{var L;(L=N.value)===null||L===void 0||L.focus()},blur:()=>{var L;(L=N.value)===null||L===void 0||L.blur()}};return{focus:V.focus,blur:V.blur,inputInstRef:N,uncontrolledValue:o,mergedValue:u,isMounted:sr(),adjustedTo:Ut(r),menuInstRef:n,triggerElRef:m,treeMate:T,mergedSize:l,mergedDisabled:s,active:z,mergedStatus:p,handleClear:I,handleFocus:k,handleBlur:U,handleInput:v,handleToggle:f,handleClickOutsideMenu:M,handleCompositionStart:c,handleCompositionEnd:S,handleKeyDown:x,mergedTheme:_,cssVars:e?void 0:E,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender,mergedBordered:g,namespace:b,mergedClsPrefix:a}},render(){const{mergedClsPrefix:r}=this;return A("div",{class:`${r}-auto-complete`,ref:"triggerElRef",onKeydown:this.handleKeyDown,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd},A(Fn,null,{default:()=>[A($n,null,{default:()=>{const g=this.$slots.default;if(g)return nn("default",g,{handleInput:this.handleInput,handleFocus:this.handleFocus,handleBlur:this.handleBlur,value:this.mergedValue});const{mergedTheme:b}=this;return A(Ot,{ref:"inputInstRef",status:this.mergedStatus,theme:b.peers.Input,themeOverrides:b.peerOverrides.Input,bordered:this.mergedBordered,value:this.mergedValue,placeholder:this.placeholder,size:this.mergedSize,disabled:this.mergedDisabled,clearable:this.clearable,loading:this.loading,inputProps:this.inputProps,onClear:this.handleClear,onFocus:this.handleFocus,onUpdateValue:this.handleInput,onBlur:this.handleBlur},{suffix:()=>{var a,e;return(e=(a=this.$slots).suffix)===null||e===void 0?void 0:e.call(a)},prefix:()=>{var a,e;return(e=(a=this.$slots).prefix)===null||e===void 0?void 0:e.call(a)}})}}),A(Ln,{show:this.active,to:this.adjustedTo,containerClass:this.namespace,zIndex:this.zIndex,teleportDisabled:this.adjustedTo===Ut.tdkey,placement:this.placement,width:"target"},{default:()=>A(dt,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var g;if((g=this.onRender)===null||g===void 0||g.call(this),!this.active)return null;const{menuProps:b}=this;return At(A(zn,Object.assign({},b,{clsPrefix:r,ref:"menuInstRef",theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,"auto-pending":!0,class:[`${r}-auto-complete-menu`,this.themeClass,b==null?void 0:b.class],style:[b==null?void 0:b.style,this.cssVars],treeMate:this.treeMate,multiple:!1,renderLabel:this.renderLabel,renderOption:this.renderOption,size:"medium",onToggle:this.handleToggle}),{empty:()=>{var a,e;return(e=(a=this.$slots).empty)===null||e===void 0?void 0:e.call(a)}}),[[on,this.handleClickOutsideMenu,void 0,{capture:!0}]])}})})]}))}}),ni=G("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[ct("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[ct("no-title",`
 display: flex;
 align-items: center;
 `)]),be("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),te("title-position-left",[be("line",[te("left",{width:"28px"})])]),te("title-position-right",[be("line",[te("right",{width:"28px"})])]),te("dashed",[be("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),te("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),be("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),ct("dashed",[be("line",{backgroundColor:"var(--n-color)"})]),te("dashed",[be("line",{borderColor:"var(--n-color)"})]),te("vertical",{backgroundColor:"var(--n-color)"})]),oi=Object.assign(Object.assign({},ke.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Kt=ge({name:"Divider",props:oi,setup(r){const{mergedClsPrefixRef:g,inlineThemeDisabled:b}=Fe(r),a=ke("Divider","-divider",ni,sn,r,g),e=Y(()=>{const{common:{cubicBezierEaseInOut:l},self:{color:s,textColor:p,fontWeight:m}}=a.value;return{"--n-bezier":l,"--n-color":s,"--n-text-color":p,"--n-font-weight":m}}),t=b?qe("divider",void 0,e,r):void 0;return{mergedClsPrefix:g,cssVars:b?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var r;const{$slots:g,titlePlacement:b,vertical:a,dashed:e,cssVars:t,mergedClsPrefix:l}=this;return(r=this.onRender)===null||r===void 0||r.call(this),A("div",{role:"separator",class:[`${l}-divider`,this.themeClass,{[`${l}-divider--vertical`]:a,[`${l}-divider--no-title`]:!g.default,[`${l}-divider--dashed`]:e,[`${l}-divider--title-position-${b}`]:g.default&&b}],style:t},a?null:A("div",{class:`${l}-divider__line ${l}-divider__line--left`}),!a&&g.default?A(rt,null,A("div",{class:`${l}-divider__title`},this.$slots),A("div",{class:`${l}-divider__line ${l}-divider__line--right`})):null)}});function ii(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const ai=un({name:"Image",common:cn,peers:{Tooltip:dn},self:ii});function li(){return A("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"}))}function si(){return A("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"}))}function ui(){return A("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}))}const Mt=Object.assign(Object.assign({},ke.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),Lr=$t("n-image"),di=ce([ce("body >",[G("image-container","position: fixed;")]),G("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),G("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Ht()]),G("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[G("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Ht()]),G("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[ar()]),G("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),G("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[ct("preview-disabled",`
 cursor: pointer;
 `),ce("img",`
 border-radius: inherit;
 `)])]),st=32,ci=Object.assign(Object.assign({},Mt),{src:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onNext:Function,onPrev:Function,onClose:[Function,Array]}),zr=ge({name:"ImagePreview",props:ci,setup(r){const{src:g}=pn(r),{mergedClsPrefixRef:b}=Fe(r),a=ke("Image","-image",di,ai,r,b);let e=null;const t=oe(null),l=oe(null),s=oe(!1),{localeRef:p}=Hn("Image"),m=oe(r.defaultShow),n=le(r,"show"),o=nt(n,m);function i(){const{value:D}=l;if(!e||!D)return;const{style:W}=D,j=e.getBoundingClientRect(),X=j.left+j.width/2,K=j.top+j.height/2;W.transformOrigin=`${X}px ${K}px`}function u(D){var W,j;switch(D.key){case" ":D.preventDefault();break;case"ArrowLeft":(W=r.onPrev)===null||W===void 0||W.call(r);break;case"ArrowRight":(j=r.onNext)===null||j===void 0||j.call(r);break;case"ArrowUp":D.preventDefault(),q();break;case"ArrowDown":D.preventDefault(),J();break;case"Escape":ae();break}}function d(D){const{onUpdateShow:W,"onUpdate:show":j}=r;W&&Se(W,D),j&&Se(j,D),m.value=D,s.value=!0}vn(o,D=>{D?Rt("keydown",document,u):lt("keydown",document,u)}),ur(()=>{lt("keydown",document,u)});let w=0,_=0,C=0,B=0,z=0,T=0,P=0,y=0,$=!1;function h(D){const{clientX:W,clientY:j}=D;C=W-w,B=j-_,En(Z)}function c(D){const{mouseUpClientX:W,mouseUpClientY:j,mouseDownClientX:X,mouseDownClientY:K}=D,ee=X-W,Q=K-j,de=`vertical${Q>0?"Top":"Bottom"}`,we=`horizontal${ee>0?"Left":"Right"}`;return{moveVerticalDirection:de,moveHorizontalDirection:we,deltaHorizontal:ee,deltaVertical:Q}}function S(D){const{value:W}=t;if(!W)return{offsetX:0,offsetY:0};const j=W.getBoundingClientRect(),{moveVerticalDirection:X,moveHorizontalDirection:K,deltaHorizontal:ee,deltaVertical:Q}=D||{};let de=0,we=0;return j.width<=window.innerWidth?de=0:j.left>0?de=(j.width-window.innerWidth)/2:j.right<window.innerWidth?de=-(j.width-window.innerWidth)/2:K==="horizontalRight"?de=Math.min((j.width-window.innerWidth)/2,z-(ee??0)):de=Math.max(-((j.width-window.innerWidth)/2),z-(ee??0)),j.height<=window.innerHeight?we=0:j.top>0?we=(j.height-window.innerHeight)/2:j.bottom<window.innerHeight?we=-(j.height-window.innerHeight)/2:X==="verticalBottom"?we=Math.min((j.height-window.innerHeight)/2,T-(Q??0)):we=Math.max(-((j.height-window.innerHeight)/2),T-(Q??0)),{offsetX:de,offsetY:we}}function x(D){lt("mousemove",document,h),lt("mouseup",document,x);const{clientX:W,clientY:j}=D;$=!1;const X=c({mouseUpClientX:W,mouseUpClientY:j,mouseDownClientX:P,mouseDownClientY:y}),K=S(X);C=K.offsetX,B=K.offsetY,Z()}const R=Ge(Lr,null);function I(D){var W,j;if((j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onMousedown)===null||j===void 0||j.call(W,D),D.button!==0)return;const{clientX:X,clientY:K}=D;$=!0,w=X-C,_=K-B,z=C,T=B,P=X,y=K,Z(),Rt("mousemove",document,h),Rt("mouseup",document,x)}const k=1.5;let U=0,v=1,f=0;function M(D){var W,j;(j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDblclick)===null||j===void 0||j.call(W,D);const X=F();v=v===X?1:X,Z()}function O(){v=1,U=0}function E(){var D;O(),f=0,(D=r.onPrev)===null||D===void 0||D.call(r)}function H(){var D;O(),f=0,(D=r.onNext)===null||D===void 0||D.call(r)}function N(){f-=90,Z()}function V(){f+=90,Z()}function L(){const{value:D}=t;if(!D)return 1;const{innerWidth:W,innerHeight:j}=window,X=Math.max(1,D.naturalHeight/(j-st)),K=Math.max(1,D.naturalWidth/(W-st));return Math.max(3,X*2,K*2)}function F(){const{value:D}=t;if(!D)return 1;const{innerWidth:W,innerHeight:j}=window,X=D.naturalHeight/(j-st),K=D.naturalWidth/(W-st);return X<1&&K<1?1:Math.max(X,K)}function q(){const D=L();v<D&&(U+=1,v=Math.min(D,Math.pow(k,U)),Z())}function J(){if(v>.5){const D=v;U-=1,v=Math.max(.5,Math.pow(k,U));const W=D-v;Z(!1);const j=S();v+=W,Z(!1),v-=W,C=j.offsetX,B=j.offsetY,Z()}}function re(){const D=g.value;D&&wr(D,void 0)}function Z(D=!0){var W;const{value:j}=t;if(!j)return;const{style:X}=j,K=mn((W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.style);let ee="";if(typeof K=="string")ee=`${K};`;else for(const de in K)ee+=`${Ho(de)}: ${K[de]};`;const Q=`transform-origin: center; transform: translateX(${C}px) translateY(${B}px) rotate(${f}deg) scale(${v});`;$?X.cssText=`${ee}cursor: grabbing; transition: none;${Q}`:X.cssText=`${ee}cursor: grab;${Q}${D?"":"transition: none;"}`,D||j.offsetHeight}function ae(){if(o.value){const{onClose:D}=r;D&&Se(D),d(!1),m.value=!1}}function fe(){v=F(),U=Math.ceil(Math.log(v)/Math.log(k)),C=0,B=0,Z()}const pe={setThumbnailEl:D=>{e=D}};function $e(D,W){if(r.showToolbarTooltip){const{value:j}=a;return A(Gn,{to:!1,theme:j.peers.Tooltip,themeOverrides:j.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>p.value[W],trigger:()=>D})}else return D}const _e=Y(()=>{const{common:{cubicBezierEaseInOut:D},self:{toolbarIconColor:W,toolbarBorderRadius:j,toolbarBoxShadow:X,toolbarColor:K}}=a.value;return{"--n-bezier":D,"--n-toolbar-icon-color":W,"--n-toolbar-color":K,"--n-toolbar-border-radius":j,"--n-toolbar-box-shadow":X}}),{inlineThemeDisabled:ue}=Fe(),he=ue?qe("image-preview",void 0,_e,r):void 0;function se(D){D.preventDefault()}return Object.assign({clsPrefix:b,previewRef:t,previewWrapperRef:l,previewSrc:g,mergedShow:o,appear:sr(),displayed:s,previewedImgProps:R==null?void 0:R.previewedImgPropsRef,handleWheel:se,handlePreviewMousedown:I,handlePreviewDblclick:M,syncTransformOrigin:i,handleAfterLeave:()=>{O(),f=0,s.value=!1},handleDragStart:D=>{var W,j;(j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDragstart)===null||j===void 0||j.call(W,D),D.preventDefault()},zoomIn:q,zoomOut:J,handleDownloadClick:re,rotateCounterclockwise:N,rotateClockwise:V,handleSwitchPrev:E,handleSwitchNext:H,withTooltip:$e,resizeToOrignalImageSize:fe,cssVars:ue?void 0:_e,themeClass:he==null?void 0:he.themeClass,onRender:he==null?void 0:he.onRender,doUpdateShow:d,close:ae},pe)},render(){var r,g;const{clsPrefix:b,renderToolbar:a,withTooltip:e}=this,t=e(A(me,{clsPrefix:b,onClick:this.handleSwitchPrev},{default:li}),"tipPrevious"),l=e(A(me,{clsPrefix:b,onClick:this.handleSwitchNext},{default:si}),"tipNext"),s=e(A(me,{clsPrefix:b,onClick:this.rotateCounterclockwise},{default:()=>A(Xo,null)}),"tipCounterclockwise"),p=e(A(me,{clsPrefix:b,onClick:this.rotateClockwise},{default:()=>A(Zo,null)}),"tipClockwise"),m=e(A(me,{clsPrefix:b,onClick:this.resizeToOrignalImageSize},{default:()=>A(qo,null)}),"tipOriginalSize"),n=e(A(me,{clsPrefix:b,onClick:this.zoomOut},{default:()=>A(Ko,null)}),"tipZoomOut"),o=e(A(me,{clsPrefix:b,onClick:this.handleDownloadClick},{default:()=>A(Fr,null)}),"tipDownload"),i=e(A(me,{clsPrefix:b,onClick:()=>this.close()},{default:ui}),"tipClose"),u=e(A(me,{clsPrefix:b,onClick:this.zoomIn},{default:()=>A(Qo,null)}),"tipZoomIn");return A(rt,null,(g=(r=this.$slots).default)===null||g===void 0?void 0:g.call(r),A(fn,{show:this.mergedShow},{default:()=>{var d;return this.mergedShow||this.displayed?((d=this.onRender)===null||d===void 0||d.call(this),At(A("div",{ref:"containerRef",class:[`${b}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},A(dt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?A("div",{class:`${b}-image-preview-overlay`,onClick:()=>this.close()}):null}),this.showToolbar?A(dt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?A("div",{class:`${b}-image-preview-toolbar`},a?a({nodes:{prev:t,next:l,rotateCounterclockwise:s,rotateClockwise:p,resizeToOriginalSize:m,zoomOut:n,zoomIn:u,download:o,close:i}}):A(rt,null,this.onPrev?A(rt,null,t,l):null,s,p,m,n,u,o,i)):null}):null,A(dt,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:w={}}=this;return At(A("div",{class:`${b}-image-preview-wrapper`,ref:"previewWrapperRef"},A("img",Object.assign({},w,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${b}-image-preview`,w.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[gn,this.mergedShow]])}})),[[hn,{enabled:this.mergedShow}]])):null}}))}}),Br=$t("n-image-group"),fi=Object.assign(Object.assign({},Mt),{srcList:Array,current:Number,defaultCurrent:{type:Number,default:0},show:{type:Boolean,default:void 0},defaultShow:Boolean,onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],onUpdateCurrent:[Function,Array],"onUpdate:current":[Function,Array]}),hi=ge({name:"ImageGroup",props:fi,setup(r){const{mergedClsPrefixRef:g}=Fe(r),b=`c${kt()}`,a=oe(null),e=oe(r.defaultShow),t=le(r,"show"),l=nt(t,e),s=oe(new Map),p=Y(()=>{if(r.srcList){const h=new Map;return r.srcList.forEach((c,S)=>{h.set(`p${S}`,c)}),h}return s.value}),m=Y(()=>Array.from(p.value.keys())),n=()=>m.value.length;function o(h,c){r.srcList&&it("image-group","`n-image` can't be placed inside `n-image-group` when image group's `src-list` prop is set.");const S=`r${h}`;return s.value.has(`r${S}`)||s.value.set(S,c),function(){s.value.has(S)||s.value.delete(S)}}const i=oe(r.defaultCurrent),u=le(r,"current"),d=nt(u,i),w=h=>{if(h!==d.value){const{onUpdateCurrent:c,"onUpdate:current":S}=r;c&&Se(c,h),S&&Se(S,h),i.value=h}},_=Y(()=>m.value[d.value]),C=h=>{const c=m.value.indexOf(h);c!==d.value&&w(c)},B=Y(()=>p.value.get(_.value));function z(h){const{onUpdateShow:c,"onUpdate:show":S}=r;c&&Se(c,h),S&&Se(S,h),e.value=h}function T(){z(!1)}const P=Y(()=>{const h=(S,x)=>{for(let R=S;R<=x;R++){const I=m.value[R];if(p.value.get(I))return R}},c=h(d.value+1,n()-1);return c===void 0?h(0,d.value-1):c}),y=Y(()=>{const h=(S,x)=>{for(let R=S;R>=x;R--){const I=m.value[R];if(p.value.get(I))return R}},c=h(d.value-1,0);return c===void 0?h(n()-1,d.value+1):c});function $(h){var c,S;h===1?(y.value!==void 0&&w(P.value),(c=r.onPreviewNext)===null||c===void 0||c.call(r)):(P.value!==void 0&&w(y.value),(S=r.onPreviewPrev)===null||S===void 0||S.call(r))}return Lt(Br,{mergedClsPrefixRef:g,registerImageUrl:o,setThumbnailEl:h=>{var c;(c=a.value)===null||c===void 0||c.setThumbnailEl(h)},toggleShow:h=>{z(!0),C(h)},groupId:b,renderToolbarRef:le(r,"renderToolbar")}),{mergedClsPrefix:g,previewInstRef:a,mergedShow:l,src:B,onClose:T,next:()=>{$(1)},prev:()=>{$(-1)}}},render(){return A(zr,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,src:this.src,show:this.mergedShow,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,onClose:this.onClose},this.$slots)}}),gi=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Mt);let pi=0;const vi=ge({name:"Image",props:gi,slots:Object,inheritAttrs:!1,setup(r){const g=oe(null),b=oe(!1),a=oe(null),e=Ge(Br,null),{mergedClsPrefixRef:t}=e||Fe(r),l=Y(()=>r.previewSrc||r.src),s=oe(!1),p=pi++,m=()=>{if(r.previewDisabled||b.value)return;if(e){e.setThumbnailEl(g.value),e.toggleShow(`r${p}`);return}const{value:w}=a;w&&(w.setThumbnailEl(g.value),s.value=!0)},n={click:()=>{m()},showPreview:m},o=oe(!r.lazy);_t(()=>{var w;(w=g.value)===null||w===void 0||w.setAttribute("data-group-id",(e==null?void 0:e.groupId)||"")}),_t(()=>{if(r.lazy&&r.intersectionObserverOptions){let w;const _=ft(()=>{w==null||w(),w=void 0,w=qn(g.value,r.intersectionObserverOptions,o)});ur(()=>{_(),w==null||w()})}}),ft(()=>{var w;r.src||((w=r.imgProps)===null||w===void 0||w.src),b.value=!1}),ft(w=>{var _;const C=(_=e==null?void 0:e.registerImageUrl)===null||_===void 0?void 0:_.call(e,p,l.value||"");w(()=>{C==null||C()})});function i(w){var _,C;n.showPreview(),(C=(_=r.imgProps)===null||_===void 0?void 0:_.onClick)===null||C===void 0||C.call(_,w)}function u(){s.value=!1}const d=oe(!1);return Lt(Lr,{previewedImgPropsRef:le(r,"previewedImgProps")}),Object.assign({mergedClsPrefix:t,groupId:e==null?void 0:e.groupId,previewInstRef:a,imageRef:g,mergedPreviewSrc:l,showError:b,shouldStartLoading:o,loaded:d,mergedOnClick:w=>{i(w)},onPreviewClose:u,mergedOnError:w=>{if(!o.value)return;b.value=!0;const{onError:_,imgProps:{onError:C}={}}=r;_==null||_(w),C==null||C(w)},mergedOnLoad:w=>{const{onLoad:_,imgProps:{onLoad:C}={}}=r;_==null||_(w),C==null||C(w),d.value=!0},previewShow:s},n)},render(){var r,g;const{mergedClsPrefix:b,imgProps:a={},loaded:e,$attrs:t,lazy:l}=this,s=dr(this.$slots.error,()=>[]),p=(g=(r=this.$slots).placeholder)===null||g===void 0?void 0:g.call(r),m=this.src||a.src,n=this.showError&&s.length?s:A("img",Object.assign(Object.assign({},a),{ref:"imageRef",width:this.width||a.width,height:this.height||a.height,src:this.showError?this.fallbackSrc:l&&this.intersectionObserverOptions?this.shouldStartLoading?m:void 0:m,alt:this.alt||a.alt,"aria-label":this.alt||a.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Wn&&l&&!this.intersectionObserverOptions?"lazy":"eager",style:[a.style||"",p&&!e?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return A("div",Object.assign({},t,{role:"none",class:[t.class,`${b}-image`,(this.previewDisabled||this.showError)&&`${b}-image--preview-disabled`]}),this.groupId?n:A(zr,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,src:this.mergedPreviewSrc,show:!this.previewDisabled&&this.previewShow,onClose:this.onPreviewClose},{default:()=>n}),!e&&p)}}),mi={success:A(gr,null),error:A(hr,null),warning:A(fr,null),info:A(cr,null)},bi=ge({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(r,{slots:g}){const b=Y(()=>{const t="gradient",{fillColor:l}=r;return typeof l=="object"?`${t}-${bn(JSON.stringify(l))}`:t});function a(t,l,s,p){const{gapDegree:m,viewBoxWidth:n,strokeWidth:o}=r,i=50,u=0,d=i,w=0,_=2*i,C=50+o/2,B=`M ${C},${C} m ${u},${d}
      a ${i},${i} 0 1 1 ${w},${-_}
      a ${i},${i} 0 1 1 ${-w},${_}`,z=Math.PI*2*i,T={stroke:p==="rail"?s:typeof r.fillColor=="object"?`url(#${b.value})`:s,strokeDasharray:`${Math.min(t,100)/100*(z-m)}px ${n*8}px`,strokeDashoffset:`-${m/2}px`,transformOrigin:l?"center":void 0,transform:l?`rotate(${l}deg)`:void 0};return{pathString:B,pathStyle:T}}const e=()=>{const t=typeof r.fillColor=="object",l=t?r.fillColor.stops[0]:"",s=t?r.fillColor.stops[1]:"";return t&&A("defs",null,A("linearGradient",{id:b.value,x1:"0%",y1:"100%",x2:"100%",y2:"0%"},A("stop",{offset:"0%","stop-color":l}),A("stop",{offset:"100%","stop-color":s})))};return()=>{const{fillColor:t,railColor:l,strokeWidth:s,offsetDegree:p,status:m,percentage:n,showIndicator:o,indicatorTextColor:i,unit:u,gapOffsetDegree:d,clsPrefix:w}=r,{pathString:_,pathStyle:C}=a(100,0,l,"rail"),{pathString:B,pathStyle:z}=a(n,p,t,"fill"),T=100+s;return A("div",{class:`${w}-progress-content`,role:"none"},A("div",{class:`${w}-progress-graph`,"aria-hidden":!0},A("div",{class:`${w}-progress-graph-circle`,style:{transform:d?`rotate(${d}deg)`:void 0}},A("svg",{viewBox:`0 0 ${T} ${T}`},e(),A("g",null,A("path",{class:`${w}-progress-graph-circle-rail`,d:_,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:C})),A("g",null,A("path",{class:[`${w}-progress-graph-circle-fill`,n===0&&`${w}-progress-graph-circle-fill--empty`],d:B,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:z}))))),o?A("div",null,g.default?A("div",{class:`${w}-progress-custom-content`,role:"none"},g.default()):m!=="default"?A("div",{class:`${w}-progress-icon`,"aria-hidden":!0},A(me,{clsPrefix:w},{default:()=>mi[m]})):A("div",{class:`${w}-progress-text`,style:{color:i},role:"none"},A("span",{class:`${w}-progress-text__percentage`},n),A("span",{class:`${w}-progress-text__unit`},u))):null)}}}),wi={success:A(gr,null),error:A(hr,null),warning:A(fr,null),info:A(cr,null)},yi=ge({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(r,{slots:g}){const b=Y(()=>Xe(r.height)),a=Y(()=>{var l,s;return typeof r.fillColor=="object"?`linear-gradient(to right, ${(l=r.fillColor)===null||l===void 0?void 0:l.stops[0]} , ${(s=r.fillColor)===null||s===void 0?void 0:s.stops[1]})`:r.fillColor}),e=Y(()=>r.railBorderRadius!==void 0?Xe(r.railBorderRadius):r.height!==void 0?Xe(r.height,{c:.5}):""),t=Y(()=>r.fillBorderRadius!==void 0?Xe(r.fillBorderRadius):r.railBorderRadius!==void 0?Xe(r.railBorderRadius):r.height!==void 0?Xe(r.height,{c:.5}):"");return()=>{const{indicatorPlacement:l,railColor:s,railStyle:p,percentage:m,unit:n,indicatorTextColor:o,status:i,showIndicator:u,processing:d,clsPrefix:w}=r;return A("div",{class:`${w}-progress-content`,role:"none"},A("div",{class:`${w}-progress-graph`,"aria-hidden":!0},A("div",{class:[`${w}-progress-graph-line`,{[`${w}-progress-graph-line--indicator-${l}`]:!0}]},A("div",{class:`${w}-progress-graph-line-rail`,style:[{backgroundColor:s,height:b.value,borderRadius:e.value},p]},A("div",{class:[`${w}-progress-graph-line-fill`,d&&`${w}-progress-graph-line-fill--processing`],style:{maxWidth:`${r.percentage}%`,background:a.value,height:b.value,lineHeight:b.value,borderRadius:t.value}},l==="inside"?A("div",{class:`${w}-progress-graph-line-indicator`,style:{color:o}},g.default?g.default():`${m}${n}`):null)))),u&&l==="outside"?A("div",null,g.default?A("div",{class:`${w}-progress-custom-content`,style:{color:o},role:"none"},g.default()):i==="default"?A("div",{role:"none",class:`${w}-progress-icon ${w}-progress-icon--as-text`,style:{color:o}},m,n):A("div",{class:`${w}-progress-icon`,"aria-hidden":!0},A(me,{clsPrefix:w},{default:()=>wi[i]}))):null)}}});function Jt(r,g,b=100){return`m ${b/2} ${b/2-r} a ${r} ${r} 0 1 1 0 ${2*r} a ${r} ${r} 0 1 1 0 -${2*r}`}const xi=ge({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(r,{slots:g}){const b=Y(()=>r.percentage.map((t,l)=>`${Math.PI*t/100*(r.viewBoxWidth/2-r.strokeWidth/2*(1+2*l)-r.circleGap*l)*2}, ${r.viewBoxWidth*8}`)),a=(e,t)=>{const l=r.fillColor[t],s=typeof l=="object"?l.stops[0]:"",p=typeof l=="object"?l.stops[1]:"";return typeof r.fillColor[t]=="object"&&A("linearGradient",{id:`gradient-${t}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},A("stop",{offset:"0%","stop-color":s}),A("stop",{offset:"100%","stop-color":p}))};return()=>{const{viewBoxWidth:e,strokeWidth:t,circleGap:l,showIndicator:s,fillColor:p,railColor:m,railStyle:n,percentage:o,clsPrefix:i}=r;return A("div",{class:`${i}-progress-content`,role:"none"},A("div",{class:`${i}-progress-graph`,"aria-hidden":!0},A("div",{class:`${i}-progress-graph-circle`},A("svg",{viewBox:`0 0 ${e} ${e}`},A("defs",null,o.map((u,d)=>a(u,d))),o.map((u,d)=>A("g",{key:d},A("path",{class:`${i}-progress-graph-circle-rail`,d:Jt(e/2-t/2*(1+2*d)-l*d,t,e),"stroke-width":t,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:m[d]},n[d]]}),A("path",{class:[`${i}-progress-graph-circle-fill`,u===0&&`${i}-progress-graph-circle-fill--empty`],d:Jt(e/2-t/2*(1+2*d)-l*d,t,e),"stroke-width":t,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:b.value[d],strokeDashoffset:0,stroke:typeof p[d]=="object"?`url(#gradient-${d})`:p[d]}})))))),s&&g.default?A("div",null,A("div",{class:`${i}-progress-text`},g.default())):null)}}}),Ci=ce([G("progress",{display:"inline-block"},[G("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),te("line",`
 width: 100%;
 display: block;
 `,[G("progress-content",`
 display: flex;
 align-items: center;
 `,[G("progress-graph",{flex:1})]),G("progress-custom-content",{marginLeft:"14px"}),G("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[te("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),te("circle, dashboard",{width:"120px"},[G("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),G("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),G("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),te("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[G("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),G("progress-content",{position:"relative"}),G("progress-graph",{position:"relative"},[G("progress-graph-circle",[ce("svg",{verticalAlign:"bottom"}),G("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[te("empty",{opacity:0})]),G("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),G("progress-graph-line",[te("indicator-inside",[G("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[G("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),G("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),te("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[G("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),G("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),G("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[G("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[te("processing",[ce("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ce("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),Ri=Object.assign(Object.assign({},ke.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),Si=ge({name:"Progress",props:Ri,setup(r){const g=Y(()=>r.indicatorPlacement||r.indicatorPosition),b=Y(()=>{if(r.gapDegree||r.gapDegree===0)return r.gapDegree;if(r.type==="dashboard")return 75}),{mergedClsPrefixRef:a,inlineThemeDisabled:e}=Fe(r),t=ke("Progress","-progress",Ci,wn,r,a),l=Y(()=>{const{status:p}=r,{common:{cubicBezierEaseInOut:m},self:{fontSize:n,fontSizeCircle:o,railColor:i,railHeight:u,iconSizeCircle:d,iconSizeLine:w,textColorCircle:_,textColorLineInner:C,textColorLineOuter:B,lineBgProcessing:z,fontWeightCircle:T,[It("iconColor",p)]:P,[It("fillColor",p)]:y}}=t.value;return{"--n-bezier":m,"--n-fill-color":y,"--n-font-size":n,"--n-font-size-circle":o,"--n-font-weight-circle":T,"--n-icon-color":P,"--n-icon-size-circle":d,"--n-icon-size-line":w,"--n-line-bg-processing":z,"--n-rail-color":i,"--n-rail-height":u,"--n-text-color-circle":_,"--n-text-color-line-inner":C,"--n-text-color-line-outer":B}}),s=e?qe("progress",Y(()=>r.status[0]),l,r):void 0;return{mergedClsPrefix:a,mergedIndicatorPlacement:g,gapDeg:b,cssVars:e?void 0:l,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{type:r,cssVars:g,indicatorTextColor:b,showIndicator:a,status:e,railColor:t,railStyle:l,color:s,percentage:p,viewBoxWidth:m,strokeWidth:n,mergedIndicatorPlacement:o,unit:i,borderRadius:u,fillBorderRadius:d,height:w,processing:_,circleGap:C,mergedClsPrefix:B,gapDeg:z,gapOffsetDegree:T,themeClass:P,$slots:y,onRender:$}=this;return $==null||$(),A("div",{class:[P,`${B}-progress`,`${B}-progress--${r}`,`${B}-progress--${e}`],style:g,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":p,role:r==="circle"||r==="line"||r==="dashboard"?"progressbar":"none"},r==="circle"||r==="dashboard"?A(bi,{clsPrefix:B,status:e,showIndicator:a,indicatorTextColor:b,railColor:t,fillColor:s,railStyle:l,offsetDegree:this.offsetDegree,percentage:p,viewBoxWidth:m,strokeWidth:n,gapDegree:z===void 0?r==="dashboard"?75:0:z,gapOffsetDegree:T,unit:i},y):r==="line"?A(yi,{clsPrefix:B,status:e,showIndicator:a,indicatorTextColor:b,railColor:t,fillColor:s,railStyle:l,percentage:p,processing:_,indicatorPlacement:o,unit:i,fillBorderRadius:d,railBorderRadius:u,height:w},y):r==="multiple-circle"?A(xi,{clsPrefix:B,strokeWidth:n,railColor:t,fillColor:s,railStyle:l,viewBoxWidth:m,percentage:p,showIndicator:a,circleGap:C},y):null)}}),Ai=G("p",`
 box-sizing: border-box;
 transition: color .3s var(--n-bezier);
 margin: var(--n-margin);
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 color: var(--n-text-color);
`,[ce("&:first-child","margin-top: 0;"),ce("&:last-child","margin-bottom: 0;")]),ki=Object.assign(Object.assign({},ke.props),{depth:[String,Number]}),_i=ge({name:"P",props:ki,setup(r){const{mergedClsPrefixRef:g,inlineThemeDisabled:b}=Fe(r),a=ke("Typography","-p",Ai,pr,r,g),e=Y(()=>{const{depth:l}=r,s=l||"1",{common:{cubicBezierEaseInOut:p},self:{pFontSize:m,pLineHeight:n,pMargin:o,pTextColor:i,[`pTextColor${s}Depth`]:u}}=a.value;return{"--n-bezier":p,"--n-font-size":m,"--n-line-height":n,"--n-margin":o,"--n-text-color":l===void 0?i:u}}),t=b?qe("p",Y(()=>`${r.depth||""}`),e,r):void 0;return{mergedClsPrefix:g,cssVars:b?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var r;return(r=this.onRender)===null||r===void 0||r.call(this),A("p",{class:[`${this.mergedClsPrefix}-p`,this.themeClass],style:this.cssVars},this.$slots)}}),Ii=G("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[te("strong",`
 font-weight: var(--n-font-weight-strong);
 `),te("italic",{fontStyle:"italic"}),te("underline",{textDecoration:"underline"}),te("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),Ti=Object.assign(Object.assign({},ke.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),Pi=ge({name:"Text",props:Ti,setup(r){const{mergedClsPrefixRef:g,inlineThemeDisabled:b}=Fe(r),a=ke("Typography","-text",Ii,pr,r,g),e=Y(()=>{const{depth:l,type:s}=r,p=s==="default"?l===void 0?"textColor":`textColor${l}Depth`:It("textColor",s),{common:{fontWeightStrong:m,fontFamilyMono:n,cubicBezierEaseInOut:o},self:{codeTextColor:i,codeBorderRadius:u,codeColor:d,codeBorder:w,[p]:_}}=a.value;return{"--n-bezier":o,"--n-text-color":_,"--n-font-weight-strong":m,"--n-font-famliy-mono":n,"--n-code-border-radius":u,"--n-code-text-color":i,"--n-code-color":d,"--n-code-border":w}}),t=b?qe("text",Y(()=>`${r.type[0]}${r.depth||""}`),e,r):void 0;return{mergedClsPrefix:g,compitableTag:Dn(r,["as","tag"]),cssVars:b?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var r,g,b;const{mergedClsPrefix:a}=this;(r=this.onRender)===null||r===void 0||r.call(this);const e=[`${a}-text`,this.themeClass,{[`${a}-text--code`]:this.code,[`${a}-text--delete`]:this.delete,[`${a}-text--strong`]:this.strong,[`${a}-text--italic`]:this.italic,[`${a}-text--underline`]:this.underline}],t=(b=(g=this.$slots).default)===null||b===void 0?void 0:b.call(g);return this.code?A("code",{class:e,style:this.cssVars},this.delete?A("del",null,t):t):this.delete?A("del",{class:e,style:this.cssVars},t):A(this.compitableTag||"span",{class:e,style:this.cssVars},t)}}),Je=$t("n-upload"),Ui=ce([G("upload","width: 100%;",[te("dragger-inside",[G("upload-trigger",`
 display: block;
 `)]),te("drag-over",[G("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),G("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ce("&:hover",`
 border: var(--n-dragger-border-hover);
 `),te("disabled",`
 cursor: not-allowed;
 `)]),G("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ce("+",[G("upload-file-list","margin-top: 8px;")]),te("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),te("image-card",`
 width: 96px;
 height: 96px;
 `,[G("base-icon",`
 font-size: 24px;
 `),G("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),G("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ce("a, img","outline: none;"),te("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[G("upload-file","cursor: not-allowed;")]),te("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),G("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Vt(),G("progress",[Vt({foldPadding:!0})]),ce("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[G("upload-file-info",[be("action",`
 opacity: 1;
 `)])]),te("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[G("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[G("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),be("name",`
 padding: 0 8px;
 `),be("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ce("img",`
 width: 100%;
 `)])])]),te("text-type",[G("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),te("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[G("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),G("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[be("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ce("img",`
 width: 100%;
 `)])]),ce("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ce("&:hover",[ce("&::before","opacity: 1;"),G("upload-file-info",[be("thumbnail","opacity: .12;")])])]),te("error-status",[ce("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),G("upload-file-info",[be("name","color: var(--n-item-text-color-error);"),be("thumbnail","color: var(--n-item-text-color-error);")]),te("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),te("with-url",`
 cursor: pointer;
 `,[G("upload-file-info",[be("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ce("a",`
 text-decoration: underline;
 `)])])]),G("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[be("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[G("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),be("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[G("button",[ce("&:not(:last-child)",{marginRight:"4px"}),G("base-icon",[ce("svg",[yn()])])]),te("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),te("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),be("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ce("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),G("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),Mr="__UPLOAD_DRAGGER__",Er=ge({name:"UploadDragger",[Mr]:!0,setup(r,{slots:g}){const b=Ge(Je,null);return b||it("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:a},mergedDisabledRef:{value:e},maxReachedRef:{value:t}}=b;return A("div",{class:[`${a}-upload-dragger`,(e||t)&&`${a}-upload-dragger--disabled`]},g)}}});function Oi(){return A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},A("g",{fill:"none"},A("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"})))}function Fi(){return A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},A("g",{fill:"none"},A("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})))}const $i=ge({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Ge(Je).mergedThemeRef}},render(){return A(vr,null,{default:()=>this.show?A(Si,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var Ft=function(r,g,b,a){function e(t){return t instanceof b?t:new b(function(l){l(t)})}return new(b||(b=Promise))(function(t,l){function s(n){try{m(a.next(n))}catch(o){l(o)}}function p(n){try{m(a.throw(n))}catch(o){l(o)}}function m(n){n.done?t(n.value):e(n.value).then(s,p)}m((a=a.apply(r,g||[])).next())})};function Dr(r){return r.includes("image/")}function er(r=""){const g=r.split("/"),a=g[g.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]}const tr=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Nr=r=>{if(r.type)return Dr(r.type);const g=er(r.name||"");if(tr.test(g))return!0;const b=r.thumbnailUrl||r.url||"",a=er(b);return!!(/^data:image\//.test(b)||tr.test(a))};function Li(r){return Ft(this,void 0,void 0,function*(){return yield new Promise(g=>{if(!r.type||!Dr(r.type)){g("");return}g(window.URL.createObjectURL(r))})})}const zi=xn&&window.FileReader&&window.File;function Bi(r){return r.isDirectory}function Mi(r){return r.isFile}function Ei(r,g){return Ft(this,void 0,void 0,function*(){const b=[];function a(e){return Ft(this,void 0,void 0,function*(){for(const t of e)if(t){if(g&&Bi(t)){const l=t.createReader();let s=[],p;try{do p=yield new Promise((m,n)=>{l.readEntries(m,n)}),s=s.concat(p);while(p.length>0)}catch(m){Wt("upload","error happens when handling directory upload",m)}yield a(s)}else if(Mi(t))try{const l=yield new Promise((s,p)=>{t.file(s,p)});b.push({file:l,entry:t,source:"dnd"})}catch(l){Wt("upload","error happens when handling file upload",l)}}})}return yield a(r),b})}function ot(r){const{id:g,name:b,percentage:a,status:e,url:t,file:l,thumbnailUrl:s,type:p,fullPath:m,batchId:n}=r;return{id:g,name:b,percentage:a??null,status:e,url:t??null,file:l??null,thumbnailUrl:s??null,type:p??null,fullPath:m??null,batchId:n??null}}function Di(r,g,b){return r=r.toLowerCase(),g=g.toLocaleLowerCase(),b=b.toLocaleLowerCase(),b.split(",").map(e=>e.trim()).filter(Boolean).some(e=>{if(e.startsWith(".")){if(r.endsWith(e))return!0}else if(e.includes("/")){const[t,l]=g.split("/"),[s,p]=e.split("/");if((s==="*"||t&&s&&s===t)&&(p==="*"||l&&p&&p===l))return!0}else return!0;return!1})}var rr=function(r,g,b,a){function e(t){return t instanceof b?t:new b(function(l){l(t)})}return new(b||(b=Promise))(function(t,l){function s(n){try{m(a.next(n))}catch(o){l(o)}}function p(n){try{m(a.throw(n))}catch(o){l(o)}}function m(n){n.done?t(n.value):e(n.value).then(s,p)}m((a=a.apply(r,g||[])).next())})};const ut={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Ni=ge({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(r){const g=Ge(Je),b=oe(null),a=oe(""),e=Y(()=>{const{file:P}=r;return P.status==="finished"?"success":P.status==="error"?"error":"info"}),t=Y(()=>{const{file:P}=r;if(P.status==="error")return"error"}),l=Y(()=>{const{file:P}=r;return P.status==="uploading"}),s=Y(()=>{if(!g.showCancelButtonRef.value)return!1;const{file:P}=r;return["uploading","pending","error"].includes(P.status)}),p=Y(()=>{if(!g.showRemoveButtonRef.value)return!1;const{file:P}=r;return["finished"].includes(P.status)}),m=Y(()=>{if(!g.showDownloadButtonRef.value)return!1;const{file:P}=r;return["finished"].includes(P.status)}),n=Y(()=>{if(!g.showRetryButtonRef.value)return!1;const{file:P}=r;return["error"].includes(P.status)}),o=Rn(()=>a.value||r.file.thumbnailUrl||r.file.url),i=Y(()=>{if(!g.showPreviewButtonRef.value)return!1;const{file:{status:P},listType:y}=r;return["finished"].includes(P)&&o.value&&y==="image-card"});function u(){return rr(this,void 0,void 0,function*(){const P=g.onRetryRef.value;P&&(yield P({file:r.file}))===!1||g.submit(r.file.id)})}function d(P){P.preventDefault();const{file:y}=r;["finished","pending","error"].includes(y.status)?_(y):["uploading"].includes(y.status)?B(y):Sn("upload","The button clicked type is unknown.")}function w(P){P.preventDefault(),C(r.file)}function _(P){const{xhrMap:y,doChange:$,onRemoveRef:{value:h},mergedFileListRef:{value:c}}=g;Promise.resolve(h?h({file:Object.assign({},P),fileList:c,index:r.index}):!0).then(S=>{if(S===!1)return;const x=Object.assign({},P,{status:"removed"});y.delete(P.id),$(x,void 0,{remove:!0})})}function C(P){const{onDownloadRef:{value:y},customDownloadRef:{value:$}}=g;Promise.resolve(y?y(Object.assign({},P)):!0).then(h=>{h!==!1&&($?$(Object.assign({},P)):wr(P.url,P.name))})}function B(P){const{xhrMap:y}=g,$=y.get(P.id);$==null||$.abort(),_(Object.assign({},P))}function z(P){const{onPreviewRef:{value:y}}=g;if(y)y(r.file,{event:P});else if(r.listType==="image-card"){const{value:$}=b;if(!$)return;$.showPreview()}}const T=()=>rr(this,void 0,void 0,function*(){const{listType:P}=r;P!=="image"&&P!=="image-card"||g.shouldUseThumbnailUrlRef.value(r.file)&&(a.value=yield g.getFileThumbnailUrlResolver(r.file))});return ft(()=>{T()}),{mergedTheme:g.mergedThemeRef,progressStatus:e,buttonType:t,showProgress:l,disabled:g.mergedDisabledRef,showCancelButton:s,showRemoveButton:p,showDownloadButton:m,showRetryButton:n,showPreviewButton:i,mergedThumbnailUrl:o,shouldUseThumbnailUrl:g.shouldUseThumbnailUrlRef,renderIcon:g.renderIconRef,imageRef:b,handleRemoveOrCancelClick:d,handleDownloadClick:w,handleRetryClick:u,handlePreviewClick:z}},render(){const{clsPrefix:r,mergedTheme:g,listType:b,file:a,renderIcon:e}=this;let t;const l=b==="image";l||b==="image-card"?t=!this.shouldUseThumbnailUrl(a)||!this.mergedThumbnailUrl?A("span",{class:`${r}-upload-file-info__thumbnail`},e?e(a):Nr(a)?A(me,{clsPrefix:r},{default:Oi}):A(me,{clsPrefix:r},{default:Fi})):A("a",{rel:"noopener noreferer",target:"_blank",href:a.url||void 0,class:`${r}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},b==="image-card"?A(vi,{src:this.mergedThumbnailUrl||void 0,previewSrc:a.url||void 0,alt:a.name,ref:"imageRef"}):A("img",{src:this.mergedThumbnailUrl||void 0,alt:a.name})):t=A("span",{class:`${r}-upload-file-info__thumbnail`},e?e(a):A(me,{clsPrefix:r},{default:()=>A(Vo,null)}));const p=A($i,{show:this.showProgress,percentage:a.percentage||0,status:this.progressStatus}),m=b==="text"||b==="image";return A("div",{class:[`${r}-upload-file`,`${r}-upload-file--${this.progressStatus}-status`,a.url&&a.status!=="error"&&b!=="image-card"&&`${r}-upload-file--with-url`,`${r}-upload-file--${b}-type`]},A("div",{class:`${r}-upload-file-info`},t,A("div",{class:`${r}-upload-file-info__name`},m&&(a.url&&a.status!=="error"?A("a",{rel:"noopener noreferer",target:"_blank",href:a.url||void 0,onClick:this.handlePreviewClick},a.name):A("span",{onClick:this.handlePreviewClick},a.name)),l&&p),A("div",{class:[`${r}-upload-file-info__action`,`${r}-upload-file-info__action--${b}-type`]},this.showPreviewButton?A(Ve,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,builtinThemeOverrides:ut},{icon:()=>A(me,{clsPrefix:r},{default:()=>A(Vn,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&A(Ve,{key:"cancelOrTrash",theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ut,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>A(Cn,null,{default:()=>this.showRemoveButton?A(me,{clsPrefix:r,key:"trash"},{default:()=>A(Yo,null)}):A(me,{clsPrefix:r,key:"cancel"},{default:()=>A(Wo,null)})})}),this.showRetryButton&&!this.disabled&&A(Ve,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,builtinThemeOverrides:ut},{icon:()=>A(me,{clsPrefix:r},{default:()=>A(Go,null)})}),this.showDownloadButton?A(Ve,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,builtinThemeOverrides:ut},{icon:()=>A(me,{clsPrefix:r},{default:()=>A(Fr,null)})}):null)),!l&&p)}}),jr=ge({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(r,{slots:g}){const b=Ge(Je,null);b||it("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:a,mergedDisabledRef:e,maxReachedRef:t,listTypeRef:l,dragOverRef:s,openOpenFileDialog:p,draggerInsideRef:m,handleFileAddition:n,mergedDirectoryDndRef:o,triggerClassRef:i,triggerStyleRef:u}=b,d=Y(()=>l.value==="image-card");function w(){e.value||t.value||p()}function _(T){T.preventDefault(),s.value=!0}function C(T){T.preventDefault(),s.value=!0}function B(T){T.preventDefault(),s.value=!1}function z(T){var P;if(T.preventDefault(),!m.value||e.value||t.value){s.value=!1;return}const y=(P=T.dataTransfer)===null||P===void 0?void 0:P.items;y!=null&&y.length?Ei(Array.from(y).map($=>$.webkitGetAsEntry()),o.value).then($=>{n($)}).finally(()=>{s.value=!1}):s.value=!1}return()=>{var T;const{value:P}=a;return r.abstract?(T=g.default)===null||T===void 0?void 0:T.call(g,{handleClick:w,handleDrop:z,handleDragOver:_,handleDragEnter:C,handleDragLeave:B}):A("div",{class:[`${P}-upload-trigger`,(e.value||t.value)&&`${P}-upload-trigger--disabled`,d.value&&`${P}-upload-trigger--image-card`,i.value],style:u.value,onClick:w,onDrop:z,onDragover:_,onDragenter:C,onDragleave:B},d.value?A(Er,null,{default:()=>dr(g.default,()=>[A(me,{clsPrefix:P},{default:()=>A(Zn,null)})])}):g)}}}),ji=ge({name:"UploadFileList",setup(r,{slots:g}){const b=Ge(Je,null);b||it("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:a,mergedClsPrefixRef:e,listTypeRef:t,mergedFileListRef:l,fileListClassRef:s,fileListStyleRef:p,cssVarsRef:m,themeClassRef:n,maxReachedRef:o,showTriggerRef:i,imageGroupPropsRef:u}=b,d=Y(()=>t.value==="image-card"),w=()=>l.value.map((C,B)=>A(Ni,{clsPrefix:e.value,key:C.id,file:C,index:B,listType:t.value})),_=()=>d.value?A(hi,Object.assign({},u.value),{default:w}):A(vr,{group:!0},{default:w});return()=>{const{value:C}=e,{value:B}=a;return A("div",{class:[`${C}-upload-file-list`,d.value&&`${C}-upload-file-list--grid`,B?n==null?void 0:n.value:void 0,s.value],style:[B&&m?m.value:"",p.value]},_(),i.value&&!o.value&&d.value&&A(jr,null,g))}}});var nr=function(r,g,b,a){function e(t){return t instanceof b?t:new b(function(l){l(t)})}return new(b||(b=Promise))(function(t,l){function s(n){try{m(a.next(n))}catch(o){l(o)}}function p(n){try{m(a.throw(n))}catch(o){l(o)}}function m(n){n.done?t(n.value):e(n.value).then(s,p)}m((a=a.apply(r,g||[])).next())})};function Hi(r,g,b){const{doChange:a,xhrMap:e}=r;let t=0;function l(p){var m;let n=Object.assign({},g,{status:"error",percentage:t});e.delete(g.id),n=ot(((m=r.onError)===null||m===void 0?void 0:m.call(r,{file:n,event:p}))||n),a(n,p)}function s(p){var m;if(r.isErrorState){if(r.isErrorState(b)){l(p);return}}else if(b.status<200||b.status>=300){l(p);return}let n=Object.assign({},g,{status:"finished",percentage:t});e.delete(g.id),n=ot(((m=r.onFinish)===null||m===void 0?void 0:m.call(r,{file:n,event:p}))||n),a(n,p)}return{handleXHRLoad:s,handleXHRError:l,handleXHRAbort(p){const m=Object.assign({},g,{status:"removed",file:null,percentage:t});e.delete(g.id),a(m,p)},handleXHRProgress(p){const m=Object.assign({},g,{status:"uploading"});if(p.lengthComputable){const n=Math.ceil(p.loaded/p.total*100);m.percentage=n,t=n}a(m,p)}}}function Vi(r){const{inst:g,file:b,data:a,headers:e,withCredentials:t,action:l,customRequest:s}=r,{doChange:p}=r.inst;let m=0;s({file:b,data:a,headers:e,withCredentials:t,action:l,onProgress(n){const o=Object.assign({},b,{status:"uploading"}),i=n.percent;o.percentage=i,m=i,p(o)},onFinish(){var n;let o=Object.assign({},b,{status:"finished",percentage:m});o=ot(((n=g.onFinish)===null||n===void 0?void 0:n.call(g,{file:o}))||o),p(o)},onError(){var n;let o=Object.assign({},b,{status:"error",percentage:m});o=ot(((n=g.onError)===null||n===void 0?void 0:n.call(g,{file:o}))||o),p(o)}})}function Wi(r,g,b){const a=Hi(r,g,b);b.onabort=a.handleXHRAbort,b.onerror=a.handleXHRError,b.onload=a.handleXHRLoad,b.upload&&(b.upload.onprogress=a.handleXHRProgress)}function Hr(r,g){return typeof r=="function"?r({file:g}):r||{}}function qi(r,g,b){const a=Hr(g,b);a&&Object.keys(a).forEach(e=>{r.setRequestHeader(e,a[e])})}function Gi(r,g,b){const a=Hr(g,b);a&&Object.keys(a).forEach(e=>{r.append(e,a[e])})}function Zi(r,g,b,{method:a,action:e,withCredentials:t,responseType:l,headers:s,data:p}){const m=new XMLHttpRequest;m.responseType=l,r.xhrMap.set(b.id,m),m.withCredentials=t;const n=new FormData;if(Gi(n,p,b),b.file!==null&&n.append(g,b.file),Wi(r,b,m),e!==void 0){m.open(a.toUpperCase(),e),qi(m,s,b),m.send(n);const o=Object.assign({},b,{status:"uploading"});r.doChange(o)}}const Xi=Object.assign(Object.assign({},ke.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:r=>zi?Nr(r):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Yi=ge({name:"Upload",props:Xi,setup(r){r.abstract&&r.listType==="image-card"&&it("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:g,inlineThemeDisabled:b,mergedRtlRef:a}=Fe(r),e=ke("Upload","-upload",Ui,kn,r,g),t=_n("Upload",a,g),l=lr(r),s=oe(r.defaultFileList),p=le(r,"fileList"),m=oe(null),n={value:!1},o=oe(!1),i=new Map,u=nt(p,s),d=Y(()=>u.value.map(ot)),w=Y(()=>{const{max:x}=r;return x!==void 0?d.value.length>=x:!1});function _(){var x;(x=m.value)===null||x===void 0||x.click()}function C(x){const R=x.target;P(R.files?Array.from(R.files).map(I=>({file:I,entry:null,source:"input"})):null,x),R.value=""}function B(x){const{"onUpdate:fileList":R,onUpdateFileList:I}=r;R&&Se(R,x),I&&Se(I,x),s.value=x}const z=Y(()=>r.multiple||r.directory),T=(x,R,I={append:!1,remove:!1})=>{const{append:k,remove:U}=I,v=Array.from(d.value),f=v.findIndex(M=>M.id===x.id);if(k||U||~f){k?v.push(x):U?v.splice(f,1):v.splice(f,1,x);const{onChange:M}=r;M&&M({file:x,fileList:v,event:R}),B(v)}};function P(x,R){if(!x||x.length===0)return;const{onBeforeUpload:I}=r;x=z.value?x:[x[0]];const{max:k,accept:U}=r;x=x.filter(({file:f,source:M})=>M==="dnd"&&(U!=null&&U.trim())?Di(f.name,f.type,U):!0),k&&(x=x.slice(0,k-d.value.length));const v=kt();Promise.all(x.map(f=>nr(this,[f],void 0,function*({file:M,entry:O}){var E;const H={id:kt(),batchId:v,name:M.name,status:"pending",percentage:0,file:M,url:null,type:M.type,thumbnailUrl:null,fullPath:(E=O==null?void 0:O.fullPath)!==null&&E!==void 0?E:`/${M.webkitRelativePath||M.name}`};return!I||(yield I({file:H,fileList:d.value}))!==!1?H:null}))).then(f=>nr(this,void 0,void 0,function*(){let M=Promise.resolve();f.forEach(O=>{M=M.then(In).then(()=>{O&&T(O,R,{append:!0})})}),yield M})).then(()=>{r.defaultUpload&&y()})}function y(x){const{method:R,action:I,withCredentials:k,headers:U,data:v,name:f}=r,M=x!==void 0?d.value.filter(E=>E.id===x):d.value,O=x!==void 0;M.forEach(E=>{const{status:H}=E;(H==="pending"||H==="error"&&O)&&(r.customRequest?Vi({inst:{doChange:T,xhrMap:i,onFinish:r.onFinish,onError:r.onError},file:E,action:I,withCredentials:k,headers:U,data:v,customRequest:r.customRequest}):Zi({doChange:T,xhrMap:i,onFinish:r.onFinish,onError:r.onError,isErrorState:r.isErrorState},f,E,{method:R,action:I,withCredentials:k,responseType:r.responseType,headers:U,data:v}))})}function $(x){var R;if(x.thumbnailUrl)return x.thumbnailUrl;const{createThumbnailUrl:I}=r;return I?(R=I(x.file,x))!==null&&R!==void 0?R:x.url||"":x.url?x.url:x.file?Li(x.file):""}const h=Y(()=>{const{common:{cubicBezierEaseInOut:x},self:{draggerColor:R,draggerBorder:I,draggerBorderHover:k,itemColorHover:U,itemColorHoverError:v,itemTextColorError:f,itemTextColorSuccess:M,itemTextColor:O,itemIconColor:E,itemDisabledOpacity:H,lineHeight:N,borderRadius:V,fontSize:L,itemBorderImageCardError:F,itemBorderImageCard:q}}=e.value;return{"--n-bezier":x,"--n-border-radius":V,"--n-dragger-border":I,"--n-dragger-border-hover":k,"--n-dragger-color":R,"--n-font-size":L,"--n-item-color-hover":U,"--n-item-color-hover-error":v,"--n-item-disabled-opacity":H,"--n-item-icon-color":E,"--n-item-text-color":O,"--n-item-text-color-error":f,"--n-item-text-color-success":M,"--n-line-height":N,"--n-item-border-image-card-error":F,"--n-item-border-image-card":q}}),c=b?qe("upload",void 0,h,r):void 0;Lt(Je,{mergedClsPrefixRef:g,mergedThemeRef:e,showCancelButtonRef:le(r,"showCancelButton"),showDownloadButtonRef:le(r,"showDownloadButton"),showRemoveButtonRef:le(r,"showRemoveButton"),showRetryButtonRef:le(r,"showRetryButton"),onRemoveRef:le(r,"onRemove"),onDownloadRef:le(r,"onDownload"),customDownloadRef:le(r,"customDownload"),mergedFileListRef:d,triggerClassRef:le(r,"triggerClass"),triggerStyleRef:le(r,"triggerStyle"),shouldUseThumbnailUrlRef:le(r,"shouldUseThumbnailUrl"),renderIconRef:le(r,"renderIcon"),xhrMap:i,submit:y,doChange:T,showPreviewButtonRef:le(r,"showPreviewButton"),onPreviewRef:le(r,"onPreview"),getFileThumbnailUrlResolver:$,listTypeRef:le(r,"listType"),dragOverRef:o,openOpenFileDialog:_,draggerInsideRef:n,handleFileAddition:P,mergedDisabledRef:l.mergedDisabledRef,maxReachedRef:w,fileListClassRef:le(r,"fileListClass"),fileListStyleRef:le(r,"fileListStyle"),abstractRef:le(r,"abstract"),acceptRef:le(r,"accept"),cssVarsRef:b?void 0:h,themeClassRef:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender,showTriggerRef:le(r,"showTrigger"),imageGroupPropsRef:le(r,"imageGroupProps"),mergedDirectoryDndRef:Y(()=>{var x;return(x=r.directoryDnd)!==null&&x!==void 0?x:r.directory}),onRetryRef:le(r,"onRetry")});const S={clear:()=>{s.value=[]},submit:y,openOpenFileDialog:_};return Object.assign({mergedClsPrefix:g,draggerInsideRef:n,rtlEnabled:t,inputElRef:m,mergedTheme:e,dragOver:o,mergedMultiple:z,cssVars:b?void 0:h,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender,handleFileInputChange:C},S)},render(){var r,g;const{draggerInsideRef:b,mergedClsPrefix:a,$slots:e,directory:t,onRender:l}=this;if(e.default&&!this.abstract){const p=e.default()[0];!((r=p==null?void 0:p.type)===null||r===void 0)&&r[Mr]&&(b.value=!0)}const s=A("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${a}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:t||void 0,directory:t||void 0}));return this.abstract?A(rt,null,(g=e.default)===null||g===void 0?void 0:g.call(e),A(An,{to:"body"},s)):(l==null||l(),A("div",{class:[`${a}-upload`,this.rtlEnabled&&`${a}-upload--rtl`,b.value&&`${a}-upload--dragger-inside`,this.dragOver&&`${a}-upload--drag-over`,this.themeClass],style:this.cssVars},s,this.showTrigger&&this.listType!=="image-card"&&A(jr,null,e),this.showFileList&&A(ji,null,e)))}}),Qi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ki=Re("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ji=Re("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),ea=Re("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),ta=[Ki,Ji,ea],ra=ge({name:"CloudUploadOutline",render:function(g,b){return Ke(),zt("svg",Qi,ta)}});function na(r,g){return g.forEach(function(b){b&&typeof b!="string"&&!Array.isArray(b)&&Object.keys(b).forEach(function(a){if(a!=="default"&&!(a in r)){var e=Object.getOwnPropertyDescriptor(b,a);Object.defineProperty(r,a,e.get?e:{enumerable:!0,get:function(){return b[a]}})}})}),Object.freeze(r)}function Vr(r,g){return new Promise(function(b,a){let e;return oa(r).then(function(t){try{return e=t,b(new Blob([g.slice(0,2),e,g.slice(2)],{type:"image/jpeg"}))}catch(l){return a(l)}},a)})}const oa=r=>new Promise((g,b)=>{const a=new FileReader;a.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return b("not a valid JPEG");for(l+=2;;){const s=t.getUint16(l);if(s===65498)break;const p=t.getUint16(l+2);if(s===65505&&t.getUint32(l+4)===1165519206){const m=l+10;let n;switch(t.getUint16(m)){case 18761:n=!0;break;case 19789:n=!1;break;default:return b("TIFF header contains invalid endian")}if(t.getUint16(m+2,n)!==42)return b("TIFF header contains invalid version");const o=t.getUint32(m+4,n),i=m+o+2+12*t.getUint16(m+o,n);for(let u=m+o+2;u<i;u+=12)if(t.getUint16(u,n)==274){if(t.getUint16(u+2,n)!==3)return b("Orientation data type is invalid");if(t.getUint32(u+4,n)!==1)return b("Orientation data count is invalid");t.setUint16(u+8,1,n);break}return g(e.slice(l,l+2+p))}l+=2+p}return g(new Blob)}),a.readAsArrayBuffer(r)});var pt={},ia={get exports(){return pt},set exports(r){pt=r}};(function(r){var g,b,a={};ia.exports=a,a.parse=function(e,t){for(var l=a.bin.readUshort,s=a.bin.readUint,p=0,m={},n=new Uint8Array(e),o=n.length-4;s(n,o)!=101010256;)o--;p=o,p+=4;var i=l(n,p+=4);l(n,p+=2);var u=s(n,p+=2),d=s(n,p+=4);p+=4,p=d;for(var w=0;w<i;w++){s(n,p),p+=4,p+=4,p+=4,s(n,p+=4),u=s(n,p+=4);var _=s(n,p+=4),C=l(n,p+=4),B=l(n,p+2),z=l(n,p+4);p+=6;var T=s(n,p+=8);p+=4,p+=C+B+z,a._readLocal(n,T,m,u,_,t)}return m},a._readLocal=function(e,t,l,s,p,m){var n=a.bin.readUshort,o=a.bin.readUint;o(e,t),n(e,t+=4),n(e,t+=2);var i=n(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var u=n(e,t+=8),d=n(e,t+=2);t+=2;var w=a.bin.readUTF8(e,t,u);if(t+=u,t+=d,m)l[w]={size:p,csize:s};else{var _=new Uint8Array(e.buffer,t);if(i==0)l[w]=new Uint8Array(_.buffer.slice(t,t+s));else{if(i!=8)throw"unknown compression method: "+i;var C=new Uint8Array(p);a.inflateRaw(_,C),l[w]=C}}},a.inflateRaw=function(e,t){return a.F.inflate(e,t)},a.inflate=function(e,t){return e[0],e[1],a.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},a.deflate=function(e,t){t==null&&(t={level:6});var l=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[l]=120,s[l+1]=156,l+=2,l=a.F.deflateRaw(e,s,l,t.level);var p=a.adler(e,0,e.length);return s[l+0]=p>>>24&255,s[l+1]=p>>>16&255,s[l+2]=p>>>8&255,s[l+3]=p>>>0&255,new Uint8Array(s.buffer,0,l+4)},a.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),s=a.F.deflateRaw(e,l,s,t.level);return new Uint8Array(l.buffer,0,s)},a.encode=function(e,t){t==null&&(t=!1);var l=0,s=a.bin.writeUint,p=a.bin.writeUshort,m={};for(var n in e){var o=!a._noNeed(n)&&!t,i=e[n],u=a.crc.crc(i,0,i.length);m[n]={cpr:o,usize:i.length,crc:u,file:o?a.deflateRaw(i):i}}for(var n in m)l+=m[n].file.length+30+46+2*a.bin.sizeUTF8(n);l+=22;var d=new Uint8Array(l),w=0,_=[];for(var n in m){var C=m[n];_.push(w),w=a._writeHeader(d,w,n,C,0)}var B=0,z=w;for(var n in m)C=m[n],_.push(w),w=a._writeHeader(d,w,n,C,1,_[B++]);var T=w-z;return s(d,w,101010256),w+=4,p(d,w+=4,B),p(d,w+=2,B),s(d,w+=2,T),s(d,w+=4,z),w+=4,w+=2,d.buffer},a._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},a._writeHeader=function(e,t,l,s,p,m){var n=a.bin.writeUint,o=a.bin.writeUshort,i=s.file;return n(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,s.cpr?8:0),n(e,t+=2,0),n(e,t+=4,s.crc),n(e,t+=4,i.length),n(e,t+=4,s.usize),o(e,t+=4,a.bin.sizeUTF8(l)),o(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,n(e,t+=6,m),t+=4),t+=a.bin.writeUTF8(e,t,l),p==0&&(e.set(i,t),t+=i.length),t},a.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,s=0;s<8;s++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,s){for(var p=0;p<s;p++)e=a.crc.table[255&(e^t[l+p])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^a.crc.update(4294967295,e,t,l)}},a.adler=function(e,t,l){for(var s=1,p=0,m=t,n=t+l;m<n;){for(var o=Math.min(m+5552,n);m<o;)p+=s+=e[m++];s%=65521,p%=65521}return p<<16|s},a.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var s="",p=0;p<l;p++)s+=String.fromCharCode(e[t+p]);return s},writeASCII:function(e,t,l){for(var s=0;s<l.length;s++)e[t+s]=l.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var s,p="",m=0;m<l;m++)p+="%"+a.bin.pad(e[t+m].toString(16));try{s=decodeURIComponent(p)}catch{return a.bin.readASCII(e,t,l)}return s},writeUTF8:function(e,t,l){for(var s=l.length,p=0,m=0;m<s;m++){var n=l.charCodeAt(m);if(!(4294967168&n))e[t+p]=n,p++;else if(!(4294965248&n))e[t+p]=192|n>>6,e[t+p+1]=128|n>>0&63,p+=2;else if(!(4294901760&n))e[t+p]=224|n>>12,e[t+p+1]=128|n>>6&63,e[t+p+2]=128|n>>0&63,p+=3;else{if(4292870144&n)throw"e";e[t+p]=240|n>>18,e[t+p+1]=128|n>>12&63,e[t+p+2]=128|n>>6&63,e[t+p+3]=128|n>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,l=0,s=0;s<t;s++){var p=e.charCodeAt(s);if(!(4294967168&p))l++;else if(!(4294965248&p))l+=2;else if(!(4294901760&p))l+=3;else{if(4292870144&p)throw"e";l+=4}}return l}},a.F={},a.F.deflateRaw=function(e,t,l,s){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],m=a.F.U,n=a.F._goodIndex;a.F._hash;var o=a.F._putsE,i=0,u=l<<3,d=0,w=e.length;if(s==0){for(;i<w;)o(t,u,i+(x=Math.min(65535,w-i))==w?1:0),u=a.F._copyExact(e,i,x,t,u+8),i+=x;return u>>>3}var _=m.lits,C=m.strt,B=m.prev,z=0,T=0,P=0,y=0,$=0,h=0;for(w>2&&(C[h=a.F._hash(e,0)]=0),i=0;i<w;i++){if($=h,i+1<w-2){h=a.F._hash(e,i+1);var c=i+1&32767;B[c]=C[h],C[h]=c}if(d<=i){(z>14e3||T>26697)&&w-i>100&&(d<i&&(_[z]=i-d,z+=2,d=i),u=a.F._writeBlock(i==w-1||d==w?1:0,_,z,y,e,P,i-P,t,u),z=T=y=0,P=i);var S=0;i<w-2&&(S=a.F._bestMatch(e,i,B,$,Math.min(p[2],w-i),p[3]));var x=S>>>16,R=65535&S;if(S!=0){R=65535&S;var I=n(x=S>>>16,m.of0);m.lhst[257+I]++;var k=n(R,m.df0);m.dhst[k]++,y+=m.exb[I]+m.dxb[k],_[z]=x<<23|i-d,_[z+1]=R<<16|I<<8|k,z+=2,d=i+x}else m.lhst[e[i]]++;T++}}for(P==i&&e.length!=0||(d<i&&(_[z]=i-d,z+=2,d=i),u=a.F._writeBlock(1,_,z,y,e,P,i-P,t,u),z=0,T=0,z=T=y=0,P=i);7&u;)u++;return u>>>3},a.F._bestMatch=function(e,t,l,s,p,m){var n=32767&t,o=l[n],i=n-o+32768&32767;if(o==n||s!=a.F._hash(e,t-i))return 0;for(var u=0,d=0,w=Math.min(32767,t);i<=w&&--m!=0&&o!=n;){if(u==0||e[t+u]==e[t+u-i]){var _=a.F._howLong(e,t,i);if(_>u){if(d=i,(u=_)>=p)break;i+2<_&&(_=i+2);for(var C=0,B=0;B<_-2;B++){var z=t-i+B+32768&32767,T=z-l[z]+32768&32767;T>C&&(C=T,o=z)}}}i+=(n=o)-(o=l[n])+32768&32767}return u<<16|d},a.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var s=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-l];)t++;return t-s},a.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(e,t,l,s,p,m,n,o,i){var u,d,w,_,C,B,z,T,P,y=a.F.U,$=a.F._putsF,h=a.F._putsE;y.lhst[256]++,d=(u=a.F.getTrees())[0],w=u[1],_=u[2],C=u[3],B=u[4],z=u[5],T=u[6],P=u[7];var c=32+(i+3&7?8-(i+3&7):0)+(n<<3),S=s+a.F.contSize(y.fltree,y.lhst)+a.F.contSize(y.fdtree,y.dhst),x=s+a.F.contSize(y.ltree,y.lhst)+a.F.contSize(y.dtree,y.dhst);x+=14+3*z+a.F.contSize(y.itree,y.ihst)+(2*y.ihst[16]+3*y.ihst[17]+7*y.ihst[18]);for(var R=0;R<286;R++)y.lhst[R]=0;for(R=0;R<30;R++)y.dhst[R]=0;for(R=0;R<19;R++)y.ihst[R]=0;var I=c<S&&c<x?0:S<x?1:2;if($(o,i,e),$(o,i+1,I),i+=3,I==0){for(;7&i;)i++;i=a.F._copyExact(p,m,n,o,i)}else{var k,U;if(I==1&&(k=y.fltree,U=y.fdtree),I==2){a.F.makeCodes(y.ltree,d),a.F.revCodes(y.ltree,d),a.F.makeCodes(y.dtree,w),a.F.revCodes(y.dtree,w),a.F.makeCodes(y.itree,_),a.F.revCodes(y.itree,_),k=y.ltree,U=y.dtree,h(o,i,C-257),h(o,i+=5,B-1),h(o,i+=5,z-4),i+=4;for(var v=0;v<z;v++)h(o,i+3*v,y.itree[1+(y.ordr[v]<<1)]);i+=3*z,i=a.F._codeTiny(T,y.itree,o,i),i=a.F._codeTiny(P,y.itree,o,i)}for(var f=m,M=0;M<l;M+=2){for(var O=t[M],E=O>>>23,H=f+(8388607&O);f<H;)i=a.F._writeLit(p[f++],k,o,i);if(E!=0){var N=t[M+1],V=N>>16,L=N>>8&255,F=255&N;h(o,i=a.F._writeLit(257+L,k,o,i),E-y.of0[L]),i+=y.exb[L],$(o,i=a.F._writeLit(F,U,o,i),V-y.df0[F]),i+=y.dxb[F],f+=E}}i=a.F._writeLit(256,k,o,i)}return i},a.F._copyExact=function(e,t,l,s,p){var m=p>>>3;return s[m]=l,s[m+1]=l>>>8,s[m+2]=255-s[m],s[m+3]=255-s[m+1],m+=4,s.set(new Uint8Array(e.buffer,t,l),m),p+(l+4<<3)},a.F.getTrees=function(){for(var e=a.F.U,t=a.F._hufTree(e.lhst,e.ltree,15),l=a.F._hufTree(e.dhst,e.dtree,15),s=[],p=a.F._lenCodes(e.ltree,s),m=[],n=a.F._lenCodes(e.dtree,m),o=0;o<s.length;o+=2)e.ihst[s[o]]++;for(o=0;o<m.length;o+=2)e.ihst[m[o]]++;for(var i=a.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[t,l,i,p,n,u,s,m]},a.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},a.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},a.F.contSize=function(e,t){for(var l=0,s=0;s<t.length;s++)l+=t[s]*e[1+(s<<1)];return l},a.F._codeTiny=function(e,t,l,s){for(var p=0;p<e.length;p+=2){var m=e[p],n=e[p+1];s=a.F._writeLit(m,t,l,s);var o=m==16?2:m==17?3:7;m>15&&(a.F._putsE(l,s,n,o),s+=o)}return s},a.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var s=0;s<l;s+=2){var p=e[s+1],m=s+3<l?e[s+3]:-1,n=s+5<l?e[s+5]:-1,o=s==0?-1:e[s-1];if(p==0&&m==p&&n==p){for(var i=s+5;i+2<l&&e[i+2]==p;)i+=2;(u=Math.min(i+1-s>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),s+=2*u-2}else if(p==o&&m==p&&n==p){for(i=s+5;i+2<l&&e[i+2]==p;)i+=2;var u=Math.min(i+1-s>>>1,6);t.push(16,u-3),s+=2*u-2}else t.push(p,0)}return l>>>1},a.F._hufTree=function(e,t,l){var s=[],p=e.length,m=t.length,n=0;for(n=0;n<m;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<p;n++)e[n]!=0&&s.push({lit:n,f:e[n]});var o=s.length,i=s.slice(0);if(o==0)return 0;if(o==1){var u=s[0].lit;return i=u==0?1:0,t[1+(u<<1)]=1,t[1+(i<<1)]=1,1}s.sort(function(T,P){return T.f-P.f});var d=s[0],w=s[1],_=0,C=1,B=2;for(s[0]={lit:-1,f:d.f+w.f,l:d,r:w,d:0};C!=o-1;)d=_!=C&&(B==o||s[_].f<s[B].f)?s[_++]:s[B++],w=_!=C&&(B==o||s[_].f<s[B].f)?s[_++]:s[B++],s[C++]={lit:-1,f:d.f+w.f,l:d,r:w};var z=a.F.setDepth(s[C-1],0);for(z>l&&(a.F.restrictDepth(i,l,z),z=l),n=0;n<o;n++)t[1+(i[n].lit<<1)]=i[n].d;return z},a.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(a.F.setDepth(e.l,t+1),a.F.setDepth(e.r,t+1))},a.F.restrictDepth=function(e,t,l){var s=0,p=1<<l-t,m=0;for(e.sort(function(o,i){return i.d==o.d?o.f-i.f:i.d-o.d}),s=0;s<e.length&&e[s].d>t;s++){var n=e[s].d;e[s].d=t,m+=p-(1<<l-n)}for(m>>>=l-t;m>0;)(n=e[s].d)<t?(e[s].d++,m-=1<<t-n-1):s++;for(;s>=0;s--)e[s].d==t&&m<0&&(e[s].d--,m++);m!=0&&console.log("debt left")},a.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},a.F._writeLit=function(e,t,l,s){return a.F._putsF(l,s,t[e<<1]),s+t[1+(e<<1)]},a.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var s=a.F,p=s._bitsF,m=s._bitsE,n=s._decodeTiny,o=s.makeCodes,i=s.codes2map,u=s._get17,d=s.U,w=t==null;w&&(t=new l(e.length>>>2<<3));for(var _,C,B=0,z=0,T=0,P=0,y=0,$=0,h=0,c=0,S=0;B==0;)if(B=p(e,S,1),z=p(e,S+1,2),S+=3,z!=0){if(w&&(t=a.F._check(t,c+(1<<17))),z==1&&(_=d.flmap,C=d.fdmap,$=511,h=31),z==2){T=m(e,S,5)+257,P=m(e,S+5,5)+1,y=m(e,S+10,4)+4,S+=14;for(var x=0;x<38;x+=2)d.itree[x]=0,d.itree[x+1]=0;var R=1;for(x=0;x<y;x++){var I=m(e,S+3*x,3);d.itree[1+(d.ordr[x]<<1)]=I,I>R&&(R=I)}S+=3*y,o(d.itree,R),i(d.itree,R,d.imap),_=d.lmap,C=d.dmap,S=n(d.imap,(1<<R)-1,T+P,e,S,d.ttree);var k=s._copyOut(d.ttree,0,T,d.ltree);$=(1<<k)-1;var U=s._copyOut(d.ttree,T,P,d.dtree);h=(1<<U)-1,o(d.ltree,k),i(d.ltree,k,_),o(d.dtree,U),i(d.dtree,U,C)}for(;;){var v=_[u(e,S)&$];S+=15&v;var f=v>>>4;if(!(f>>>8))t[c++]=f;else{if(f==256)break;var M=c+f-254;if(f>264){var O=d.ldef[f-257];M=c+(O>>>3)+m(e,S,7&O),S+=7&O}var E=C[u(e,S)&h];S+=15&E;var H=E>>>4,N=d.ddef[H],V=(N>>>4)+p(e,S,15&N);for(S+=15&N,w&&(t=a.F._check(t,c+(1<<17)));c<M;)t[c]=t[c++-V],t[c]=t[c++-V],t[c]=t[c++-V],t[c]=t[c++-V];c=M}}}else{7&S&&(S+=8-(7&S));var L=4+(S>>>3),F=e[L-4]|e[L-3]<<8;w&&(t=a.F._check(t,c+F)),t.set(new l(e.buffer,e.byteOffset+L,F),c),S=L+F<<3,c+=F}return t.length==c?t:t.slice(0,c)},a.F._check=function(e,t){var l=e.length;if(t<=l)return e;var s=new Uint8Array(Math.max(l<<1,t));return s.set(e,0),s},a.F._decodeTiny=function(e,t,l,s,p,m){for(var n=a.F._bitsE,o=a.F._get17,i=0;i<l;){var u=e[o(s,p)&t];p+=15&u;var d=u>>>4;if(d<=15)m[i]=d,i++;else{var w=0,_=0;d==16?(_=3+n(s,p,2),p+=2,w=m[i-1]):d==17?(_=3+n(s,p,3),p+=3):d==18&&(_=11+n(s,p,7),p+=7);for(var C=i+_;i<C;)m[i]=w,i++}}return p},a.F._copyOut=function(e,t,l,s){for(var p=0,m=0,n=s.length>>>1;m<l;){var o=e[m+t];s[m<<1]=0,s[1+(m<<1)]=o,o>p&&(p=o),m++}for(;m<n;)s[m<<1]=0,s[1+(m<<1)]=0,m++;return p},a.F.makeCodes=function(e,t){for(var l,s,p,m,n=a.F.U,o=e.length,i=n.bl_count,u=0;u<=t;u++)i[u]=0;for(u=1;u<o;u+=2)i[e[u]]++;var d=n.next_code;for(l=0,i[0]=0,s=1;s<=t;s++)l=l+i[s-1]<<1,d[s]=l;for(p=0;p<o;p+=2)(m=e[p+1])!=0&&(e[p]=d[m],d[m]++)},a.F.codes2map=function(e,t,l){for(var s=e.length,p=a.F.U.rev15,m=0;m<s;m+=2)if(e[m+1]!=0)for(var n=m>>1,o=e[m+1],i=n<<4|o,u=t-o,d=e[m]<<u,w=d+(1<<u);d!=w;)l[p[d]>>>15-t]=i,d++},a.F.revCodes=function(e,t){for(var l=a.F.U.rev15,s=15-t,p=0;p<e.length;p+=2){var m=e[p]<<t-e[p+1];e[p]=l[m]>>>s}},a.F._putsE=function(e,t,l){l<<=7&t;var s=t>>>3;e[s]|=l,e[s+1]|=l>>>8},a.F._putsF=function(e,t,l){l<<=7&t;var s=t>>>3;e[s]|=l,e[s+1]|=l>>>8,e[s+2]|=l>>>16},a.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},a.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},a.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},a.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},a.F.U=(g=Uint16Array,b=Uint32Array,{next_code:new g(16),bl_count:new g(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new g(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new b(32),flmap:new g(512),fltree:[],fdmap:new g(32),fdtree:[],lmap:new g(32768),ltree:[],ttree:[],dmap:new g(32768),dtree:[],imap:new g(512),itree:[],rev15:new g(32768),lhst:new b(286),dhst:new b(30),ihst:new b(19),lits:new b(15e3),strt:new g(65536),prev:new g(32768)}),function(){for(var e=a.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function s(p,m,n){for(;m--!=0;)p.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),a.F.makeCodes(e.fltree,9),a.F.codes2map(e.fltree,9,e.flmap),a.F.revCodes(e.fltree,9),s(e.fdtree,32,5),a.F.makeCodes(e.fdtree,5),a.F.codes2map(e.fdtree,5,e.fdmap),a.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()})();var aa=na({__proto__:null,default:pt},[pt]);const Pe=function(){var r={nextZero(n,o){for(;n[o]!=0;)o++;return o},readUshort:(n,o)=>n[o]<<8|n[o+1],writeUshort(n,o,i){n[o]=i>>8&255,n[o+1]=255&i},readUint:(n,o)=>16777216*n[o]+(n[o+1]<<16|n[o+2]<<8|n[o+3]),writeUint(n,o,i){n[o]=i>>24&255,n[o+1]=i>>16&255,n[o+2]=i>>8&255,n[o+3]=255&i},readASCII(n,o,i){let u="";for(let d=0;d<i;d++)u+=String.fromCharCode(n[o+d]);return u},writeASCII(n,o,i){for(let u=0;u<i.length;u++)n[o+u]=i.charCodeAt(u)},readBytes(n,o,i){const u=[];for(let d=0;d<i;d++)u.push(n[o+d]);return u},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,o,i){let u,d="";for(let w=0;w<i;w++)d+=`%${r.pad(n[o+w].toString(16))}`;try{u=decodeURIComponent(d)}catch{return r.readASCII(n,o,i)}return u}};function g(n,o,i,u){const d=o*i,w=t(u),_=Math.ceil(o*w/8),C=new Uint8Array(4*d),B=new Uint32Array(C.buffer),{ctype:z}=u,{depth:T}=u,P=r.readUshort;if(z==6){const O=d<<2;if(T==8)for(var y=0;y<O;y+=4)C[y]=n[y],C[y+1]=n[y+1],C[y+2]=n[y+2],C[y+3]=n[y+3];if(T==16)for(y=0;y<O;y++)C[y]=n[y<<1]}else if(z==2){const O=u.tabs.tRNS;if(O==null){if(T==8)for(y=0;y<d;y++){var $=3*y;B[y]=255<<24|n[$+2]<<16|n[$+1]<<8|n[$]}if(T==16)for(y=0;y<d;y++)$=6*y,B[y]=255<<24|n[$+4]<<16|n[$+2]<<8|n[$]}else{var h=O[0];const E=O[1],H=O[2];if(T==8)for(y=0;y<d;y++){var c=y<<2;$=3*y,B[y]=255<<24|n[$+2]<<16|n[$+1]<<8|n[$],n[$]==h&&n[$+1]==E&&n[$+2]==H&&(C[c+3]=0)}if(T==16)for(y=0;y<d;y++)c=y<<2,$=6*y,B[y]=255<<24|n[$+4]<<16|n[$+2]<<8|n[$],P(n,$)==h&&P(n,$+2)==E&&P(n,$+4)==H&&(C[c+3]=0)}}else if(z==3){const O=u.tabs.PLTE,E=u.tabs.tRNS,H=E?E.length:0;if(T==1)for(var S=0;S<i;S++){var x=S*_,R=S*o;for(y=0;y<o;y++){c=R+y<<2;var I=3*(k=n[x+(y>>3)]>>7-((7&y)<<0)&1);C[c]=O[I],C[c+1]=O[I+1],C[c+2]=O[I+2],C[c+3]=k<H?E[k]:255}}if(T==2)for(S=0;S<i;S++)for(x=S*_,R=S*o,y=0;y<o;y++)c=R+y<<2,I=3*(k=n[x+(y>>2)]>>6-((3&y)<<1)&3),C[c]=O[I],C[c+1]=O[I+1],C[c+2]=O[I+2],C[c+3]=k<H?E[k]:255;if(T==4)for(S=0;S<i;S++)for(x=S*_,R=S*o,y=0;y<o;y++)c=R+y<<2,I=3*(k=n[x+(y>>1)]>>4-((1&y)<<2)&15),C[c]=O[I],C[c+1]=O[I+1],C[c+2]=O[I+2],C[c+3]=k<H?E[k]:255;if(T==8)for(y=0;y<d;y++){var k;c=y<<2,I=3*(k=n[y]),C[c]=O[I],C[c+1]=O[I+1],C[c+2]=O[I+2],C[c+3]=k<H?E[k]:255}}else if(z==4){if(T==8)for(y=0;y<d;y++){c=y<<2;var U=n[v=y<<1];C[c]=U,C[c+1]=U,C[c+2]=U,C[c+3]=n[v+1]}if(T==16)for(y=0;y<d;y++){var v;c=y<<2,U=n[v=y<<2],C[c]=U,C[c+1]=U,C[c+2]=U,C[c+3]=n[v+2]}}else if(z==0)for(h=u.tabs.tRNS?u.tabs.tRNS:-1,S=0;S<i;S++){const O=S*_,E=S*o;if(T==1)for(var f=0;f<o;f++){var M=(U=255*(n[O+(f>>>3)]>>>7-(7&f)&1))==255*h?0:255;B[E+f]=M<<24|U<<16|U<<8|U}else if(T==2)for(f=0;f<o;f++)M=(U=85*(n[O+(f>>>2)]>>>6-((3&f)<<1)&3))==85*h?0:255,B[E+f]=M<<24|U<<16|U<<8|U;else if(T==4)for(f=0;f<o;f++)M=(U=17*(n[O+(f>>>1)]>>>4-((1&f)<<2)&15))==17*h?0:255,B[E+f]=M<<24|U<<16|U<<8|U;else if(T==8)for(f=0;f<o;f++)M=(U=n[O+f])==h?0:255,B[E+f]=M<<24|U<<16|U<<8|U;else if(T==16)for(f=0;f<o;f++)U=n[O+(f<<1)],M=P(n,O+(f<<1))==h?0:255,B[E+f]=M<<24|U<<16|U<<8|U}return C}function b(n,o,i,u){const d=t(n),w=Math.ceil(i*d/8),_=new Uint8Array((w+1+n.interlace)*u);return o=n.tabs.CgBI?e(o,_):a(o,_),n.interlace==0?o=l(o,n,0,i,u):n.interlace==1&&(o=function(B,z){const T=z.width,P=z.height,y=t(z),$=y>>3,h=Math.ceil(T*y/8),c=new Uint8Array(P*h);let S=0;const x=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],k=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const f=I[U],M=k[U];let O=0,E=0,H=x[U];for(;H<P;)H+=f,E++;let N=R[U];for(;N<T;)N+=M,O++;const V=Math.ceil(O*y/8);l(B,z,S,O,E);let L=0,F=x[U];for(;F<P;){let q=R[U],J=S+L*V<<3;for(;q<T;){var v;if(y==1&&(v=(v=B[J>>3])>>7-(7&J)&1,c[F*h+(q>>3)]|=v<<7-((7&q)<<0)),y==2&&(v=(v=B[J>>3])>>6-(7&J)&3,c[F*h+(q>>2)]|=v<<6-((3&q)<<1)),y==4&&(v=(v=B[J>>3])>>4-(7&J)&15,c[F*h+(q>>1)]|=v<<4-((1&q)<<2)),y>=8){const re=F*h+q*$;for(let Z=0;Z<$;Z++)c[re+Z]=B[(J>>3)+Z]}J+=y,q+=M}L++,F+=f}O*E!=0&&(S+=E*(1+V)),U+=1}return c}(o,n)),o}function a(n,o){return e(new Uint8Array(n.buffer,2,n.length-6),o)}var e=function(){const n={H:{}};return n.H.N=function(o,i){const u=Uint8Array;let d,w,_=0,C=0,B=0,z=0,T=0,P=0,y=0,$=0,h=0;if(o[0]==3&&o[1]==0)return i||new u(0);const c=n.H,S=c.b,x=c.e,R=c.R,I=c.n,k=c.A,U=c.Z,v=c.m,f=i==null;for(f&&(i=new u(o.length>>>2<<5));_==0;)if(_=S(o,h,1),C=S(o,h+1,2),h+=3,C!=0){if(f&&(i=n.H.W(i,$+(1<<17))),C==1&&(d=v.J,w=v.h,P=511,y=31),C==2){B=x(o,h,5)+257,z=x(o,h+5,5)+1,T=x(o,h+10,4)+4,h+=14;let O=1;for(var M=0;M<38;M+=2)v.Q[M]=0,v.Q[M+1]=0;for(M=0;M<T;M++){const N=x(o,h+3*M,3);v.Q[1+(v.X[M]<<1)]=N,N>O&&(O=N)}h+=3*T,I(v.Q,O),k(v.Q,O,v.u),d=v.w,w=v.d,h=R(v.u,(1<<O)-1,B+z,o,h,v.v);const E=c.V(v.v,0,B,v.C);P=(1<<E)-1;const H=c.V(v.v,B,z,v.D);y=(1<<H)-1,I(v.C,E),k(v.C,E,d),I(v.D,H),k(v.D,H,w)}for(;;){const O=d[U(o,h)&P];h+=15&O;const E=O>>>4;if(!(E>>>8))i[$++]=E;else{if(E==256)break;{let H=$+E-254;if(E>264){const q=v.q[E-257];H=$+(q>>>3)+x(o,h,7&q),h+=7&q}const N=w[U(o,h)&y];h+=15&N;const V=N>>>4,L=v.c[V],F=(L>>>4)+S(o,h,15&L);for(h+=15&L;$<H;)i[$]=i[$++-F],i[$]=i[$++-F],i[$]=i[$++-F],i[$]=i[$++-F];$=H}}}}else{7&h&&(h+=8-(7&h));const O=4+(h>>>3),E=o[O-4]|o[O-3]<<8;f&&(i=n.H.W(i,$+E)),i.set(new u(o.buffer,o.byteOffset+O,E),$),h=O+E<<3,$+=E}return i.length==$?i:i.slice(0,$)},n.H.W=function(o,i){const u=o.length;if(i<=u)return o;const d=new Uint8Array(u<<1);return d.set(o,0),d},n.H.R=function(o,i,u,d,w,_){const C=n.H.e,B=n.H.Z;let z=0;for(;z<u;){const T=o[B(d,w)&i];w+=15&T;const P=T>>>4;if(P<=15)_[z]=P,z++;else{let y=0,$=0;P==16?($=3+C(d,w,2),w+=2,y=_[z-1]):P==17?($=3+C(d,w,3),w+=3):P==18&&($=11+C(d,w,7),w+=7);const h=z+$;for(;z<h;)_[z]=y,z++}}return w},n.H.V=function(o,i,u,d){let w=0,_=0;const C=d.length>>>1;for(;_<u;){const B=o[_+i];d[_<<1]=0,d[1+(_<<1)]=B,B>w&&(w=B),_++}for(;_<C;)d[_<<1]=0,d[1+(_<<1)]=0,_++;return w},n.H.n=function(o,i){const u=n.H.m,d=o.length;let w,_,C,B;const z=u.j;for(var T=0;T<=i;T++)z[T]=0;for(T=1;T<d;T+=2)z[o[T]]++;const P=u.K;for(w=0,z[0]=0,_=1;_<=i;_++)w=w+z[_-1]<<1,P[_]=w;for(C=0;C<d;C+=2)B=o[C+1],B!=0&&(o[C]=P[B],P[B]++)},n.H.A=function(o,i,u){const d=o.length,w=n.H.m.r;for(let _=0;_<d;_+=2)if(o[_+1]!=0){const C=_>>1,B=o[_+1],z=C<<4|B,T=i-B;let P=o[_]<<T;const y=P+(1<<T);for(;P!=y;)u[w[P]>>>15-i]=z,P++}},n.H.l=function(o,i){const u=n.H.m.r,d=15-i;for(let w=0;w<o.length;w+=2){const _=o[w]<<i-o[w+1];o[w]=u[_]>>>d}},n.H.M=function(o,i,u){u<<=7&i;const d=i>>>3;o[d]|=u,o[d+1]|=u>>>8},n.H.I=function(o,i,u){u<<=7&i;const d=i>>>3;o[d]|=u,o[d+1]|=u>>>8,o[d+2]|=u>>>16},n.H.e=function(o,i,u){return(o[i>>>3]|o[1+(i>>>3)]<<8)>>>(7&i)&(1<<u)-1},n.H.b=function(o,i,u){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16)>>>(7&i)&(1<<u)-1},n.H.Z=function(o,i){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16)>>>(7&i)},n.H.i=function(o,i){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16|o[3+(i>>>3)]<<24)>>>(7&i)},n.H.m=function(){const o=Uint16Array,i=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new i(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new i(286),Y:new i(30),a:new i(19),t:new i(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=n.H.m;for(var i=0;i<32768;i++){let d=i;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,o.r[i]=(d>>>16|d<<16)>>>17}function u(d,w,_){for(;w--!=0;)d.push(0,_)}for(i=0;i<32;i++)o.q[i]=o.S[i]<<3|o.T[i],o.c[i]=o.p[i]<<4|o.z[i];u(o._,144,8),u(o._,112,9),u(o._,24,7),u(o._,8,8),n.H.n(o._,9),n.H.A(o._,9,o.J),n.H.l(o._,9),u(o.$,32,5),n.H.n(o.$,5),n.H.A(o.$,5,o.h),n.H.l(o.$,5),u(o.Q,19,0),u(o.C,286,0),u(o.D,30,0),u(o.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function l(n,o,i,u,d){let w=t(o);const _=Math.ceil(u*w/8);let C,B;w=Math.ceil(w/8);let z=n[i],T=0;if(z>1&&(n[i]=[0,0,1][z-2]),z==3)for(T=w;T<_;T++)n[T+1]=n[T+1]+(n[T+1-w]>>>1)&255;for(let P=0;P<d;P++)if(C=i+P*_,B=C+P+1,z=n[B-1],T=0,z==0)for(;T<_;T++)n[C+T]=n[B+T];else if(z==1){for(;T<w;T++)n[C+T]=n[B+T];for(;T<_;T++)n[C+T]=n[B+T]+n[C+T-w]}else if(z==2)for(;T<_;T++)n[C+T]=n[B+T]+n[C+T-_];else if(z==3){for(;T<w;T++)n[C+T]=n[B+T]+(n[C+T-_]>>>1);for(;T<_;T++)n[C+T]=n[B+T]+(n[C+T-_]+n[C+T-w]>>>1)}else{for(;T<w;T++)n[C+T]=n[B+T]+s(0,n[C+T-_],0);for(;T<_;T++)n[C+T]=n[B+T]+s(n[C+T-w],n[C+T-_],n[C+T-w-_])}return n}function s(n,o,i){const u=n+o-i,d=u-n,w=u-o,_=u-i;return d*d<=w*w&&d*d<=_*_?n:w*w<=_*_?o:i}function p(n,o,i){i.width=r.readUint(n,o),o+=4,i.height=r.readUint(n,o),o+=4,i.depth=n[o],o++,i.ctype=n[o],o++,i.compress=n[o],o++,i.filter=n[o],o++,i.interlace=n[o],o++}function m(n,o,i,u,d,w,_,C,B){const z=Math.min(o,d),T=Math.min(i,w);let P=0,y=0;for(let U=0;U<T;U++)for(let v=0;v<z;v++)if(_>=0&&C>=0?(P=U*o+v<<2,y=(C+U)*d+_+v<<2):(P=(-C+U)*o-_+v<<2,y=U*d+v<<2),B==0)u[y]=n[P],u[y+1]=n[P+1],u[y+2]=n[P+2],u[y+3]=n[P+3];else if(B==1){var $=n[P+3]*.00392156862745098,h=n[P]*$,c=n[P+1]*$,S=n[P+2]*$,x=u[y+3]*(1/255),R=u[y]*x,I=u[y+1]*x,k=u[y+2]*x;const f=1-$,M=$+x*f,O=M==0?0:1/M;u[y+3]=255*M,u[y+0]=(h+R*f)*O,u[y+1]=(c+I*f)*O,u[y+2]=(S+k*f)*O}else if(B==2)$=n[P+3],h=n[P],c=n[P+1],S=n[P+2],x=u[y+3],R=u[y],I=u[y+1],k=u[y+2],$==x&&h==R&&c==I&&S==k?(u[y]=0,u[y+1]=0,u[y+2]=0,u[y+3]=0):(u[y]=h,u[y+1]=c,u[y+2]=S,u[y+3]=$);else if(B==3){if($=n[P+3],h=n[P],c=n[P+1],S=n[P+2],x=u[y+3],R=u[y],I=u[y+1],k=u[y+2],$==x&&h==R&&c==I&&S==k)continue;if($<220&&x>20)return!1}return!0}return{decode:function(o){const i=new Uint8Array(o);let u=8;const d=r,w=d.readUshort,_=d.readUint,C={tabs:{},frames:[]},B=new Uint8Array(i.length);let z,T=0,P=0;const y=[137,80,78,71,13,10,26,10];for(var $=0;$<8;$++)if(i[$]!=y[$])throw"The input is not a PNG file!";for(;u<i.length;){const U=d.readUint(i,u);u+=4;const v=d.readASCII(i,u,4);if(u+=4,v=="IHDR")p(i,u,C);else if(v=="iCCP"){for(var h=u;i[h]!=0;)h++;d.readASCII(i,u,h-u),i[h+1];const f=i.slice(h+2,u+U);let M=null;try{M=a(f)}catch{M=e(f)}C.tabs[v]=M}else if(v=="CgBI")C.tabs[v]=i.slice(u,u+4);else if(v=="IDAT"){for($=0;$<U;$++)B[T+$]=i[u+$];T+=U}else if(v=="acTL")C.tabs[v]={num_frames:_(i,u),num_plays:_(i,u+4)},z=new Uint8Array(i.length);else if(v=="fcTL"){P!=0&&((k=C.frames[C.frames.length-1]).data=b(C,z.slice(0,P),k.rect.width,k.rect.height),P=0);const f={x:_(i,u+12),y:_(i,u+16),width:_(i,u+4),height:_(i,u+8)};let M=w(i,u+22);M=w(i,u+20)/(M==0?100:M);const O={rect:f,delay:Math.round(1e3*M),dispose:i[u+24],blend:i[u+25]};C.frames.push(O)}else if(v=="fdAT"){for($=0;$<U-4;$++)z[P+$]=i[u+$+4];P+=U-4}else if(v=="pHYs")C.tabs[v]=[d.readUint(i,u),d.readUint(i,u+4),i[u+8]];else if(v=="cHRM")for(C.tabs[v]=[],$=0;$<8;$++)C.tabs[v].push(d.readUint(i,u+4*$));else if(v=="tEXt"||v=="zTXt"){C.tabs[v]==null&&(C.tabs[v]={});var c=d.nextZero(i,u),S=d.readASCII(i,u,c-u),x=u+U-c-1;if(v=="tEXt")I=d.readASCII(i,c+1,x);else{var R=a(i.slice(c+2,c+2+x));I=d.readUTF8(R,0,R.length)}C.tabs[v][S]=I}else if(v=="iTXt"){C.tabs[v]==null&&(C.tabs[v]={}),c=0,h=u,c=d.nextZero(i,h),S=d.readASCII(i,h,c-h);const f=i[h=c+1];var I;i[h+1],h+=2,c=d.nextZero(i,h),d.readASCII(i,h,c-h),h=c+1,c=d.nextZero(i,h),d.readUTF8(i,h,c-h),x=U-((h=c+1)-u),f==0?I=d.readUTF8(i,h,x):(R=a(i.slice(h,h+x)),I=d.readUTF8(R,0,R.length)),C.tabs[v][S]=I}else if(v=="PLTE")C.tabs[v]=d.readBytes(i,u,U);else if(v=="hIST"){const f=C.tabs.PLTE.length/3;for(C.tabs[v]=[],$=0;$<f;$++)C.tabs[v].push(w(i,u+2*$))}else if(v=="tRNS")C.ctype==3?C.tabs[v]=d.readBytes(i,u,U):C.ctype==0?C.tabs[v]=w(i,u):C.ctype==2&&(C.tabs[v]=[w(i,u),w(i,u+2),w(i,u+4)]);else if(v=="gAMA")C.tabs[v]=d.readUint(i,u)/1e5;else if(v=="sRGB")C.tabs[v]=i[u];else if(v=="bKGD")C.ctype==0||C.ctype==4?C.tabs[v]=[w(i,u)]:C.ctype==2||C.ctype==6?C.tabs[v]=[w(i,u),w(i,u+2),w(i,u+4)]:C.ctype==3&&(C.tabs[v]=i[u]);else if(v=="IEND")break;u+=U,d.readUint(i,u),u+=4}var k;return P!=0&&((k=C.frames[C.frames.length-1]).data=b(C,z.slice(0,P),k.rect.width,k.rect.height)),C.data=b(C,B,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C},toRGBA8:function(o){const i=o.width,u=o.height;if(o.tabs.acTL==null)return[g(o.data,i,u,o).buffer];const d=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const w=i*u*4,_=new Uint8Array(w),C=new Uint8Array(w),B=new Uint8Array(w);for(let T=0;T<o.frames.length;T++){const P=o.frames[T],y=P.rect.x,$=P.rect.y,h=P.rect.width,c=P.rect.height,S=g(P.data,h,c,o);if(T!=0)for(var z=0;z<w;z++)B[z]=_[z];if(P.blend==0?m(S,h,c,_,i,u,y,$,0):P.blend==1&&m(S,h,c,_,i,u,y,$,1),d.push(_.buffer.slice(0)),P.dispose!=0){if(P.dispose==1)m(C,h,c,_,i,u,y,$,0);else if(P.dispose==2)for(z=0;z<w;z++)_[z]=B[z]}}return d},_paeth:s,_copyTile:m,_bin:r}}();(function(){const{_copyTile:r}=Pe,{_bin:g}=Pe,b=Pe._paeth;var a={table:function(){const h=new Uint32Array(256);for(let c=0;c<256;c++){let S=c;for(let x=0;x<8;x++)1&S?S=3988292384^S>>>1:S>>>=1;h[c]=S}return h}(),update(h,c,S,x){for(let R=0;R<x;R++)h=a.table[255&(h^c[S+R])]^h>>>8;return h},crc:(h,c,S)=>4294967295^a.update(4294967295,h,c,S)};function e(h,c,S,x){c[S]+=h[0]*x>>4,c[S+1]+=h[1]*x>>4,c[S+2]+=h[2]*x>>4,c[S+3]+=h[3]*x>>4}function t(h){return Math.max(0,Math.min(255,h))}function l(h,c){const S=h[0]-c[0],x=h[1]-c[1],R=h[2]-c[2],I=h[3]-c[3];return S*S+x*x+R*R+I*I}function s(h,c,S,x,R,I,k){k==null&&(k=1);const U=x.length,v=[];for(var f=0;f<U;f++){const F=x[f];v.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(f=0;f<U;f++){let F=4294967295;for(var M=0,O=0;O<U;O++){var E=l(v[f],v[O]);O!=f&&E<F&&(F=E,M=O)}}const H=new Uint32Array(R.buffer),N=new Int16Array(c*S*4),V=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(f=0;f<V.length;f++)V[f]=255*((V[f]+.5)/16-.5);for(let F=0;F<S;F++)for(let q=0;q<c;q++){var L;f=4*(F*c+q),k!=2?L=[t(h[f]+N[f]),t(h[f+1]+N[f+1]),t(h[f+2]+N[f+2]),t(h[f+3]+N[f+3])]:(E=V[4*(3&F)+(3&q)],L=[t(h[f]+E),t(h[f+1]+E),t(h[f+2]+E),t(h[f+3]+E)]),M=0;let J=16777215;for(O=0;O<U;O++){const ae=l(L,v[O]);ae<J&&(J=ae,M=O)}const re=v[M],Z=[L[0]-re[0],L[1]-re[1],L[2]-re[2],L[3]-re[3]];k==1&&(q!=c-1&&e(Z,N,f+4,7),F!=S-1&&(q!=0&&e(Z,N,f+4*c-4,3),e(Z,N,f+4*c,5),q!=c-1&&e(Z,N,f+4*c+4,1))),I[f>>2]=M,H[f>>2]=x[M]}}function p(h,c,S,x,R){R==null&&(R={});const{crc:I}=a,k=g.writeUint,U=g.writeUshort,v=g.writeASCII;let f=8;const M=h.frames.length>1;let O,E=!1,H=33+(M?20:0);if(R.sRGB!=null&&(H+=13),R.pHYs!=null&&(H+=21),R.iCCP!=null&&(O=pako.deflate(R.iCCP),H+=21+O.length+4),h.ctype==3){for(var N=h.plte.length,V=0;V<N;V++)h.plte[V]>>>24!=255&&(E=!0);H+=8+3*N+4+(E?8+1*N+4:0)}for(var L=0;L<h.frames.length;L++)M&&(H+=38),H+=(re=h.frames[L]).cimg.length+12,L!=0&&(H+=4);H+=12;const F=new Uint8Array(H),q=[137,80,78,71,13,10,26,10];for(V=0;V<8;V++)F[V]=q[V];if(k(F,f,13),f+=4,v(F,f,"IHDR"),f+=4,k(F,f,c),f+=4,k(F,f,S),f+=4,F[f]=h.depth,f++,F[f]=h.ctype,f++,F[f]=0,f++,F[f]=0,f++,F[f]=0,f++,k(F,f,I(F,f-17,17)),f+=4,R.sRGB!=null&&(k(F,f,1),f+=4,v(F,f,"sRGB"),f+=4,F[f]=R.sRGB,f++,k(F,f,I(F,f-5,5)),f+=4),R.iCCP!=null){const Z=13+O.length;k(F,f,Z),f+=4,v(F,f,"iCCP"),f+=4,v(F,f,"ICC profile"),f+=11,f+=2,F.set(O,f),f+=O.length,k(F,f,I(F,f-(Z+4),Z+4)),f+=4}if(R.pHYs!=null&&(k(F,f,9),f+=4,v(F,f,"pHYs"),f+=4,k(F,f,R.pHYs[0]),f+=4,k(F,f,R.pHYs[1]),f+=4,F[f]=R.pHYs[2],f++,k(F,f,I(F,f-13,13)),f+=4),M&&(k(F,f,8),f+=4,v(F,f,"acTL"),f+=4,k(F,f,h.frames.length),f+=4,k(F,f,R.loop!=null?R.loop:0),f+=4,k(F,f,I(F,f-12,12)),f+=4),h.ctype==3){for(k(F,f,3*(N=h.plte.length)),f+=4,v(F,f,"PLTE"),f+=4,V=0;V<N;V++){const Z=3*V,ae=h.plte[V],fe=255&ae,pe=ae>>>8&255,$e=ae>>>16&255;F[f+Z+0]=fe,F[f+Z+1]=pe,F[f+Z+2]=$e}if(f+=3*N,k(F,f,I(F,f-3*N-4,3*N+4)),f+=4,E){for(k(F,f,N),f+=4,v(F,f,"tRNS"),f+=4,V=0;V<N;V++)F[f+V]=h.plte[V]>>>24&255;f+=N,k(F,f,I(F,f-N-4,N+4)),f+=4}}let J=0;for(L=0;L<h.frames.length;L++){var re=h.frames[L];M&&(k(F,f,26),f+=4,v(F,f,"fcTL"),f+=4,k(F,f,J++),f+=4,k(F,f,re.rect.width),f+=4,k(F,f,re.rect.height),f+=4,k(F,f,re.rect.x),f+=4,k(F,f,re.rect.y),f+=4,U(F,f,x[L]),f+=2,U(F,f,1e3),f+=2,F[f]=re.dispose,f++,F[f]=re.blend,f++,k(F,f,I(F,f-30,30)),f+=4);const Z=re.cimg;k(F,f,(N=Z.length)+(L==0?0:4)),f+=4;const ae=f;v(F,f,L==0?"IDAT":"fdAT"),f+=4,L!=0&&(k(F,f,J++),f+=4),F.set(Z,f),f+=N,k(F,f,I(F,ae,f-ae)),f+=4}return k(F,f,0),f+=4,v(F,f,"IEND"),f+=4,k(F,f,I(F,f-4,4)),f+=4,F.buffer}function m(h,c,S){for(let x=0;x<h.frames.length;x++){const R=h.frames[x];R.rect.width;const I=R.rect.height,k=new Uint8Array(I*R.bpl+I);R.cimg=u(R.img,I,R.bpp,R.bpl,k,c,S)}}function n(h,c,S,x,R){const I=R[0],k=R[1],U=R[2],v=R[3],f=R[4],M=R[5];let O=6,E=8,H=255;for(var N=0;N<h.length;N++){const he=new Uint8Array(h[N]);for(var V=he.length,L=0;L<V;L+=4)H&=he[L+3]}const F=H!=255,q=function(se,D,W,j,X,K){const ee=[];for(var Q=0;Q<se.length;Q++){const Ce=new Uint8Array(se[Q]),Te=new Uint32Array(Ce.buffer);var de;let Ie=0,Le=0,Ue=D,De=W,xt=j?1:0;if(Q!=0){const tn=K||j||Q==1||ee[Q-2].dispose!=0?1:2;let Ct=0,Nt=1e9;for(let et=0;et<tn;et++){var we=new Uint8Array(se[Q-1-et]);const rn=new Uint32Array(se[Q-1-et]);let Be=D,Me=W,Ze=-1,tt=-1;for(let Ne=0;Ne<W;Ne++)for(let je=0;je<D;je++)Te[ye=Ne*D+je]!=rn[ye]&&(je<Be&&(Be=je),je>Ze&&(Ze=je),Ne<Me&&(Me=Ne),Ne>tt&&(tt=Ne));Ze==-1&&(Be=Me=Ze=tt=0),X&&((1&Be)==1&&Be--,(1&Me)==1&&Me--);const jt=(Ze-Be+1)*(tt-Me+1);jt<Nt&&(Nt=jt,Ct=et,Ie=Be,Le=Me,Ue=Ze-Be+1,De=tt-Me+1)}we=new Uint8Array(se[Q-1-Ct]),Ct==1&&(ee[Q-1].dispose=2),de=new Uint8Array(Ue*De*4),r(we,D,W,de,Ue,De,-Ie,-Le,0),xt=r(Ce,D,W,de,Ue,De,-Ie,-Le,3)?1:0,xt==1?i(Ce,D,W,de,{x:Ie,y:Le,width:Ue,height:De}):r(Ce,D,W,de,Ue,De,-Ie,-Le,0)}else de=Ce.slice(0);ee.push({rect:{x:Ie,y:Le,width:Ue,height:De},img:de,blend:xt,dispose:0})}if(j)for(Q=0;Q<ee.length;Q++){if((Ee=ee[Q]).blend==1)continue;const Ce=Ee.rect,Te=ee[Q-1].rect,Ie=Math.min(Ce.x,Te.x),Le=Math.min(Ce.y,Te.y),Ue={x:Ie,y:Le,width:Math.max(Ce.x+Ce.width,Te.x+Te.width)-Ie,height:Math.max(Ce.y+Ce.height,Te.y+Te.height)-Le};ee[Q-1].dispose=1,Q-1!=0&&o(se,D,W,ee,Q-1,Ue,X),o(se,D,W,ee,Q,Ue,X)}let at=0;if(se.length!=1)for(var ye=0;ye<ee.length;ye++){var Ee;at+=(Ee=ee[ye]).rect.width*Ee.rect.height}return ee}(h,c,S,I,k,U),J={},re=[],Z=[];if(x!=0){const he=[];for(L=0;L<q.length;L++)he.push(q[L].img.buffer);const se=function(X){let K=0;for(var ee=0;ee<X.length;ee++)K+=X[ee].byteLength;const Q=new Uint8Array(K);let de=0;for(ee=0;ee<X.length;ee++){const we=new Uint8Array(X[ee]),at=we.length;for(let ye=0;ye<at;ye+=4){let Ee=we[ye],Ce=we[ye+1],Te=we[ye+2];const Ie=we[ye+3];Ie==0&&(Ee=Ce=Te=0),Q[de+ye]=Ee,Q[de+ye+1]=Ce,Q[de+ye+2]=Te,Q[de+ye+3]=Ie}de+=at}return Q.buffer}(he),D=w(se,x);for(L=0;L<D.plte.length;L++)re.push(D.plte[L].est.rgba);let W=0;for(L=0;L<q.length;L++){const j=(fe=q[L]).img.length;var ae=new Uint8Array(D.inds.buffer,W>>2,j>>2);Z.push(ae);const X=new Uint8Array(D.abuf,W,j);M&&s(fe.img,fe.rect.width,fe.rect.height,re,X,ae),fe.img.set(X),W+=j}}else for(N=0;N<q.length;N++){var fe=q[N];const he=new Uint32Array(fe.img.buffer);var pe=fe.rect.width;for(V=he.length,ae=new Uint8Array(V),Z.push(ae),L=0;L<V;L++){const se=he[L];if(L!=0&&se==he[L-1])ae[L]=ae[L-1];else if(L>pe&&se==he[L-pe])ae[L]=ae[L-pe];else{let D=J[se];if(D==null&&(J[se]=D=re.length,re.push(se),re.length>=300))break;ae[L]=D}}}const $e=re.length;for($e<=256&&f==0&&(E=$e<=2?1:$e<=4?2:$e<=16?4:8,E=Math.max(E,v)),N=0;N<q.length;N++){(fe=q[N]).rect.x,fe.rect.y,pe=fe.rect.width;const he=fe.rect.height;let se=fe.img;new Uint32Array(se.buffer);let D=4*pe,W=4;if($e<=256&&f==0){D=Math.ceil(E*pe/8);var _e=new Uint8Array(D*he);const j=Z[N];for(let X=0;X<he;X++){L=X*D;const K=X*pe;if(E==8)for(var ue=0;ue<pe;ue++)_e[L+ue]=j[K+ue];else if(E==4)for(ue=0;ue<pe;ue++)_e[L+(ue>>1)]|=j[K+ue]<<4-4*(1&ue);else if(E==2)for(ue=0;ue<pe;ue++)_e[L+(ue>>2)]|=j[K+ue]<<6-2*(3&ue);else if(E==1)for(ue=0;ue<pe;ue++)_e[L+(ue>>3)]|=j[K+ue]<<7-1*(7&ue)}se=_e,O=3,W=1}else if(F==0&&q.length==1){_e=new Uint8Array(pe*he*3);const j=pe*he;for(L=0;L<j;L++){const X=3*L,K=4*L;_e[X]=se[K],_e[X+1]=se[K+1],_e[X+2]=se[K+2]}se=_e,O=2,W=3,D=3*pe}fe.img=se,fe.bpl=D,fe.bpp=W}return{ctype:O,depth:E,plte:re,frames:q}}function o(h,c,S,x,R,I,k){const U=Uint8Array,v=Uint32Array,f=new U(h[R-1]),M=new v(h[R-1]),O=R+1<h.length?new U(h[R+1]):null,E=new U(h[R]),H=new v(E.buffer);let N=c,V=S,L=-1,F=-1;for(let J=0;J<I.height;J++)for(let re=0;re<I.width;re++){const Z=I.x+re,ae=I.y+J,fe=ae*c+Z,pe=H[fe];pe==0||x[R-1].dispose==0&&M[fe]==pe&&(O==null||O[4*fe+3]!=0)||(Z<N&&(N=Z),Z>L&&(L=Z),ae<V&&(V=ae),ae>F&&(F=ae))}L==-1&&(N=V=L=F=0),k&&((1&N)==1&&N--,(1&V)==1&&V--),I={x:N,y:V,width:L-N+1,height:F-V+1};const q=x[R];q.rect=I,q.blend=1,q.img=new Uint8Array(I.width*I.height*4),x[R-1].dispose==0?(r(f,c,S,q.img,I.width,I.height,-I.x,-I.y,0),i(E,c,S,q.img,I)):r(E,c,S,q.img,I.width,I.height,-I.x,-I.y,0)}function i(h,c,S,x,R){r(h,c,S,x,R.width,R.height,-R.x,-R.y,2)}function u(h,c,S,x,R,I,k){const U=[];let v,f=[0,1,2,3,4];I!=-1?f=[I]:(c*x>5e5||S==1)&&(f=[0]),k&&(v={level:0});const M=aa;for(var O=0;O<f.length;O++){for(let N=0;N<c;N++)d(R,h,N,x,S,f[O]);U.push(M.deflate(R,v))}let E,H=1e9;for(O=0;O<U.length;O++)U[O].length<H&&(E=O,H=U[O].length);return U[E]}function d(h,c,S,x,R,I){const k=S*x;let U=k+S;if(h[U]=I,U++,I==0)if(x<500)for(var v=0;v<x;v++)h[U+v]=c[k+v];else h.set(new Uint8Array(c.buffer,k,x),U);else if(I==1){for(v=0;v<R;v++)h[U+v]=c[k+v];for(v=R;v<x;v++)h[U+v]=c[k+v]-c[k+v-R]+256&255}else if(S==0){for(v=0;v<R;v++)h[U+v]=c[k+v];if(I==2)for(v=R;v<x;v++)h[U+v]=c[k+v];if(I==3)for(v=R;v<x;v++)h[U+v]=c[k+v]-(c[k+v-R]>>1)+256&255;if(I==4)for(v=R;v<x;v++)h[U+v]=c[k+v]-b(c[k+v-R],0,0)+256&255}else{if(I==2)for(v=0;v<x;v++)h[U+v]=c[k+v]+256-c[k+v-x]&255;if(I==3){for(v=0;v<R;v++)h[U+v]=c[k+v]+256-(c[k+v-x]>>1)&255;for(v=R;v<x;v++)h[U+v]=c[k+v]+256-(c[k+v-x]+c[k+v-R]>>1)&255}if(I==4){for(v=0;v<R;v++)h[U+v]=c[k+v]+256-b(0,c[k+v-x],0)&255;for(v=R;v<x;v++)h[U+v]=c[k+v]+256-b(c[k+v-R],c[k+v-x],c[k+v-R-x])&255}}}function w(h,c){const S=new Uint8Array(h),x=S.slice(0),R=new Uint32Array(x.buffer),I=_(x,c),k=I[0],U=I[1],v=S.length,f=new Uint8Array(v>>2);let M;if(S.length<2e7)for(var O=0;O<v;O+=4)M=C(k,E=S[O]*(1/255),H=S[O+1]*(1/255),N=S[O+2]*(1/255),V=S[O+3]*(1/255)),f[O>>2]=M.ind,R[O>>2]=M.est.rgba;else for(O=0;O<v;O+=4){var E=S[O]*.00392156862745098,H=S[O+1]*(1/255),N=S[O+2]*(1/255),V=S[O+3]*(1/255);for(M=k;M.left;)M=B(M.est,E,H,N,V)<=0?M.left:M.right;f[O>>2]=M.ind,R[O>>2]=M.est.rgba}return{abuf:x.buffer,inds:f,plte:U}}function _(h,c,S){S==null&&(S=1e-4);const x=new Uint32Array(h.buffer),R={i0:0,i1:h.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=P(h,R.i0,R.i1),R.est=y(R.bst);const I=[R];for(;I.length<c;){let U=0,v=0;for(var k=0;k<I.length;k++)I[k].est.L>U&&(U=I[k].est.L,v=k);if(U<S)break;const f=I[v],M=z(h,x,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=M||f.i1<=M){f.est.L=0;continue}const O={i0:f.i0,i1:M,bst:null,est:null,tdst:0,left:null,right:null};O.bst=P(h,O.i0,O.i1),O.est=y(O.bst);const E={i0:M,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};for(E.bst={R:[],m:[],N:f.bst.N-O.bst.N},k=0;k<16;k++)E.bst.R[k]=f.bst.R[k]-O.bst.R[k];for(k=0;k<4;k++)E.bst.m[k]=f.bst.m[k]-O.bst.m[k];E.est=y(E.bst),f.left=O,f.right=E,I[v]=O,I.push(E)}for(I.sort((U,v)=>v.bst.N-U.bst.N),k=0;k<I.length;k++)I[k].ind=k;return[R,I]}function C(h,c,S,x,R){if(h.left==null)return h.tdst=function(O,E,H,N,V){const L=E-O[0],F=H-O[1],q=N-O[2],J=V-O[3];return L*L+F*F+q*q+J*J}(h.est.q,c,S,x,R),h;const I=B(h.est,c,S,x,R);let k=h.left,U=h.right;I>0&&(k=h.right,U=h.left);const v=C(k,c,S,x,R);if(v.tdst<=I*I)return v;const f=C(U,c,S,x,R);return f.tdst<v.tdst?f:v}function B(h,c,S,x,R){const{e:I}=h;return I[0]*c+I[1]*S+I[2]*x+I[3]*R-h.eMq}function z(h,c,S,x,R,I){for(x-=4;S<x;){for(;T(h,S,R)<=I;)S+=4;for(;T(h,x,R)>I;)x-=4;if(S>=x)break;const k=c[S>>2];c[S>>2]=c[x>>2],c[x>>2]=k,S+=4,x-=4}for(;T(h,S,R)>I;)S-=4;return S+4}function T(h,c,S){return h[c]*S[0]+h[c+1]*S[1]+h[c+2]*S[2]+h[c+3]*S[3]}function P(h,c,S){const x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],I=S-c>>2;for(let k=c;k<S;k+=4){const U=h[k]*.00392156862745098,v=h[k+1]*(1/255),f=h[k+2]*(1/255),M=h[k+3]*(1/255);R[0]+=U,R[1]+=v,R[2]+=f,R[3]+=M,x[0]+=U*U,x[1]+=U*v,x[2]+=U*f,x[3]+=U*M,x[5]+=v*v,x[6]+=v*f,x[7]+=v*M,x[10]+=f*f,x[11]+=f*M,x[15]+=M*M}return x[4]=x[1],x[8]=x[2],x[9]=x[6],x[12]=x[3],x[13]=x[7],x[14]=x[11],{R:x,m:R,N:I}}function y(h){const{R:c}=h,{m:S}=h,{N:x}=h,R=S[0],I=S[1],k=S[2],U=S[3],v=x==0?0:1/x,f=[c[0]-R*R*v,c[1]-R*I*v,c[2]-R*k*v,c[3]-R*U*v,c[4]-I*R*v,c[5]-I*I*v,c[6]-I*k*v,c[7]-I*U*v,c[8]-k*R*v,c[9]-k*I*v,c[10]-k*k*v,c[11]-k*U*v,c[12]-U*R*v,c[13]-U*I*v,c[14]-U*k*v,c[15]-U*U*v],M=f,O=$;let E=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,N=0;if(x!=0)for(let L=0;L<16&&(E=O.multVec(M,E),N=Math.sqrt(O.dot(E,E)),E=O.sml(1/N,E),!(L!=0&&Math.abs(N-H)<1e-9));L++)H=N;const V=[R*v,I*v,k*v,U*v];return{Cov:f,q:V,e:E,L:H,eMq255:O.dot(O.sml(255,V),E),eMq:O.dot(E,V),rgba:(Math.round(255*V[3])<<24|Math.round(255*V[2])<<16|Math.round(255*V[1])<<8|Math.round(255*V[0])<<0)>>>0}}var $={multVec:(h,c)=>[h[0]*c[0]+h[1]*c[1]+h[2]*c[2]+h[3]*c[3],h[4]*c[0]+h[5]*c[1]+h[6]*c[2]+h[7]*c[3],h[8]*c[0]+h[9]*c[1]+h[10]*c[2]+h[11]*c[3],h[12]*c[0]+h[13]*c[1]+h[14]*c[2]+h[15]*c[3]],dot:(h,c)=>h[0]*c[0]+h[1]*c[1]+h[2]*c[2]+h[3]*c[3],sml:(h,c)=>[h*c[0],h*c[1],h*c[2],h*c[3]]};Pe.encode=function(c,S,x,R,I,k,U){R==null&&(R=0),U==null&&(U=!1);const v=n(c,S,x,R,[!1,!1,!1,0,U,!1]);return m(v,-1),p(v,S,x,I,k)},Pe.encodeLL=function(c,S,x,R,I,k,U,v){const f={ctype:0+(R==1?0:2)+(I==0?0:4),depth:k,frames:[]},M=(R+I)*k,O=M*S;for(let E=0;E<c.length;E++)f.frames.push({rect:{x:0,y:0,width:S,height:x},img:new Uint8Array(c[E]),blend:0,dispose:1,bpp:Math.ceil(M/8),bpl:Math.ceil(O/8)});return m(f,0,!0),p(f,S,x,U,v)},Pe.encode.compress=n,Pe.encode.dither=s,Pe.quantize=w,Pe.quantize.getKDtree=_,Pe.quantize.getNearest=C})();const Wr={toArrayBuffer(r,g){const b=r.width,a=r.height,e=b<<2,t=r.getContext("2d").getImageData(0,0,b,a),l=new Uint32Array(t.data.buffer),s=(32*b+31)/32<<2,p=s*a,m=122+p,n=new ArrayBuffer(m),o=new DataView(n),i=1<<20;let u,d,w,_,C=i,B=0,z=0,T=0;function P(h){o.setUint16(z,h,!0),z+=2}function y(h){o.setUint32(z,h,!0),z+=4}function $(h){z+=h}P(19778),y(m),$(4),y(122),y(108),y(b),y(-a>>>0),P(1),P(32),y(3),y(p),y(2835),y(2835),$(8),y(16711680),y(65280),y(255),y(4278190080),y(1466527264),function h(){for(;B<a&&C>0;){for(_=122+B*s,u=0;u<e;)C--,d=l[T++],w=d>>>24,o.setUint32(_+u,d<<8|w),u+=4;B++}T<l.length?(C=i,setTimeout(h,Wr._dly)):g(n)}()},toBlob(r,g){this.toArrayBuffer(r,b=>{g(new Blob([b],{type:"image/bmp"}))})},_dly:9};var Ae={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},la={[Ae.CHROME]:16384,[Ae.FIREFOX]:11180,[Ae.DESKTOP_SAFARI]:16384,[Ae.IE]:8192,[Ae.IOS]:4096,[Ae.ETC]:8192};const Et=typeof window<"u",qr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,vt=Et&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),sa=(Et||qr)&&(vt&&vt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Gr=(Et||qr)&&(vt&&vt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Dt(r,g,b=Date.now()){return new Promise(a=>{const e=r.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let s=l.length;const p=new Uint8Array(s);for(;s--;)p[s]=l.charCodeAt(s);const m=new Blob([p],{type:t});m.name=g,m.lastModified=b,a(m)})}function Zr(r){return new Promise((g,b)=>{const a=new Gr;a.onload=()=>g(a.result),a.onerror=e=>b(e),a.readAsDataURL(r)})}function Xr(r){return new Promise((g,b)=>{const a=new Image;a.onload=()=>g(a),a.onerror=e=>b(e),a.src=r})}function We(){if(We.cachedResult!==void 0)return We.cachedResult;let r=Ae.ETC;const{userAgent:g}=navigator;return/Chrom(e|ium)/i.test(g)?r=Ae.CHROME:/iP(ad|od|hone)/i.test(g)&&/WebKit/i.test(g)?r=Ae.IOS:/Safari/i.test(g)?r=Ae.DESKTOP_SAFARI:/Firefox/i.test(g)?r=Ae.FIREFOX:(/MSIE/i.test(g)||document.documentMode)&&(r=Ae.IE),We.cachedResult=r,We.cachedResult}function Yr(r,g){const b=We(),a=la[b];let e=r,t=g,l=e*t;const s=e>t?t/e:e/t;for(;l>a*a;){const p=(a+e)/2,m=(a+t)/2;p<m?(t=m,e=m*s):(t=p*s,e=p),l=e*t}return{width:e,height:t}}function yt(r,g){let b,a;try{if(b=new OffscreenCanvas(r,g),a=b.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{b=document.createElement("canvas"),a=b.getContext("2d")}return b.width=r,b.height=g,[b,a]}function Qr(r,g){const{width:b,height:a}=Yr(r.width,r.height),[e,t]=yt(b,a);return g&&/jpe?g/.test(g)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(r,0,0,e.width,e.height),e}function ht(){return ht.cachedResult!==void 0||(ht.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ht.cachedResult}function mt(r,g={}){return new Promise(function(b,a){let e,t;var l=function(){try{return t=Qr(e,g.fileType||r.type),b([e,t])}catch(p){return a(p)}},s=function(p){try{var m=function(n){try{throw n}catch(o){return a(o)}};try{let n;return Zr(r).then(function(o){try{return n=o,Xr(n).then(function(i){try{return e=i,function(){try{return l()}catch(u){return a(u)}}()}catch(u){return m(u)}},m)}catch(i){return m(i)}},m)}catch(n){m(n)}}catch(n){return a(n)}};try{if(ht()||[Ae.DESKTOP_SAFARI,Ae.MOBILE_SAFARI].includes(We()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(p){try{return e=p,l()}catch{return s()}},s)}catch{s()}})}function bt(r,g,b,a,e=1){return new Promise(function(t,l){let s;if(g==="image/png"){let m,n,o;return m=r.getContext("2d"),{data:n}=m.getImageData(0,0,r.width,r.height),o=Pe.encode([n.buffer],r.width,r.height,4096*e),s=new Blob([o],{type:g}),s.name=b,s.lastModified=a,p.call(this)}{let m=function(){return p.call(this)};if(g==="image/bmp")return new Promise(n=>Wr.toBlob(r,n)).then((function(n){try{return s=n,s.name=b,s.lastModified=a,m.call(this)}catch(o){return l(o)}}).bind(this),l);{let n=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:g,quality:e}).then((function(o){try{return s=o,s.name=b,s.lastModified=a,n.call(this)}catch(i){return l(i)}}).bind(this),l);{let o;return o=r.toDataURL(g,e),Dt(o,b,a).then((function(i){try{return s=i,n.call(this)}catch(u){return l(u)}}).bind(this),l)}}}function p(){return t(s)}})}function Oe(r){r.width=0,r.height=0}function Qe(){return new Promise(function(r,g){let b,a,e,t;return Qe.cachedResult!==void 0?r(Qe.cachedResult):Dt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return b=l,mt(b).then(function(s){try{return a=s[1],bt(a,b.type,b.name,b.lastModified).then(function(p){try{return e=p,Oe(a),mt(e).then(function(m){try{return t=m[0],Qe.cachedResult=t.width===1&&t.height===2,r(Qe.cachedResult)}catch(n){return g(n)}},g)}catch(m){return g(m)}},g)}catch(p){return g(p)}},g)}catch(s){return g(s)}},g)})}function Kr(r){return new Promise((g,b)=>{const a=new Gr;a.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return g(-2);const l=t.byteLength;let s=2;for(;s<l;){if(t.getUint16(s+2,!1)<=8)return g(-1);const p=t.getUint16(s,!1);if(s+=2,p==65505){if(t.getUint32(s+=2,!1)!=1165519206)return g(-1);const m=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,m);const n=t.getUint16(s,m);s+=2;for(let o=0;o<n;o++)if(t.getUint16(s+12*o,m)==274)return g(t.getUint16(s+12*o+8,m))}else{if((65280&p)!=65280)break;s+=t.getUint16(s,!1)}}return g(-1)},a.onerror=e=>b(e),a.readAsArrayBuffer(r)})}function Jr(r,g){const{width:b}=r,{height:a}=r,{maxWidthOrHeight:e}=g;let t,l=r;return isFinite(e)&&(b>e||a>e)&&([l,t]=yt(b,a),b>a?(l.width=e,l.height=a/b*e):(l.width=b/a*e,l.height=e),t.drawImage(r,0,0,l.width,l.height),Oe(r)),l}function en(r,g){const{width:b}=r,{height:a}=r,[e,t]=yt(b,a);switch(g>4&&g<9?(e.width=a,e.height=b):(e.width=b,e.height=a),g){case 2:t.transform(-1,0,0,1,b,0);break;case 3:t.transform(-1,0,0,-1,b,a);break;case 4:t.transform(1,0,0,-1,0,a);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,a,0);break;case 7:t.transform(0,-1,-1,0,a,b);break;case 8:t.transform(0,-1,1,0,0,b)}return t.drawImage(r,0,0,b,a),Oe(r),e}function or(r,g,b=0){return new Promise(function(a,e){let t,l,s,p,m,n,o,i,u,d,w,_,C,B,z,T,P,y,$,h;function c(x=5){if(g.signal&&g.signal.aborted)throw g.signal.reason;t+=x,g.onProgress(Math.min(t,100))}function S(x){if(g.signal&&g.signal.aborted)throw g.signal.reason;t=Math.min(Math.max(x,t),100),g.onProgress(t)}return t=b,l=g.maxIteration||10,s=1024*g.maxSizeMB*1024,c(),mt(r,g).then((function(x){try{return[,p]=x,c(),m=Jr(p,g),c(),new Promise(function(R,I){var k;if(!(k=g.exifOrientation))return Kr(r).then((function(v){try{return k=v,U.call(this)}catch(f){return I(f)}}).bind(this),I);function U(){return R(k)}return U.call(this)}).then((function(R){try{return n=R,c(),Qe().then((function(I){try{return o=I?m:en(m,n),c(),i=g.initialQuality||1,u=g.fileType||r.type,bt(o,u,r.name,r.lastModified,i).then((function(k){try{{let v=function(){if(l--&&(z>s||z>C)){let M,O;return M=h?.95*$.width:$.width,O=h?.95*$.height:$.height,[P,y]=yt(M,O),y.drawImage($,0,0,M,O),i*=u==="image/png"?.85:.95,bt(P,u,r.name,r.lastModified,i).then(function(E){try{return T=E,Oe($),$=P,z=T.size,S(Math.min(99,Math.floor((B-z)/(B-s)*100))),v}catch(H){return e(H)}},e)}return[1]},f=function(){return Oe($),Oe(P),Oe(m),Oe(o),Oe(p),S(100),a(T)};if(d=k,c(),w=d.size>s,_=d.size>r.size,!w&&!_)return S(100),a(d);var U;return C=r.size,B=d.size,z=B,$=o,h=!g.alwaysKeepResolution&&w,(U=(function(M){for(;M;){if(M.then)return void M.then(U,e);try{if(M.pop){if(M.length)return M.pop()?f.call(this):M;M=v}else M=M.call(this)}catch(O){return e(O)}}}).bind(this))(v)}}catch(v){return e(v)}}).bind(this),e)}catch(k){return e(k)}}).bind(this),e)}catch(I){return e(I)}}).bind(this),e)}catch(R){return e(R)}}).bind(this),e)})}const ua=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let St;function da(r,g){return new Promise((b,a)=>{St||(St=function(l){const s=[];return s.push(l),URL.createObjectURL(new Blob(s))}(ua));const e=new Worker(St);e.addEventListener("message",function(l){if(g.signal&&g.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return a(new Error(l.data.error)),void e.terminate();b(l.data.file),e.terminate()}else g.onProgress(l.data.progress)}),e.addEventListener("error",a),g.signal&&g.signal.addEventListener("abort",()=>{a(g.signal.reason),e.terminate()}),e.postMessage({file:r,imageCompressionLibUrl:g.libURL,options:{...g,onProgress:void 0,signal:void 0}})})}function xe(r,g){return new Promise(function(b,a){let e,t,l,s,p,m;if(e={...g},l=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=u=>{l=u,typeof s=="function"&&s(l)},!(r instanceof Blob||r instanceof sa))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return a(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||m)return or(r,e).then((function(u){try{return t=u,i.call(this)}catch(d){return a(d)}}).bind(this),a);var n=(function(){try{return i.call(this)}catch(u){return a(u)}}).bind(this),o=function(u){try{return or(r,e).then(function(d){try{return t=d,n()}catch(w){return a(w)}},a)}catch(d){return a(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",da(r,e).then(function(u){try{return t=u,n()}catch{return o()}},o)}catch{o()}function i(){try{t.name=r.name,t.lastModified=r.lastModified}catch{}try{e.preserveExif&&r.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===r.type)&&(t=Vr(r,t))}catch{}return b(t)}})}xe.getDataUrlFromFile=Zr,xe.getFilefromDataUrl=Dt,xe.loadImage=Xr,xe.drawImageInCanvas=Qr,xe.drawFileInCanvas=mt,xe.canvasToFile=bt,xe.getExifOrientation=Kr,xe.handleMaxWidthOrHeight=Jr,xe.followExifOrientation=en,xe.cleanupCanvasMemory=Oe,xe.isAutoOrientationInBrowser=Qe,xe.approximateBelowMaximumCanvasSizeOfBrowser=Yr,xe.copyExifWithoutOrientation=Vr,xe.getBrowserName=We,xe.version="2.0.2";const ca={class:"dragger-content"},fa=ge({__name:"ImageUploader",emits:["success","error"],setup(r,{emit:g}){const b=g,a=Bt(),e=mr(),t=oe([]),l=oe(!1);async function s({file:m,onFinish:n,onError:o,onProgress:i}){if(!e.user){a.error("请先登录"),o();return}l.value=!0;try{const u=m.file,d={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};i({percent:20});const w=await xe(u,d);i({percent:50});const _=u.name.split(".").pop(),B=`restaurant-images/${`${e.user.id}/${Date.now()}.${_}`}`,{error:z}=await Pt.storage.from("food-images").upload(B,w,{upsert:!0});if(z)throw z;const{data:{publicUrl:T}}=Pt.storage.from("food-images").getPublicUrl(B);i({percent:100}),n(),b("success",T),a.success("图片上传成功")}catch(u){console.error("Upload error:",u),a.error("图片上传失败: "+u.message),o(),b("error",u)}finally{l.value=!1}}function p(){b("success","")}return(m,n)=>(Ke(),Tt(ne(Yi),{"file-list":t.value,"onUpdate:fileList":n[0]||(n[0]=o=>t.value=o),"directory-dnd":"",max:1,accept:"image/*","list-type":"image-card","custom-request":s,onRemove:p},{default:ve(()=>[t.value.length===0?(Ke(),Tt(ne(Er),{key:0},{default:ve(()=>[Re("div",ca,[ie(ne(br),{size:"48",depth:3},{default:ve(()=>[ie(ne(ra))]),_:1}),ie(ne(Pi),{style:{"font-size":"14px","margin-top":"8px"}},{default:ve(()=>[...n[1]||(n[1]=[gt(" 点击或拖拽图片到此处上传 ",-1)])]),_:1}),ie(ne(_i),{depth:"3",style:{margin:"4px 0 0 0","font-size":"12px"}},{default:ve(()=>[...n[2]||(n[2]=[gt(" 支持 JPG, PNG, WebP (压缩后不超过 1MB) ",-1)])]),_:1})])]),_:1})):Tn("",!0)]),_:1},8,["file-list"]))}}),ha=wt(fa,[["__scopeId","data-v-abffd019"]]),ga={class:"address-picker"},pa=ge({__name:"AddressPicker",emits:["select"],setup(r,{emit:g}){const b=g,a=oe([]),e=oe("");let t=null,l=null;_t(async()=>{try{const n="4c07c0ea7823f62a296cf8fe1c63a051";l=await Yn.load({key:n,version:"2.0",plugins:["AMap.AutoComplete","AMap.PlaceSearch"]}),t=new l.AutoComplete({city:"全国"})}catch(n){console.error("AMap load failed",n)}});async function s(n){if(!n||!t){a.value=[];return}t.search(n,(o,i)=>{o==="complete"&&i.tips&&(a.value=i.tips.filter(u=>u.adcode).map(u=>({label:`${u.name} (${u.district}${u.address})`,value:u.id,data:u})))})}function p(n){var i;const o=(i=a.value.find(u=>u.value===n))==null?void 0:i.data;o&&(b("select",{name:o.name,address:o.address||o.name,city:m(o.district),district:o.district,location:o.location}),e.value=o.name)}function m(n){if(n.includes("市")){const o=n.match(/.*?(省|自治区)?(.*?)市/);return o?o[2]:n}return n.split(" ")[0]||""}return(n,o)=>(Ke(),zt("div",ga,[ie(ne(ri),{value:e.value,"onUpdate:value":o[0]||(o[0]=i=>e.value=i),options:a.value,placeholder:"输入餐厅名称或地址进行搜索",clearable:"","menu-props":{style:{zIndex:9999}},onSearch:s,onSelect:p},null,8,["value","options"])]))}}),va=wt(pa,[["__scopeId","data-v-eba8f219"]]),ma={class:"form-section"},ba={class:"form-section"},wa={class:"form-row"},ya={class:"form-section"},xa={class:"form-actions"},Ca=ge({__name:"RestaurantForm",emits:["submit","cancel"],setup(r,{emit:g}){const b=g,a=Bt(),e=oe(null),t=oe(!1),l=Pn({name:"",tier:"npc",category:"chinese",price_per_person:50,address:"",city:"",district:"",latitude:null,longitude:null,recommendation:"",image_url:""}),s={name:{required:!0,message:"请输入餐厅名称",trigger:"blur"},tier:{required:!0,message:"请选择评级",trigger:"change"},category:{required:!0,message:"请选择类别",trigger:"change"},address:{required:!0,message:"请选择地址",trigger:"change"}},p=Object.entries(Nn).map(([u,d])=>({label:`${d.emoji} ${d.label}`,value:u})),m=Object.entries(jn).map(([u,d])=>({label:`${d.emoji} ${d.label}`,value:u}));function n(u){l.address=u.address,l.city=u.city,l.district=u.district,l.latitude=u.location.lat,l.longitude=u.location.lng,l.name||(l.name=u.name)}function o(u){l.image_url=u}async function i(){var u;try{await((u=e.value)==null?void 0:u.validate()),t.value=!0,b("submit",{...l})}catch{a.error("请填写完整信息")}finally{t.value=!1}}return(u,d)=>(Ke(),Tt(ne(Qn),{ref_key:"formRef",ref:e,model:l,rules:s,"label-placement":"top",class:"restaurant-form"},{default:ve(()=>[Re("div",ma,[d[6]||(d[6]=Re("h3",{class:"section-title"},"📍 位置信息",-1)),ie(ne(He),{label:"搜索地址",path:"address"},{default:ve(()=>[ie(va,{onSelect:n})]),_:1}),ie(ne(He),{label:"餐厅名称",path:"name"},{default:ve(()=>[ie(ne(Ot),{value:l.name,"onUpdate:value":d[0]||(d[0]=w=>l.name=w),placeholder:"请输入或从地址搜索"},null,8,["value"])]),_:1})]),ie(ne(Kt)),Re("div",ba,[d[7]||(d[7]=Re("h3",{class:"section-title"},"⭐ 评价信息",-1)),ie(ne(Gt),{vertical:"",size:16},{default:ve(()=>[Re("div",wa,[ie(ne(He),{label:"等级",path:"tier",class:"flex-1"},{default:ve(()=>[ie(ne(qt),{value:l.tier,"onUpdate:value":d[1]||(d[1]=w=>l.tier=w),options:ne(p)},null,8,["value","options"])]),_:1}),ie(ne(He),{label:"类别",path:"category",class:"flex-1"},{default:ve(()=>[ie(ne(qt),{value:l.category,"onUpdate:value":d[2]||(d[2]=w=>l.category=w),options:ne(m)},null,8,["value","options"])]),_:1})]),ie(ne(He),{label:"人均价格 (元)",path:"price_per_person"},{default:ve(()=>[ie(ne(Xn),{value:l.price_per_person,"onUpdate:value":d[3]||(d[3]=w=>l.price_per_person=w),min:0,step:10,class:"w-full"},null,8,["value"])]),_:1})]),_:1})]),ie(ne(Kt)),Re("div",ya,[d[8]||(d[8]=Re("h3",{class:"section-title"},"🖼️ 展示与推荐",-1)),ie(ne(He),{label:"餐厅图片",path:"image_url"},{default:ve(()=>[ie(ha,{onSuccess:o})]),_:1}),ie(ne(He),{label:"一句话推荐 (避雷建议)",path:"recommendation"},{default:ve(()=>[ie(ne(Ot),{value:l.recommendation,"onUpdate:value":d[4]||(d[4]=w=>l.recommendation=w),type:"textarea",placeholder:"分享你的用餐体验，或者必点菜品...",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})]),Re("div",xa,[ie(ne(Gt),{justify:"end"},{default:ve(()=>[ie(ne(Ve),{onClick:d[5]||(d[5]=w=>b("cancel"))},{default:ve(()=>[...d[9]||(d[9]=[gt("取消",-1)])]),_:1}),ie(ne(Ve),{type:"primary",loading:t.value,onClick:i},{default:ve(()=>[...d[10]||(d[10]=[gt("提交发布",-1)])]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model"]))}}),Ra=wt(Ca,[["__scopeId","data-v-393c443d"]]),Sa={class:"submit-page"},Aa={class:"page-header"},ka={class:"content-wrapper"},_a=ge({__name:"SubmitPage",setup(r){const g=On(),b=Bt(),a=mr();async function e(l){if(!a.user){b.error("请先登录"),g.push("/login");return}try{const{error:s}=await Pt.from("restaurants").insert({...l,created_by:a.user.id});if(s)throw s;b.success("美食录入成功！"),g.push("/")}catch(s){console.error("Submit error:",s),b.error("录入失败: "+s.message)}}function t(){g.back()}return(l,s)=>(Ke(),zt("div",Sa,[Re("header",Aa,[ie(ne(Ve),{quaternary:"",circle:"",onClick:t},{icon:ve(()=>[ie(ne(br),null,{default:ve(()=>[ie(ne(Kn))]),_:1})]),_:1}),s[0]||(s[0]=Re("h1",{class:"page-title"},"录入美食",-1))]),Re("div",ka,[ie(ne(Un),{bordered:!1,class:"form-card"},{default:ve(()=>[ie(Ra,{onSubmit:e,onCancel:t})]),_:1})])]))}}),Ba=wt(_a,[["__scopeId","data-v-a83798a4"]]);export{Ba as default};
