import{g as N,O as C,k as f,C as x,G as R,J as a,K as l,N as s,ay as q,D as B,aP as v,Q as d,S as c,R as I}from"./index-DRXq3Yts.js";import{u as K,b,N as w,_ as L}from"./_plugin-vue_export-helper-BoJ4N7Qv.js";import{N as S,a as n}from"./FormItem-idc6paHo.js";import{a as P}from"./Checkbox-BzvEAYSF.js";const T={class:"page-container"},U={class:"login-wrapper"},V=N({__name:"LoginPage",setup(D){const u=I(),y=C(),i=K(),g=f(null),t=f(!1),r=f({email:"",password:"",remember:!0}),_={email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±",trigger:"blur"},{type:"email",message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€",trigger:["blur","change"]}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"}]};async function m(){var p;try{await((p=g.value)==null?void 0:p.validate())}catch{return}t.value=!0;try{const e=await y.signIn(r.value.email,r.value.password);if(e.success){i.success("ç™»å½•æˆåŠŸï¼");const o=u.currentRoute.value.query.redirect;u.push(o||"/")}else i.error(e.message)}catch(e){console.error("Login error:",e),i.error(e.message||"ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•")}finally{t.value=!1}}function h(){u.push("/register")}function k(){u.push("/")}return(p,e)=>(B(),x("div",T,[R("div",U,[a(s(q),{title:"ðŸœ æ¬¢è¿Žå›žæ¥",class:"login-card"},{default:l(()=>[a(s(S),{ref_key:"formRef",ref:g,model:r.value,rules:_,"label-placement":"left","label-width":"80","require-mark-placement":"right-hanging"},{default:l(()=>[a(s(n),{label:"é‚®ç®±",path:"email"},{default:l(()=>[a(s(b),{value:r.value.email,"onUpdate:value":e[0]||(e[0]=o=>r.value.email=o),placeholder:"è¯·è¾“å…¥é‚®ç®±",disabled:t.value,onKeyup:v(m,["enter"])},null,8,["value","disabled"])]),_:1}),a(s(n),{label:"å¯†ç ",path:"password"},{default:l(()=>[a(s(b),{value:r.value.password,"onUpdate:value":e[1]||(e[1]=o=>r.value.password=o),placeholder:"è¯·è¾“å…¥å¯†ç ",type:"password","show-password-on":"click",disabled:t.value,onKeyup:v(m,["enter"])},null,8,["value","disabled"])]),_:1}),a(s(n),{"show-label":!1},{default:l(()=>[a(s(P),{checked:r.value.remember,"onUpdate:checked":e[2]||(e[2]=o=>r.value.remember=o),disabled:t.value},{default:l(()=>[...e[3]||(e[3]=[d(" è®°ä½æˆ‘ ",-1)])]),_:1},8,["checked","disabled"])]),_:1}),a(s(n),{"show-label":!1},{default:l(()=>[a(s(w),{style:{width:"100%","justify-content":"space-between"}},{default:l(()=>[a(s(c),{disabled:t.value,onClick:k},{default:l(()=>[...e[4]||(e[4]=[d(" è¿”å›žé¦–é¡µ ",-1)])]),_:1},8,["disabled"]),a(s(w),null,{default:l(()=>[a(s(c),{disabled:t.value,onClick:h},{default:l(()=>[...e[5]||(e[5]=[d(" æ³¨å†Œè´¦å· ",-1)])]),_:1},8,["disabled"]),a(s(c),{type:"primary",loading:t.value,onClick:m},{default:l(()=>[...e[6]||(e[6]=[d(" ç™»å½• ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])]))}}),G=L(V,[["__scopeId","data-v-042ba2e7"]]);export{G as default};
