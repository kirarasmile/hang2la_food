import{az as or,aA as ze,h as _,g as pe,a as q,aB as dt,f as we,a0 as ee,F as Ke,u as Fe,n as _e,aC as rn,m as Q,q as et,aD as nn,aE as on,y as an,c as Lt,e as de,am as jt,a4 as ln,aF as be,ao as sn,ab as _t,an as cn,a5 as Rt,ae as ir,aG as un,k as se,Y as ae,x as ar,v as lr,aH as st,l as Ge,ap as dn,at as Le,aI as At,P as fn,aJ as Pt,ai as Ft,av as at,r as sr,t as Ut,w as ft,aK as hn,aL as cr,aM as ur,aN as dr,aO as fr,aP as gn,p as It,aQ as hr,a9 as Ht,aR as pn,a3 as gr,i as vn,aS as Wt,T as Ve,aT as mn,aU as bn,aV as wn,aW as yn,aX as xn,a8 as Cn,aY as Rn,Z as An,C as Je,D as De,G as me,R as pr,M as re,K as te,L as ge,J as vr,H as Sn,O as ot,X as Tt,N as mr,Q as kn,I as St,aZ as _n,S as Pn}from"./index-DNtBY2Q3.js";import{c as Un,u as In,a as br,T as Tn,C as On,b as Vt}from"./index-BnxkOLea.js";import{c as $n,a as gt,f as Xe,E as Ln,u as zt,_ as wt,b as Ot,N as qt}from"./_plugin-vue_export-helper-BkxoI2SV.js";import{i as Fn,o as zn,S as Mn}from"./Scrollbar-Bi6r1X3k.js";import{N as Bn}from"./Tooltip-DmehieuM.js";import{d as wr,A as Dn,N as En}from"./InputNumber-nC2aM41b.js";import{A as Nn}from"./index-DEV-fsYM.js";import{N as We,a as jn}from"./FormItem-DA7k2sSn.js";import{A as Hn}from"./ArrowBackOutline-Dw73vaex.js";function Wn(r,v,w,l){for(var e=-1,t=r==null?0:r.length;++e<t;)w=v(w,r[e],e,r);return w}function Vn(r){return function(v){return r==null?void 0:r[v]}}var qn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Gn=Vn(qn),Zn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xn="\\u0300-\\u036f",Yn="\\ufe20-\\ufe2f",Qn="\\u20d0-\\u20ff",Kn=Xn+Yn+Qn,Jn="["+Kn+"]",eo=RegExp(Jn,"g");function to(r){return r=or(r),r&&r.replace(Zn,Gn).replace(eo,"")}var ro=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function no(r){return r.match(ro)||[]}var oo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function io(r){return oo.test(r)}var yr="\\ud800-\\udfff",ao="\\u0300-\\u036f",lo="\\ufe20-\\ufe2f",so="\\u20d0-\\u20ff",co=ao+lo+so,xr="\\u2700-\\u27bf",Cr="a-z\\xdf-\\xf6\\xf8-\\xff",uo="\\xac\\xb1\\xd7\\xf7",fo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ho="\\u2000-\\u206f",go=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rr="A-Z\\xc0-\\xd6\\xd8-\\xde",po="\\ufe0e\\ufe0f",Ar=uo+fo+ho+go,Sr="['’]",Gt="["+Ar+"]",vo="["+co+"]",kr="\\d+",mo="["+xr+"]",_r="["+Cr+"]",Pr="[^"+yr+Ar+kr+xr+Cr+Rr+"]",bo="\\ud83c[\\udffb-\\udfff]",wo="(?:"+vo+"|"+bo+")",yo="[^"+yr+"]",Ur="(?:\\ud83c[\\udde6-\\uddff]){2}",Ir="[\\ud800-\\udbff][\\udc00-\\udfff]",Ye="["+Rr+"]",xo="\\u200d",Zt="(?:"+_r+"|"+Pr+")",Co="(?:"+Ye+"|"+Pr+")",Xt="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",Yt="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",Tr=wo+"?",Or="["+po+"]?",Ro="(?:"+xo+"(?:"+[yo,Ur,Ir].join("|")+")"+Or+Tr+")*",Ao="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",So="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ko=Or+Tr+Ro,_o="(?:"+[mo,Ur,Ir].join("|")+")"+ko,Po=RegExp([Ye+"?"+_r+"+"+Xt+"(?="+[Gt,Ye,"$"].join("|")+")",Co+"+"+Yt+"(?="+[Gt,Ye+Zt,"$"].join("|")+")",Ye+"?"+Zt+"+"+Xt,Ye+"+"+Yt,So,Ao,kr,_o].join("|"),"g");function Uo(r){return r.match(Po)||[]}function Io(r,v,w){return r=or(r),v=v,v===void 0?io(r)?Uo(r):no(r):r.match(v)||[]}var To="['’]",Oo=RegExp(To,"g");function $o(r){return function(v){return Wn(Io(to(v).replace(Oo,"")),r,"")}}var Lo=$o(function(r,v,w){return r+(w?"-":"")+v.toLowerCase()});const Fo=ze("attach",()=>_("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_("g",{fill:"currentColor","fill-rule":"nonzero"},_("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),zo=ze("cancel",()=>_("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_("g",{fill:"currentColor","fill-rule":"nonzero"},_("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),$r=ze("download",()=>_("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_("g",{fill:"currentColor","fill-rule":"nonzero"},_("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Mo=pe({name:"ResizeSmall",render(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},_("g",{fill:"none"},_("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Bo=ze("retry",()=>_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),_("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Do=ze("rotateClockwise",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),_("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Eo=ze("rotateClockwise",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),_("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),No=ze("trash",()=>_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),_("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),_("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),_("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),jo=ze("zoomIn",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),_("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Ho=ze("zoomOut",()=>_("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),_("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Wo=q("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[dt("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[dt("no-title",`
 display: flex;
 align-items: center;
 `)]),we("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),ee("title-position-left",[we("line",[ee("left",{width:"28px"})])]),ee("title-position-right",[we("line",[ee("right",{width:"28px"})])]),ee("dashed",[we("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),ee("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),we("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),dt("dashed",[we("line",{backgroundColor:"var(--n-color)"})]),ee("dashed",[we("line",{borderColor:"var(--n-color)"})]),ee("vertical",{backgroundColor:"var(--n-color)"})]),Vo=Object.assign(Object.assign({},_e.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Qt=pe({name:"Divider",props:Vo,setup(r){const{mergedClsPrefixRef:v,inlineThemeDisabled:w}=Fe(r),l=_e("Divider","-divider",Wo,rn,r,v),e=Q(()=>{const{common:{cubicBezierEaseInOut:i},self:{color:s,textColor:g,fontWeight:m}}=l.value;return{"--n-bezier":i,"--n-color":s,"--n-text-color":g,"--n-font-weight":m}}),t=w?et("divider",void 0,e,r):void 0;return{mergedClsPrefix:v,cssVars:w?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var r;const{$slots:v,titlePlacement:w,vertical:l,dashed:e,cssVars:t,mergedClsPrefix:i}=this;return(r=this.onRender)===null||r===void 0||r.call(this),_("div",{role:"separator",class:[`${i}-divider`,this.themeClass,{[`${i}-divider--vertical`]:l,[`${i}-divider--no-title`]:!v.default,[`${i}-divider--dashed`]:e,[`${i}-divider--title-position-${w}`]:v.default&&w}],style:t},l?null:_("div",{class:`${i}-divider__line ${i}-divider__line--left`}),!l&&v.default?_(Ke,null,_("div",{class:`${i}-divider__title`},this.$slots),_("div",{class:`${i}-divider__line ${i}-divider__line--right`})):null)}});function qo(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const Go=nn({name:"Image",common:an,peers:{Tooltip:on},self:qo});function Zo(){return _("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"}))}function Xo(){return _("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"}))}function Yo(){return _("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}))}const Mt=Object.assign(Object.assign({},_e.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),Lr=Lt("n-image"),Qo=de([de("body >",[q("image-container","position: fixed;")]),q("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),q("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[jt()]),q("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[q("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),jt()]),q("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[ln()]),q("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),q("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[dt("preview-disabled",`
 cursor: pointer;
 `),de("img",`
 border-radius: inherit;
 `)])]),ct=32,Ko=Object.assign(Object.assign({},Mt),{src:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onNext:Function,onPrev:Function,onClose:[Function,Array]}),Fr=pe({name:"ImagePreview",props:Ko,setup(r){const{src:v}=un(r),{mergedClsPrefixRef:w}=Fe(r),l=_e("Image","-image",Qo,Go,r,w);let e=null;const t=se(null),i=se(null),s=se(!1),{localeRef:g}=$n("Image"),m=se(r.defaultShow),n=ae(r,"show"),a=gt(n,m);function o(){const{value:D}=i;if(!e||!D)return;const{style:W}=D,j=e.getBoundingClientRect(),Z=j.left+j.width/2,K=j.top+j.height/2;W.transformOrigin=`${Z}px ${K}px`}function c(D){var W,j;switch(D.key){case" ":D.preventDefault();break;case"ArrowLeft":(W=r.onPrev)===null||W===void 0||W.call(r);break;case"ArrowRight":(j=r.onNext)===null||j===void 0||j.call(r);break;case"ArrowUp":D.preventDefault(),G();break;case"ArrowDown":D.preventDefault(),ie();break;case"Escape":oe();break}}function u(D){const{onUpdateShow:W,"onUpdate:show":j}=r;W&&Le(W,D),j&&Le(j,D),m.value=D,s.value=!0}ar(a,D=>{D?At("keydown",document,c):st("keydown",document,c)}),lr(()=>{st("keydown",document,c)});let b=0,S=0,y=0,F=0,L=0,U=0,I=0,x=0,$=!1;function h(D){const{clientX:W,clientY:j}=D;y=W-b,F=j-S,Un(X)}function d(D){const{mouseUpClientX:W,mouseUpClientY:j,mouseDownClientX:Z,mouseDownClientY:K}=D,J=Z-W,Y=K-j,ue=`vertical${Y>0?"Top":"Bottom"}`,ye=`horizontal${J>0?"Left":"Right"}`;return{moveVerticalDirection:ue,moveHorizontalDirection:ye,deltaHorizontal:J,deltaVertical:Y}}function A(D){const{value:W}=t;if(!W)return{offsetX:0,offsetY:0};const j=W.getBoundingClientRect(),{moveVerticalDirection:Z,moveHorizontalDirection:K,deltaHorizontal:J,deltaVertical:Y}=D||{};let ue=0,ye=0;return j.width<=window.innerWidth?ue=0:j.left>0?ue=(j.width-window.innerWidth)/2:j.right<window.innerWidth?ue=-(j.width-window.innerWidth)/2:K==="horizontalRight"?ue=Math.min((j.width-window.innerWidth)/2,L-(J??0)):ue=Math.max(-((j.width-window.innerWidth)/2),L-(J??0)),j.height<=window.innerHeight?ye=0:j.top>0?ye=(j.height-window.innerHeight)/2:j.bottom<window.innerHeight?ye=-(j.height-window.innerHeight)/2:Z==="verticalBottom"?ye=Math.min((j.height-window.innerHeight)/2,U-(Y??0)):ye=Math.max(-((j.height-window.innerHeight)/2),U-(Y??0)),{offsetX:ue,offsetY:ye}}function C(D){st("mousemove",document,h),st("mouseup",document,C);const{clientX:W,clientY:j}=D;$=!1;const Z=d({mouseUpClientX:W,mouseUpClientY:j,mouseDownClientX:I,mouseDownClientY:x}),K=A(Z);y=K.offsetX,F=K.offsetY,X()}const R=Ge(Lr,null);function P(D){var W,j;if((j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onMousedown)===null||j===void 0||j.call(W,D),D.button!==0)return;const{clientX:Z,clientY:K}=D;$=!0,b=Z-y,S=K-F,L=y,U=F,I=Z,x=K,X(),At("mousemove",document,h),At("mouseup",document,C)}const k=1.5;let T=0,p=1,f=0;function z(D){var W,j;(j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDblclick)===null||j===void 0||j.call(W,D);const Z=M();p=p===Z?1:Z,X()}function O(){p=1,T=0}function B(){var D;O(),f=0,(D=r.onPrev)===null||D===void 0||D.call(r)}function V(){var D;O(),f=0,(D=r.onNext)===null||D===void 0||D.call(r)}function N(){f-=90,X()}function H(){f+=90,X()}function E(){const{value:D}=t;if(!D)return 1;const{innerWidth:W,innerHeight:j}=window,Z=Math.max(1,D.naturalHeight/(j-ct)),K=Math.max(1,D.naturalWidth/(W-ct));return Math.max(3,Z*2,K*2)}function M(){const{value:D}=t;if(!D)return 1;const{innerWidth:W,innerHeight:j}=window,Z=D.naturalHeight/(j-ct),K=D.naturalWidth/(W-ct);return Z<1&&K<1?1:Math.max(Z,K)}function G(){const D=E();p<D&&(T+=1,p=Math.min(D,Math.pow(k,T)),X())}function ie(){if(p>.5){const D=p;T-=1,p=Math.max(.5,Math.pow(k,T));const W=D-p;X(!1);const j=A();p+=W,X(!1),p-=W,y=j.offsetX,F=j.offsetY,X()}}function ne(){const D=v.value;D&&wr(D,void 0)}function X(D=!0){var W;const{value:j}=t;if(!j)return;const{style:Z}=j,K=fn((W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.style);let J="";if(typeof K=="string")J=`${K};`;else for(const ue in K)J+=`${Lo(ue)}: ${K[ue]};`;const Y=`transform-origin: center; transform: translateX(${y}px) translateY(${F}px) rotate(${f}deg) scale(${p});`;$?Z.cssText=`${J}cursor: grabbing; transition: none;${Y}`:Z.cssText=`${J}cursor: grab;${Y}${D?"":"transition: none;"}`,D||j.offsetHeight}function oe(){if(a.value){const{onClose:D}=r;D&&Le(D),u(!1),m.value=!1}}function fe(){p=M(),T=Math.ceil(Math.log(p)/Math.log(k)),y=0,F=0,X()}const ve={setThumbnailEl:D=>{e=D}};function Oe(D,W){if(r.showToolbarTooltip){const{value:j}=l;return _(Bn,{to:!1,theme:j.peers.Tooltip,themeOverrides:j.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>g.value[W],trigger:()=>D})}else return D}const Se=Q(()=>{const{common:{cubicBezierEaseInOut:D},self:{toolbarIconColor:W,toolbarBorderRadius:j,toolbarBoxShadow:Z,toolbarColor:K}}=l.value;return{"--n-bezier":D,"--n-toolbar-icon-color":W,"--n-toolbar-color":K,"--n-toolbar-border-radius":j,"--n-toolbar-box-shadow":Z}}),{inlineThemeDisabled:ce}=Fe(),he=ce?et("image-preview",void 0,Se,r):void 0;function le(D){D.preventDefault()}return Object.assign({clsPrefix:w,previewRef:t,previewWrapperRef:i,previewSrc:v,mergedShow:a,appear:dn(),displayed:s,previewedImgProps:R==null?void 0:R.previewedImgPropsRef,handleWheel:le,handlePreviewMousedown:P,handlePreviewDblclick:z,syncTransformOrigin:o,handleAfterLeave:()=>{O(),f=0,s.value=!1},handleDragStart:D=>{var W,j;(j=(W=R==null?void 0:R.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDragstart)===null||j===void 0||j.call(W,D),D.preventDefault()},zoomIn:G,zoomOut:ie,handleDownloadClick:ne,rotateCounterclockwise:N,rotateClockwise:H,handleSwitchPrev:B,handleSwitchNext:V,withTooltip:Oe,resizeToOrignalImageSize:fe,cssVars:ce?void 0:Se,themeClass:he==null?void 0:he.themeClass,onRender:he==null?void 0:he.onRender,doUpdateShow:u,close:oe},ve)},render(){var r,v;const{clsPrefix:w,renderToolbar:l,withTooltip:e}=this,t=e(_(be,{clsPrefix:w,onClick:this.handleSwitchPrev},{default:Zo}),"tipPrevious"),i=e(_(be,{clsPrefix:w,onClick:this.handleSwitchNext},{default:Xo}),"tipNext"),s=e(_(be,{clsPrefix:w,onClick:this.rotateCounterclockwise},{default:()=>_(Eo,null)}),"tipCounterclockwise"),g=e(_(be,{clsPrefix:w,onClick:this.rotateClockwise},{default:()=>_(Do,null)}),"tipClockwise"),m=e(_(be,{clsPrefix:w,onClick:this.resizeToOrignalImageSize},{default:()=>_(Mo,null)}),"tipOriginalSize"),n=e(_(be,{clsPrefix:w,onClick:this.zoomOut},{default:()=>_(Ho,null)}),"tipZoomOut"),a=e(_(be,{clsPrefix:w,onClick:this.handleDownloadClick},{default:()=>_($r,null)}),"tipDownload"),o=e(_(be,{clsPrefix:w,onClick:()=>this.close()},{default:Yo}),"tipClose"),c=e(_(be,{clsPrefix:w,onClick:this.zoomIn},{default:()=>_(jo,null)}),"tipZoomIn");return _(Ke,null,(v=(r=this.$slots).default)===null||v===void 0?void 0:v.call(r),_(sn,{show:this.mergedShow},{default:()=>{var u;return this.mergedShow||this.displayed?((u=this.onRender)===null||u===void 0||u.call(this),_t(_("div",{ref:"containerRef",class:[`${w}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},_(Rt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?_("div",{class:`${w}-image-preview-overlay`,onClick:()=>this.close()}):null}),this.showToolbar?_(Rt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?_("div",{class:`${w}-image-preview-toolbar`},l?l({nodes:{prev:t,next:i,rotateCounterclockwise:s,rotateClockwise:g,resizeToOriginalSize:m,zoomOut:n,zoomIn:c,download:a,close:o}}):_(Ke,null,this.onPrev?_(Ke,null,t,i):null,s,g,m,n,c,a,o)):null}):null,_(Rt,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:b={}}=this;return _t(_("div",{class:`${w}-image-preview-wrapper`,ref:"previewWrapperRef"},_("img",Object.assign({},b,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${w}-image-preview`,b.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[ir,this.mergedShow]])}})),[[cn,{enabled:this.mergedShow}]])):null}}))}}),zr=Lt("n-image-group"),Jo=Object.assign(Object.assign({},Mt),{srcList:Array,current:Number,defaultCurrent:{type:Number,default:0},show:{type:Boolean,default:void 0},defaultShow:Boolean,onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],onUpdateCurrent:[Function,Array],"onUpdate:current":[Function,Array]}),ei=pe({name:"ImageGroup",props:Jo,setup(r){const{mergedClsPrefixRef:v}=Fe(r),w=`c${Pt()}`,l=se(null),e=se(r.defaultShow),t=ae(r,"show"),i=gt(t,e),s=se(new Map),g=Q(()=>{if(r.srcList){const h=new Map;return r.srcList.forEach((d,A)=>{h.set(`p${A}`,d)}),h}return s.value}),m=Q(()=>Array.from(g.value.keys())),n=()=>m.value.length;function a(h,d){r.srcList&&at("image-group","`n-image` can't be placed inside `n-image-group` when image group's `src-list` prop is set.");const A=`r${h}`;return s.value.has(`r${A}`)||s.value.set(A,d),function(){s.value.has(A)||s.value.delete(A)}}const o=se(r.defaultCurrent),c=ae(r,"current"),u=gt(c,o),b=h=>{if(h!==u.value){const{onUpdateCurrent:d,"onUpdate:current":A}=r;d&&Le(d,h),A&&Le(A,h),o.value=h}},S=Q(()=>m.value[u.value]),y=h=>{const d=m.value.indexOf(h);d!==u.value&&b(d)},F=Q(()=>g.value.get(S.value));function L(h){const{onUpdateShow:d,"onUpdate:show":A}=r;d&&Le(d,h),A&&Le(A,h),e.value=h}function U(){L(!1)}const I=Q(()=>{const h=(A,C)=>{for(let R=A;R<=C;R++){const P=m.value[R];if(g.value.get(P))return R}},d=h(u.value+1,n()-1);return d===void 0?h(0,u.value-1):d}),x=Q(()=>{const h=(A,C)=>{for(let R=A;R>=C;R--){const P=m.value[R];if(g.value.get(P))return R}},d=h(u.value-1,0);return d===void 0?h(n()-1,u.value+1):d});function $(h){var d,A;h===1?(x.value!==void 0&&b(I.value),(d=r.onPreviewNext)===null||d===void 0||d.call(r)):(I.value!==void 0&&b(x.value),(A=r.onPreviewPrev)===null||A===void 0||A.call(r))}return Ft(zr,{mergedClsPrefixRef:v,registerImageUrl:a,setThumbnailEl:h=>{var d;(d=l.value)===null||d===void 0||d.setThumbnailEl(h)},toggleShow:h=>{L(!0),y(h)},groupId:w,renderToolbarRef:ae(r,"renderToolbar")}),{mergedClsPrefix:v,previewInstRef:l,mergedShow:i,src:F,onClose:U,next:()=>{$(1)},prev:()=>{$(-1)}}},render(){return _(Fr,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,src:this.src,show:this.mergedShow,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,onClose:this.onClose},this.$slots)}}),ti=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Mt);let ri=0;const ni=pe({name:"Image",props:ti,slots:Object,inheritAttrs:!1,setup(r){const v=se(null),w=se(!1),l=se(null),e=Ge(zr,null),{mergedClsPrefixRef:t}=e||Fe(r),i=Q(()=>r.previewSrc||r.src),s=se(!1),g=ri++,m=()=>{if(r.previewDisabled||w.value)return;if(e){e.setThumbnailEl(v.value),e.toggleShow(`r${g}`);return}const{value:b}=l;b&&(b.setThumbnailEl(v.value),s.value=!0)},n={click:()=>{m()},showPreview:m},a=se(!r.lazy);Ut(()=>{var b;(b=v.value)===null||b===void 0||b.setAttribute("data-group-id",(e==null?void 0:e.groupId)||"")}),Ut(()=>{if(r.lazy&&r.intersectionObserverOptions){let b;const S=ft(()=>{b==null||b(),b=void 0,b=zn(v.value,r.intersectionObserverOptions,a)});lr(()=>{S(),b==null||b()})}}),ft(()=>{var b;r.src||((b=r.imgProps)===null||b===void 0||b.src),w.value=!1}),ft(b=>{var S;const y=(S=e==null?void 0:e.registerImageUrl)===null||S===void 0?void 0:S.call(e,g,i.value||"");b(()=>{y==null||y()})});function o(b){var S,y;n.showPreview(),(y=(S=r.imgProps)===null||S===void 0?void 0:S.onClick)===null||y===void 0||y.call(S,b)}function c(){s.value=!1}const u=se(!1);return Ft(Lr,{previewedImgPropsRef:ae(r,"previewedImgProps")}),Object.assign({mergedClsPrefix:t,groupId:e==null?void 0:e.groupId,previewInstRef:l,imageRef:v,mergedPreviewSrc:i,showError:w,shouldStartLoading:a,loaded:u,mergedOnClick:b=>{o(b)},onPreviewClose:c,mergedOnError:b=>{if(!a.value)return;w.value=!0;const{onError:S,imgProps:{onError:y}={}}=r;S==null||S(b),y==null||y(b)},mergedOnLoad:b=>{const{onLoad:S,imgProps:{onLoad:y}={}}=r;S==null||S(b),y==null||y(b),u.value=!0},previewShow:s},n)},render(){var r,v;const{mergedClsPrefix:w,imgProps:l={},loaded:e,$attrs:t,lazy:i}=this,s=sr(this.$slots.error,()=>[]),g=(v=(r=this.$slots).placeholder)===null||v===void 0?void 0:v.call(r),m=this.src||l.src,n=this.showError&&s.length?s:_("img",Object.assign(Object.assign({},l),{ref:"imageRef",width:this.width||l.width,height:this.height||l.height,src:this.showError?this.fallbackSrc:i&&this.intersectionObserverOptions?this.shouldStartLoading?m:void 0:m,alt:this.alt||l.alt,"aria-label":this.alt||l.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Fn&&i&&!this.intersectionObserverOptions?"lazy":"eager",style:[l.style||"",g&&!e?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return _("div",Object.assign({},t,{role:"none",class:[t.class,`${w}-image`,(this.previewDisabled||this.showError)&&`${w}-image--preview-disabled`]}),this.groupId?n:_(Fr,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,src:this.mergedPreviewSrc,show:!this.previewDisabled&&this.previewShow,onClose:this.onPreviewClose},{default:()=>n}),!e&&g)}}),oi={success:_(fr,null),error:_(dr,null),warning:_(ur,null),info:_(cr,null)},ii=pe({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(r,{slots:v}){const w=Q(()=>{const t="gradient",{fillColor:i}=r;return typeof i=="object"?`${t}-${hn(JSON.stringify(i))}`:t});function l(t,i,s,g){const{gapDegree:m,viewBoxWidth:n,strokeWidth:a}=r,o=50,c=0,u=o,b=0,S=2*o,y=50+a/2,F=`M ${y},${y} m ${c},${u}
      a ${o},${o} 0 1 1 ${b},${-S}
      a ${o},${o} 0 1 1 ${-b},${S}`,L=Math.PI*2*o,U={stroke:g==="rail"?s:typeof r.fillColor=="object"?`url(#${w.value})`:s,strokeDasharray:`${Math.min(t,100)/100*(L-m)}px ${n*8}px`,strokeDashoffset:`-${m/2}px`,transformOrigin:i?"center":void 0,transform:i?`rotate(${i}deg)`:void 0};return{pathString:F,pathStyle:U}}const e=()=>{const t=typeof r.fillColor=="object",i=t?r.fillColor.stops[0]:"",s=t?r.fillColor.stops[1]:"";return t&&_("defs",null,_("linearGradient",{id:w.value,x1:"0%",y1:"100%",x2:"100%",y2:"0%"},_("stop",{offset:"0%","stop-color":i}),_("stop",{offset:"100%","stop-color":s})))};return()=>{const{fillColor:t,railColor:i,strokeWidth:s,offsetDegree:g,status:m,percentage:n,showIndicator:a,indicatorTextColor:o,unit:c,gapOffsetDegree:u,clsPrefix:b}=r,{pathString:S,pathStyle:y}=l(100,0,i,"rail"),{pathString:F,pathStyle:L}=l(n,g,t,"fill"),U=100+s;return _("div",{class:`${b}-progress-content`,role:"none"},_("div",{class:`${b}-progress-graph`,"aria-hidden":!0},_("div",{class:`${b}-progress-graph-circle`,style:{transform:u?`rotate(${u}deg)`:void 0}},_("svg",{viewBox:`0 0 ${U} ${U}`},e(),_("g",null,_("path",{class:`${b}-progress-graph-circle-rail`,d:S,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:y})),_("g",null,_("path",{class:[`${b}-progress-graph-circle-fill`,n===0&&`${b}-progress-graph-circle-fill--empty`],d:F,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:L}))))),a?_("div",null,v.default?_("div",{class:`${b}-progress-custom-content`,role:"none"},v.default()):m!=="default"?_("div",{class:`${b}-progress-icon`,"aria-hidden":!0},_(be,{clsPrefix:b},{default:()=>oi[m]})):_("div",{class:`${b}-progress-text`,style:{color:o},role:"none"},_("span",{class:`${b}-progress-text__percentage`},n),_("span",{class:`${b}-progress-text__unit`},c))):null)}}}),ai={success:_(fr,null),error:_(dr,null),warning:_(ur,null),info:_(cr,null)},li=pe({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(r,{slots:v}){const w=Q(()=>Xe(r.height)),l=Q(()=>{var i,s;return typeof r.fillColor=="object"?`linear-gradient(to right, ${(i=r.fillColor)===null||i===void 0?void 0:i.stops[0]} , ${(s=r.fillColor)===null||s===void 0?void 0:s.stops[1]})`:r.fillColor}),e=Q(()=>r.railBorderRadius!==void 0?Xe(r.railBorderRadius):r.height!==void 0?Xe(r.height,{c:.5}):""),t=Q(()=>r.fillBorderRadius!==void 0?Xe(r.fillBorderRadius):r.railBorderRadius!==void 0?Xe(r.railBorderRadius):r.height!==void 0?Xe(r.height,{c:.5}):"");return()=>{const{indicatorPlacement:i,railColor:s,railStyle:g,percentage:m,unit:n,indicatorTextColor:a,status:o,showIndicator:c,processing:u,clsPrefix:b}=r;return _("div",{class:`${b}-progress-content`,role:"none"},_("div",{class:`${b}-progress-graph`,"aria-hidden":!0},_("div",{class:[`${b}-progress-graph-line`,{[`${b}-progress-graph-line--indicator-${i}`]:!0}]},_("div",{class:`${b}-progress-graph-line-rail`,style:[{backgroundColor:s,height:w.value,borderRadius:e.value},g]},_("div",{class:[`${b}-progress-graph-line-fill`,u&&`${b}-progress-graph-line-fill--processing`],style:{maxWidth:`${r.percentage}%`,background:l.value,height:w.value,lineHeight:w.value,borderRadius:t.value}},i==="inside"?_("div",{class:`${b}-progress-graph-line-indicator`,style:{color:a}},v.default?v.default():`${m}${n}`):null)))),c&&i==="outside"?_("div",null,v.default?_("div",{class:`${b}-progress-custom-content`,style:{color:a},role:"none"},v.default()):o==="default"?_("div",{role:"none",class:`${b}-progress-icon ${b}-progress-icon--as-text`,style:{color:a}},m,n):_("div",{class:`${b}-progress-icon`,"aria-hidden":!0},_(be,{clsPrefix:b},{default:()=>ai[o]}))):null)}}});function Kt(r,v,w=100){return`m ${w/2} ${w/2-r} a ${r} ${r} 0 1 1 0 ${2*r} a ${r} ${r} 0 1 1 0 -${2*r}`}const si=pe({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(r,{slots:v}){const w=Q(()=>r.percentage.map((t,i)=>`${Math.PI*t/100*(r.viewBoxWidth/2-r.strokeWidth/2*(1+2*i)-r.circleGap*i)*2}, ${r.viewBoxWidth*8}`)),l=(e,t)=>{const i=r.fillColor[t],s=typeof i=="object"?i.stops[0]:"",g=typeof i=="object"?i.stops[1]:"";return typeof r.fillColor[t]=="object"&&_("linearGradient",{id:`gradient-${t}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},_("stop",{offset:"0%","stop-color":s}),_("stop",{offset:"100%","stop-color":g}))};return()=>{const{viewBoxWidth:e,strokeWidth:t,circleGap:i,showIndicator:s,fillColor:g,railColor:m,railStyle:n,percentage:a,clsPrefix:o}=r;return _("div",{class:`${o}-progress-content`,role:"none"},_("div",{class:`${o}-progress-graph`,"aria-hidden":!0},_("div",{class:`${o}-progress-graph-circle`},_("svg",{viewBox:`0 0 ${e} ${e}`},_("defs",null,a.map((c,u)=>l(c,u))),a.map((c,u)=>_("g",{key:u},_("path",{class:`${o}-progress-graph-circle-rail`,d:Kt(e/2-t/2*(1+2*u)-i*u,t,e),"stroke-width":t,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:m[u]},n[u]]}),_("path",{class:[`${o}-progress-graph-circle-fill`,c===0&&`${o}-progress-graph-circle-fill--empty`],d:Kt(e/2-t/2*(1+2*u)-i*u,t,e),"stroke-width":t,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:w.value[u],strokeDashoffset:0,stroke:typeof g[u]=="object"?`url(#gradient-${u})`:g[u]}})))))),s&&v.default?_("div",null,_("div",{class:`${o}-progress-text`},v.default())):null)}}}),ci=de([q("progress",{display:"inline-block"},[q("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),ee("line",`
 width: 100%;
 display: block;
 `,[q("progress-content",`
 display: flex;
 align-items: center;
 `,[q("progress-graph",{flex:1})]),q("progress-custom-content",{marginLeft:"14px"}),q("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[ee("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),ee("circle, dashboard",{width:"120px"},[q("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),q("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),q("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),ee("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[q("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),q("progress-content",{position:"relative"}),q("progress-graph",{position:"relative"},[q("progress-graph-circle",[de("svg",{verticalAlign:"bottom"}),q("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[ee("empty",{opacity:0})]),q("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),q("progress-graph-line",[ee("indicator-inside",[q("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[q("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),q("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),ee("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[q("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),q("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),q("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[q("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[ee("processing",[de("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),de("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),ui=Object.assign(Object.assign({},_e.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),di=pe({name:"Progress",props:ui,setup(r){const v=Q(()=>r.indicatorPlacement||r.indicatorPosition),w=Q(()=>{if(r.gapDegree||r.gapDegree===0)return r.gapDegree;if(r.type==="dashboard")return 75}),{mergedClsPrefixRef:l,inlineThemeDisabled:e}=Fe(r),t=_e("Progress","-progress",ci,gn,r,l),i=Q(()=>{const{status:g}=r,{common:{cubicBezierEaseInOut:m},self:{fontSize:n,fontSizeCircle:a,railColor:o,railHeight:c,iconSizeCircle:u,iconSizeLine:b,textColorCircle:S,textColorLineInner:y,textColorLineOuter:F,lineBgProcessing:L,fontWeightCircle:U,[It("iconColor",g)]:I,[It("fillColor",g)]:x}}=t.value;return{"--n-bezier":m,"--n-fill-color":x,"--n-font-size":n,"--n-font-size-circle":a,"--n-font-weight-circle":U,"--n-icon-color":I,"--n-icon-size-circle":u,"--n-icon-size-line":b,"--n-line-bg-processing":L,"--n-rail-color":o,"--n-rail-height":c,"--n-text-color-circle":S,"--n-text-color-line-inner":y,"--n-text-color-line-outer":F}}),s=e?et("progress",Q(()=>r.status[0]),i,r):void 0;return{mergedClsPrefix:l,mergedIndicatorPlacement:v,gapDeg:w,cssVars:e?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{type:r,cssVars:v,indicatorTextColor:w,showIndicator:l,status:e,railColor:t,railStyle:i,color:s,percentage:g,viewBoxWidth:m,strokeWidth:n,mergedIndicatorPlacement:a,unit:o,borderRadius:c,fillBorderRadius:u,height:b,processing:S,circleGap:y,mergedClsPrefix:F,gapDeg:L,gapOffsetDegree:U,themeClass:I,$slots:x,onRender:$}=this;return $==null||$(),_("div",{class:[I,`${F}-progress`,`${F}-progress--${r}`,`${F}-progress--${e}`],style:v,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":g,role:r==="circle"||r==="line"||r==="dashboard"?"progressbar":"none"},r==="circle"||r==="dashboard"?_(ii,{clsPrefix:F,status:e,showIndicator:l,indicatorTextColor:w,railColor:t,fillColor:s,railStyle:i,offsetDegree:this.offsetDegree,percentage:g,viewBoxWidth:m,strokeWidth:n,gapDegree:L===void 0?r==="dashboard"?75:0:L,gapOffsetDegree:U,unit:o},x):r==="line"?_(li,{clsPrefix:F,status:e,showIndicator:l,indicatorTextColor:w,railColor:t,fillColor:s,railStyle:i,percentage:g,processing:S,indicatorPlacement:a,unit:o,fillBorderRadius:u,railBorderRadius:c,height:b},x):r==="multiple-circle"?_(si,{clsPrefix:F,strokeWidth:n,railColor:t,fillColor:s,railStyle:i,viewBoxWidth:m,percentage:g,showIndicator:l,circleGap:y},x):null)}}),fi=q("p",`
 box-sizing: border-box;
 transition: color .3s var(--n-bezier);
 margin: var(--n-margin);
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 color: var(--n-text-color);
`,[de("&:first-child","margin-top: 0;"),de("&:last-child","margin-bottom: 0;")]),hi=Object.assign(Object.assign({},_e.props),{depth:[String,Number]}),gi=pe({name:"P",props:hi,setup(r){const{mergedClsPrefixRef:v,inlineThemeDisabled:w}=Fe(r),l=_e("Typography","-p",fi,hr,r,v),e=Q(()=>{const{depth:i}=r,s=i||"1",{common:{cubicBezierEaseInOut:g},self:{pFontSize:m,pLineHeight:n,pMargin:a,pTextColor:o,[`pTextColor${s}Depth`]:c}}=l.value;return{"--n-bezier":g,"--n-font-size":m,"--n-line-height":n,"--n-margin":a,"--n-text-color":i===void 0?o:c}}),t=w?et("p",Q(()=>`${r.depth||""}`),e,r):void 0;return{mergedClsPrefix:v,cssVars:w?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var r;return(r=this.onRender)===null||r===void 0||r.call(this),_("p",{class:[`${this.mergedClsPrefix}-p`,this.themeClass],style:this.cssVars},this.$slots)}}),pi=q("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[ee("strong",`
 font-weight: var(--n-font-weight-strong);
 `),ee("italic",{fontStyle:"italic"}),ee("underline",{textDecoration:"underline"}),ee("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),vi=Object.assign(Object.assign({},_e.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),mi=pe({name:"Text",props:vi,setup(r){const{mergedClsPrefixRef:v,inlineThemeDisabled:w}=Fe(r),l=_e("Typography","-text",pi,hr,r,v),e=Q(()=>{const{depth:i,type:s}=r,g=s==="default"?i===void 0?"textColor":`textColor${i}Depth`:It("textColor",s),{common:{fontWeightStrong:m,fontFamilyMono:n,cubicBezierEaseInOut:a},self:{codeTextColor:o,codeBorderRadius:c,codeColor:u,codeBorder:b,[g]:S}}=l.value;return{"--n-bezier":a,"--n-text-color":S,"--n-font-weight-strong":m,"--n-font-famliy-mono":n,"--n-code-border-radius":c,"--n-code-text-color":o,"--n-code-color":u,"--n-code-border":b}}),t=w?et("text",Q(()=>`${r.type[0]}${r.depth||""}`),e,r):void 0;return{mergedClsPrefix:v,compitableTag:In(r,["as","tag"]),cssVars:w?void 0:e,themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender}},render(){var r,v,w;const{mergedClsPrefix:l}=this;(r=this.onRender)===null||r===void 0||r.call(this);const e=[`${l}-text`,this.themeClass,{[`${l}-text--code`]:this.code,[`${l}-text--delete`]:this.delete,[`${l}-text--strong`]:this.strong,[`${l}-text--italic`]:this.italic,[`${l}-text--underline`]:this.underline}],t=(w=(v=this.$slots).default)===null||w===void 0?void 0:w.call(v);return this.code?_("code",{class:e,style:this.cssVars},this.delete?_("del",null,t):t):this.delete?_("del",{class:e,style:this.cssVars},t):_(this.compitableTag||"span",{class:e,style:this.cssVars},t)}}),tt=Lt("n-upload"),bi=de([q("upload","width: 100%;",[ee("dragger-inside",[q("upload-trigger",`
 display: block;
 `)]),ee("drag-over",[q("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),q("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[de("&:hover",`
 border: var(--n-dragger-border-hover);
 `),ee("disabled",`
 cursor: not-allowed;
 `)]),q("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[de("+",[q("upload-file-list","margin-top: 8px;")]),ee("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),ee("image-card",`
 width: 96px;
 height: 96px;
 `,[q("base-icon",`
 font-size: 24px;
 `),q("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),q("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[de("a, img","outline: none;"),ee("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[q("upload-file","cursor: not-allowed;")]),ee("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),q("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ht(),q("progress",[Ht({foldPadding:!0})]),de("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[q("upload-file-info",[we("action",`
 opacity: 1;
 `)])]),ee("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[q("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[q("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),we("name",`
 padding: 0 8px;
 `),we("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[de("img",`
 width: 100%;
 `)])])]),ee("text-type",[q("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),ee("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[q("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),q("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[we("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[de("img",`
 width: 100%;
 `)])]),de("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),de("&:hover",[de("&::before","opacity: 1;"),q("upload-file-info",[we("thumbnail","opacity: .12;")])])]),ee("error-status",[de("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),q("upload-file-info",[we("name","color: var(--n-item-text-color-error);"),we("thumbnail","color: var(--n-item-text-color-error);")]),ee("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),ee("with-url",`
 cursor: pointer;
 `,[q("upload-file-info",[we("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[de("a",`
 text-decoration: underline;
 `)])])]),q("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[we("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[q("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),we("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[q("button",[de("&:not(:last-child)",{marginRight:"4px"}),q("base-icon",[de("svg",[pn()])])]),ee("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),ee("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),we("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[de("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),q("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),Mr="__UPLOAD_DRAGGER__",Br=pe({name:"UploadDragger",[Mr]:!0,setup(r,{slots:v}){const w=Ge(tt,null);return w||at("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:l},mergedDisabledRef:{value:e},maxReachedRef:{value:t}}=w;return _("div",{class:[`${l}-upload-dragger`,(e||t)&&`${l}-upload-dragger--disabled`]},v)}}});function wi(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},_("g",{fill:"none"},_("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"})))}function yi(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},_("g",{fill:"none"},_("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})))}const xi=pe({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Ge(tt).mergedThemeRef}},render(){return _(gr,null,{default:()=>this.show?_(di,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var $t=function(r,v,w,l){function e(t){return t instanceof w?t:new w(function(i){i(t)})}return new(w||(w=Promise))(function(t,i){function s(n){try{m(l.next(n))}catch(a){i(a)}}function g(n){try{m(l.throw(n))}catch(a){i(a)}}function m(n){n.done?t(n.value):e(n.value).then(s,g)}m((l=l.apply(r,v||[])).next())})};function Dr(r){return r.includes("image/")}function Jt(r=""){const v=r.split("/"),l=v[v.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(l)||[""])[0]}const er=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Er=r=>{if(r.type)return Dr(r.type);const v=Jt(r.name||"");if(er.test(v))return!0;const w=r.thumbnailUrl||r.url||"",l=Jt(w);return!!(/^data:image\//.test(w)||er.test(l))};function Ci(r){return $t(this,void 0,void 0,function*(){return yield new Promise(v=>{if(!r.type||!Dr(r.type)){v("");return}v(window.URL.createObjectURL(r))})})}const Ri=vn&&window.FileReader&&window.File;function Ai(r){return r.isDirectory}function Si(r){return r.isFile}function ki(r,v){return $t(this,void 0,void 0,function*(){const w=[];function l(e){return $t(this,void 0,void 0,function*(){for(const t of e)if(t){if(v&&Ai(t)){const i=t.createReader();let s=[],g;try{do g=yield new Promise((m,n)=>{i.readEntries(m,n)}),s=s.concat(g);while(g.length>0)}catch(m){Wt("upload","error happens when handling directory upload",m)}yield l(s)}else if(Si(t))try{const i=yield new Promise((s,g)=>{t.file(s,g)});w.push({file:i,entry:t,source:"dnd"})}catch(i){Wt("upload","error happens when handling file upload",i)}}})}return yield l(r),w})}function it(r){const{id:v,name:w,percentage:l,status:e,url:t,file:i,thumbnailUrl:s,type:g,fullPath:m,batchId:n}=r;return{id:v,name:w,percentage:l??null,status:e,url:t??null,file:i??null,thumbnailUrl:s??null,type:g??null,fullPath:m??null,batchId:n??null}}function _i(r,v,w){return r=r.toLowerCase(),v=v.toLocaleLowerCase(),w=w.toLocaleLowerCase(),w.split(",").map(e=>e.trim()).filter(Boolean).some(e=>{if(e.startsWith(".")){if(r.endsWith(e))return!0}else if(e.includes("/")){const[t,i]=v.split("/"),[s,g]=e.split("/");if((s==="*"||t&&s&&s===t)&&(g==="*"||i&&g&&g===i))return!0}else return!0;return!1})}var tr=function(r,v,w,l){function e(t){return t instanceof w?t:new w(function(i){i(t)})}return new(w||(w=Promise))(function(t,i){function s(n){try{m(l.next(n))}catch(a){i(a)}}function g(n){try{m(l.throw(n))}catch(a){i(a)}}function m(n){n.done?t(n.value):e(n.value).then(s,g)}m((l=l.apply(r,v||[])).next())})};const ut={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Pi=pe({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(r){const v=Ge(tt),w=se(null),l=se(""),e=Q(()=>{const{file:I}=r;return I.status==="finished"?"success":I.status==="error"?"error":"info"}),t=Q(()=>{const{file:I}=r;if(I.status==="error")return"error"}),i=Q(()=>{const{file:I}=r;return I.status==="uploading"}),s=Q(()=>{if(!v.showCancelButtonRef.value)return!1;const{file:I}=r;return["uploading","pending","error"].includes(I.status)}),g=Q(()=>{if(!v.showRemoveButtonRef.value)return!1;const{file:I}=r;return["finished"].includes(I.status)}),m=Q(()=>{if(!v.showDownloadButtonRef.value)return!1;const{file:I}=r;return["finished"].includes(I.status)}),n=Q(()=>{if(!v.showRetryButtonRef.value)return!1;const{file:I}=r;return["error"].includes(I.status)}),a=bn(()=>l.value||r.file.thumbnailUrl||r.file.url),o=Q(()=>{if(!v.showPreviewButtonRef.value)return!1;const{file:{status:I},listType:x}=r;return["finished"].includes(I)&&a.value&&x==="image-card"});function c(){return tr(this,void 0,void 0,function*(){const I=v.onRetryRef.value;I&&(yield I({file:r.file}))===!1||v.submit(r.file.id)})}function u(I){I.preventDefault();const{file:x}=r;["finished","pending","error"].includes(x.status)?S(x):["uploading"].includes(x.status)?F(x):wn("upload","The button clicked type is unknown.")}function b(I){I.preventDefault(),y(r.file)}function S(I){const{xhrMap:x,doChange:$,onRemoveRef:{value:h},mergedFileListRef:{value:d}}=v;Promise.resolve(h?h({file:Object.assign({},I),fileList:d,index:r.index}):!0).then(A=>{if(A===!1)return;const C=Object.assign({},I,{status:"removed"});x.delete(I.id),$(C,void 0,{remove:!0})})}function y(I){const{onDownloadRef:{value:x},customDownloadRef:{value:$}}=v;Promise.resolve(x?x(Object.assign({},I)):!0).then(h=>{h!==!1&&($?$(Object.assign({},I)):wr(I.url,I.name))})}function F(I){const{xhrMap:x}=v,$=x.get(I.id);$==null||$.abort(),S(Object.assign({},I))}function L(I){const{onPreviewRef:{value:x}}=v;if(x)x(r.file,{event:I});else if(r.listType==="image-card"){const{value:$}=w;if(!$)return;$.showPreview()}}const U=()=>tr(this,void 0,void 0,function*(){const{listType:I}=r;I!=="image"&&I!=="image-card"||v.shouldUseThumbnailUrlRef.value(r.file)&&(l.value=yield v.getFileThumbnailUrlResolver(r.file))});return ft(()=>{U()}),{mergedTheme:v.mergedThemeRef,progressStatus:e,buttonType:t,showProgress:i,disabled:v.mergedDisabledRef,showCancelButton:s,showRemoveButton:g,showDownloadButton:m,showRetryButton:n,showPreviewButton:o,mergedThumbnailUrl:a,shouldUseThumbnailUrl:v.shouldUseThumbnailUrlRef,renderIcon:v.renderIconRef,imageRef:w,handleRemoveOrCancelClick:u,handleDownloadClick:b,handleRetryClick:c,handlePreviewClick:L}},render(){const{clsPrefix:r,mergedTheme:v,listType:w,file:l,renderIcon:e}=this;let t;const i=w==="image";i||w==="image-card"?t=!this.shouldUseThumbnailUrl(l)||!this.mergedThumbnailUrl?_("span",{class:`${r}-upload-file-info__thumbnail`},e?e(l):Er(l)?_(be,{clsPrefix:r},{default:wi}):_(be,{clsPrefix:r},{default:yi})):_("a",{rel:"noopener noreferer",target:"_blank",href:l.url||void 0,class:`${r}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},w==="image-card"?_(ni,{src:this.mergedThumbnailUrl||void 0,previewSrc:l.url||void 0,alt:l.name,ref:"imageRef"}):_("img",{src:this.mergedThumbnailUrl||void 0,alt:l.name})):t=_("span",{class:`${r}-upload-file-info__thumbnail`},e?e(l):_(be,{clsPrefix:r},{default:()=>_(Fo,null)}));const g=_(xi,{show:this.showProgress,percentage:l.percentage||0,status:this.progressStatus}),m=w==="text"||w==="image";return _("div",{class:[`${r}-upload-file`,`${r}-upload-file--${this.progressStatus}-status`,l.url&&l.status!=="error"&&w!=="image-card"&&`${r}-upload-file--with-url`,`${r}-upload-file--${w}-type`]},_("div",{class:`${r}-upload-file-info`},t,_("div",{class:`${r}-upload-file-info__name`},m&&(l.url&&l.status!=="error"?_("a",{rel:"noopener noreferer",target:"_blank",href:l.url||void 0,onClick:this.handlePreviewClick},l.name):_("span",{onClick:this.handlePreviewClick},l.name)),i&&g),_("div",{class:[`${r}-upload-file-info__action`,`${r}-upload-file-info__action--${w}-type`]},this.showPreviewButton?_(Ve,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,builtinThemeOverrides:ut},{icon:()=>_(be,{clsPrefix:r},{default:()=>_(Ln,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&_(Ve,{key:"cancelOrTrash",theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ut,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>_(mn,null,{default:()=>this.showRemoveButton?_(be,{clsPrefix:r,key:"trash"},{default:()=>_(No,null)}):_(be,{clsPrefix:r,key:"cancel"},{default:()=>_(zo,null)})})}),this.showRetryButton&&!this.disabled&&_(Ve,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,builtinThemeOverrides:ut},{icon:()=>_(be,{clsPrefix:r},{default:()=>_(Bo,null)})}),this.showDownloadButton?_(Ve,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:v.peers.Button,themeOverrides:v.peerOverrides.Button,builtinThemeOverrides:ut},{icon:()=>_(be,{clsPrefix:r},{default:()=>_($r,null)})}):null)),!i&&g)}}),Nr=pe({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(r,{slots:v}){const w=Ge(tt,null);w||at("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:l,mergedDisabledRef:e,maxReachedRef:t,listTypeRef:i,dragOverRef:s,openOpenFileDialog:g,draggerInsideRef:m,handleFileAddition:n,mergedDirectoryDndRef:a,triggerClassRef:o,triggerStyleRef:c}=w,u=Q(()=>i.value==="image-card");function b(){e.value||t.value||g()}function S(U){U.preventDefault(),s.value=!0}function y(U){U.preventDefault(),s.value=!0}function F(U){U.preventDefault(),s.value=!1}function L(U){var I;if(U.preventDefault(),!m.value||e.value||t.value){s.value=!1;return}const x=(I=U.dataTransfer)===null||I===void 0?void 0:I.items;x!=null&&x.length?ki(Array.from(x).map($=>$.webkitGetAsEntry()),a.value).then($=>{n($)}).finally(()=>{s.value=!1}):s.value=!1}return()=>{var U;const{value:I}=l;return r.abstract?(U=v.default)===null||U===void 0?void 0:U.call(v,{handleClick:b,handleDrop:L,handleDragOver:S,handleDragEnter:y,handleDragLeave:F}):_("div",{class:[`${I}-upload-trigger`,(e.value||t.value)&&`${I}-upload-trigger--disabled`,u.value&&`${I}-upload-trigger--image-card`,o.value],style:c.value,onClick:b,onDrop:L,onDragover:S,onDragenter:y,onDragleave:F},u.value?_(Br,null,{default:()=>sr(v.default,()=>[_(be,{clsPrefix:I},{default:()=>_(Dn,null)})])}):v)}}}),Ui=pe({name:"UploadFileList",setup(r,{slots:v}){const w=Ge(tt,null);w||at("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:l,mergedClsPrefixRef:e,listTypeRef:t,mergedFileListRef:i,fileListClassRef:s,fileListStyleRef:g,cssVarsRef:m,themeClassRef:n,maxReachedRef:a,showTriggerRef:o,imageGroupPropsRef:c}=w,u=Q(()=>t.value==="image-card"),b=()=>i.value.map((y,F)=>_(Pi,{clsPrefix:e.value,key:y.id,file:y,index:F,listType:t.value})),S=()=>u.value?_(ei,Object.assign({},c.value),{default:b}):_(gr,{group:!0},{default:b});return()=>{const{value:y}=e,{value:F}=l;return _("div",{class:[`${y}-upload-file-list`,u.value&&`${y}-upload-file-list--grid`,F?n==null?void 0:n.value:void 0,s.value],style:[F&&m?m.value:"",g.value]},S(),o.value&&!a.value&&u.value&&_(Nr,null,v))}}});var rr=function(r,v,w,l){function e(t){return t instanceof w?t:new w(function(i){i(t)})}return new(w||(w=Promise))(function(t,i){function s(n){try{m(l.next(n))}catch(a){i(a)}}function g(n){try{m(l.throw(n))}catch(a){i(a)}}function m(n){n.done?t(n.value):e(n.value).then(s,g)}m((l=l.apply(r,v||[])).next())})};function Ii(r,v,w){const{doChange:l,xhrMap:e}=r;let t=0;function i(g){var m;let n=Object.assign({},v,{status:"error",percentage:t});e.delete(v.id),n=it(((m=r.onError)===null||m===void 0?void 0:m.call(r,{file:n,event:g}))||n),l(n,g)}function s(g){var m;if(r.isErrorState){if(r.isErrorState(w)){i(g);return}}else if(w.status<200||w.status>=300){i(g);return}let n=Object.assign({},v,{status:"finished",percentage:t});e.delete(v.id),n=it(((m=r.onFinish)===null||m===void 0?void 0:m.call(r,{file:n,event:g}))||n),l(n,g)}return{handleXHRLoad:s,handleXHRError:i,handleXHRAbort(g){const m=Object.assign({},v,{status:"removed",file:null,percentage:t});e.delete(v.id),l(m,g)},handleXHRProgress(g){const m=Object.assign({},v,{status:"uploading"});if(g.lengthComputable){const n=Math.ceil(g.loaded/g.total*100);m.percentage=n,t=n}l(m,g)}}}function Ti(r){const{inst:v,file:w,data:l,headers:e,withCredentials:t,action:i,customRequest:s}=r,{doChange:g}=r.inst;let m=0;s({file:w,data:l,headers:e,withCredentials:t,action:i,onProgress(n){const a=Object.assign({},w,{status:"uploading"}),o=n.percent;a.percentage=o,m=o,g(a)},onFinish(){var n;let a=Object.assign({},w,{status:"finished",percentage:m});a=it(((n=v.onFinish)===null||n===void 0?void 0:n.call(v,{file:a}))||a),g(a)},onError(){var n;let a=Object.assign({},w,{status:"error",percentage:m});a=it(((n=v.onError)===null||n===void 0?void 0:n.call(v,{file:a}))||a),g(a)}})}function Oi(r,v,w){const l=Ii(r,v,w);w.onabort=l.handleXHRAbort,w.onerror=l.handleXHRError,w.onload=l.handleXHRLoad,w.upload&&(w.upload.onprogress=l.handleXHRProgress)}function jr(r,v){return typeof r=="function"?r({file:v}):r||{}}function $i(r,v,w){const l=jr(v,w);l&&Object.keys(l).forEach(e=>{r.setRequestHeader(e,l[e])})}function Li(r,v,w){const l=jr(v,w);l&&Object.keys(l).forEach(e=>{r.append(e,l[e])})}function Fi(r,v,w,{method:l,action:e,withCredentials:t,responseType:i,headers:s,data:g}){const m=new XMLHttpRequest;m.responseType=i,r.xhrMap.set(w.id,m),m.withCredentials=t;const n=new FormData;if(Li(n,g,w),w.file!==null&&n.append(v,w.file),Oi(r,w,m),e!==void 0){m.open(l.toUpperCase(),e),$i(m,s,w),m.send(n);const a=Object.assign({},w,{status:"uploading"});r.doChange(a)}}const zi=Object.assign(Object.assign({},_e.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:r=>Ri?Er(r):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Mi=pe({name:"Upload",props:zi,setup(r){r.abstract&&r.listType==="image-card"&&at("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:v,inlineThemeDisabled:w,mergedRtlRef:l}=Fe(r),e=_e("Upload","-upload",bi,xn,r,v),t=Cn("Upload",l,v),i=Rn(r),s=se(r.defaultFileList),g=ae(r,"fileList"),m=se(null),n={value:!1},a=se(!1),o=new Map,c=gt(g,s),u=Q(()=>c.value.map(it)),b=Q(()=>{const{max:C}=r;return C!==void 0?u.value.length>=C:!1});function S(){var C;(C=m.value)===null||C===void 0||C.click()}function y(C){const R=C.target;I(R.files?Array.from(R.files).map(P=>({file:P,entry:null,source:"input"})):null,C),R.value=""}function F(C){const{"onUpdate:fileList":R,onUpdateFileList:P}=r;R&&Le(R,C),P&&Le(P,C),s.value=C}const L=Q(()=>r.multiple||r.directory),U=(C,R,P={append:!1,remove:!1})=>{const{append:k,remove:T}=P,p=Array.from(u.value),f=p.findIndex(z=>z.id===C.id);if(k||T||~f){k?p.push(C):T?p.splice(f,1):p.splice(f,1,C);const{onChange:z}=r;z&&z({file:C,fileList:p,event:R}),F(p)}};function I(C,R){if(!C||C.length===0)return;const{onBeforeUpload:P}=r;C=L.value?C:[C[0]];const{max:k,accept:T}=r;C=C.filter(({file:f,source:z})=>z==="dnd"&&(T!=null&&T.trim())?_i(f.name,f.type,T):!0),k&&(C=C.slice(0,k-u.value.length));const p=Pt();Promise.all(C.map(f=>rr(this,[f],void 0,function*({file:z,entry:O}){var B;const V={id:Pt(),batchId:p,name:z.name,status:"pending",percentage:0,file:z,url:null,type:z.type,thumbnailUrl:null,fullPath:(B=O==null?void 0:O.fullPath)!==null&&B!==void 0?B:`/${z.webkitRelativePath||z.name}`};return!P||(yield P({file:V,fileList:u.value}))!==!1?V:null}))).then(f=>rr(this,void 0,void 0,function*(){let z=Promise.resolve();f.forEach(O=>{z=z.then(An).then(()=>{O&&U(O,R,{append:!0})})}),yield z})).then(()=>{r.defaultUpload&&x()})}function x(C){const{method:R,action:P,withCredentials:k,headers:T,data:p,name:f}=r,z=C!==void 0?u.value.filter(B=>B.id===C):u.value,O=C!==void 0;z.forEach(B=>{const{status:V}=B;(V==="pending"||V==="error"&&O)&&(r.customRequest?Ti({inst:{doChange:U,xhrMap:o,onFinish:r.onFinish,onError:r.onError},file:B,action:P,withCredentials:k,headers:T,data:p,customRequest:r.customRequest}):Fi({doChange:U,xhrMap:o,onFinish:r.onFinish,onError:r.onError,isErrorState:r.isErrorState},f,B,{method:R,action:P,withCredentials:k,responseType:r.responseType,headers:T,data:p}))})}function $(C){var R;if(C.thumbnailUrl)return C.thumbnailUrl;const{createThumbnailUrl:P}=r;return P?(R=P(C.file,C))!==null&&R!==void 0?R:C.url||"":C.url?C.url:C.file?Ci(C.file):""}const h=Q(()=>{const{common:{cubicBezierEaseInOut:C},self:{draggerColor:R,draggerBorder:P,draggerBorderHover:k,itemColorHover:T,itemColorHoverError:p,itemTextColorError:f,itemTextColorSuccess:z,itemTextColor:O,itemIconColor:B,itemDisabledOpacity:V,lineHeight:N,borderRadius:H,fontSize:E,itemBorderImageCardError:M,itemBorderImageCard:G}}=e.value;return{"--n-bezier":C,"--n-border-radius":H,"--n-dragger-border":P,"--n-dragger-border-hover":k,"--n-dragger-color":R,"--n-font-size":E,"--n-item-color-hover":T,"--n-item-color-hover-error":p,"--n-item-disabled-opacity":V,"--n-item-icon-color":B,"--n-item-text-color":O,"--n-item-text-color-error":f,"--n-item-text-color-success":z,"--n-line-height":N,"--n-item-border-image-card-error":M,"--n-item-border-image-card":G}}),d=w?et("upload",void 0,h,r):void 0;Ft(tt,{mergedClsPrefixRef:v,mergedThemeRef:e,showCancelButtonRef:ae(r,"showCancelButton"),showDownloadButtonRef:ae(r,"showDownloadButton"),showRemoveButtonRef:ae(r,"showRemoveButton"),showRetryButtonRef:ae(r,"showRetryButton"),onRemoveRef:ae(r,"onRemove"),onDownloadRef:ae(r,"onDownload"),customDownloadRef:ae(r,"customDownload"),mergedFileListRef:u,triggerClassRef:ae(r,"triggerClass"),triggerStyleRef:ae(r,"triggerStyle"),shouldUseThumbnailUrlRef:ae(r,"shouldUseThumbnailUrl"),renderIconRef:ae(r,"renderIcon"),xhrMap:o,submit:x,doChange:U,showPreviewButtonRef:ae(r,"showPreviewButton"),onPreviewRef:ae(r,"onPreview"),getFileThumbnailUrlResolver:$,listTypeRef:ae(r,"listType"),dragOverRef:a,openOpenFileDialog:S,draggerInsideRef:n,handleFileAddition:I,mergedDisabledRef:i.mergedDisabledRef,maxReachedRef:b,fileListClassRef:ae(r,"fileListClass"),fileListStyleRef:ae(r,"fileListStyle"),abstractRef:ae(r,"abstract"),acceptRef:ae(r,"accept"),cssVarsRef:w?void 0:h,themeClassRef:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender,showTriggerRef:ae(r,"showTrigger"),imageGroupPropsRef:ae(r,"imageGroupProps"),mergedDirectoryDndRef:Q(()=>{var C;return(C=r.directoryDnd)!==null&&C!==void 0?C:r.directory}),onRetryRef:ae(r,"onRetry")});const A={clear:()=>{s.value=[]},submit:x,openOpenFileDialog:S};return Object.assign({mergedClsPrefix:v,draggerInsideRef:n,rtlEnabled:t,inputElRef:m,mergedTheme:e,dragOver:a,mergedMultiple:L,cssVars:w?void 0:h,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender,handleFileInputChange:y},A)},render(){var r,v;const{draggerInsideRef:w,mergedClsPrefix:l,$slots:e,directory:t,onRender:i}=this;if(e.default&&!this.abstract){const g=e.default()[0];!((r=g==null?void 0:g.type)===null||r===void 0)&&r[Mr]&&(w.value=!0)}const s=_("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${l}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:t||void 0,directory:t||void 0}));return this.abstract?_(Ke,null,(v=e.default)===null||v===void 0?void 0:v.call(e),_(yn,{to:"body"},s)):(i==null||i(),_("div",{class:[`${l}-upload`,this.rtlEnabled&&`${l}-upload--rtl`,w.value&&`${l}-upload--dragger-inside`,this.dragOver&&`${l}-upload--drag-over`,this.themeClass],style:this.cssVars},s,this.showTrigger&&this.listType!=="image-card"&&_(Nr,null,e),this.showFileList&&_(Ui,null,e)))}}),Bi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Di=me("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ei=me("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),Ni=me("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),ji=[Di,Ei,Ni],Hi=pe({name:"CloudUploadOutline",render:function(v,w){return De(),Je("svg",Bi,ji)}});function Wi(r,v){return v.forEach(function(w){w&&typeof w!="string"&&!Array.isArray(w)&&Object.keys(w).forEach(function(l){if(l!=="default"&&!(l in r)){var e=Object.getOwnPropertyDescriptor(w,l);Object.defineProperty(r,l,e.get?e:{enumerable:!0,get:function(){return w[l]}})}})}),Object.freeze(r)}function Hr(r,v){return new Promise(function(w,l){let e;return Vi(r).then(function(t){try{return e=t,w(new Blob([v.slice(0,2),e,v.slice(2)],{type:"image/jpeg"}))}catch(i){return l(i)}},l)})}const Vi=r=>new Promise((v,w)=>{const l=new FileReader;l.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let i=0;if(t.getUint16(i)!==65496)return w("not a valid JPEG");for(i+=2;;){const s=t.getUint16(i);if(s===65498)break;const g=t.getUint16(i+2);if(s===65505&&t.getUint32(i+4)===1165519206){const m=i+10;let n;switch(t.getUint16(m)){case 18761:n=!0;break;case 19789:n=!1;break;default:return w("TIFF header contains invalid endian")}if(t.getUint16(m+2,n)!==42)return w("TIFF header contains invalid version");const a=t.getUint32(m+4,n),o=m+a+2+12*t.getUint16(m+a,n);for(let c=m+a+2;c<o;c+=12)if(t.getUint16(c,n)==274){if(t.getUint16(c+2,n)!==3)return w("Orientation data type is invalid");if(t.getUint32(c+4,n)!==1)return w("Orientation data count is invalid");t.setUint16(c+8,1,n);break}return v(e.slice(i,i+2+g))}i+=2+g}return v(new Blob)}),l.readAsArrayBuffer(r)});var pt={},qi={get exports(){return pt},set exports(r){pt=r}};(function(r){var v,w,l={};qi.exports=l,l.parse=function(e,t){for(var i=l.bin.readUshort,s=l.bin.readUint,g=0,m={},n=new Uint8Array(e),a=n.length-4;s(n,a)!=101010256;)a--;g=a,g+=4;var o=i(n,g+=4);i(n,g+=2);var c=s(n,g+=2),u=s(n,g+=4);g+=4,g=u;for(var b=0;b<o;b++){s(n,g),g+=4,g+=4,g+=4,s(n,g+=4),c=s(n,g+=4);var S=s(n,g+=4),y=i(n,g+=4),F=i(n,g+2),L=i(n,g+4);g+=6;var U=s(n,g+=8);g+=4,g+=y+F+L,l._readLocal(n,U,m,c,S,t)}return m},l._readLocal=function(e,t,i,s,g,m){var n=l.bin.readUshort,a=l.bin.readUint;a(e,t),n(e,t+=4),n(e,t+=2);var o=n(e,t+=2);a(e,t+=2),a(e,t+=4),t+=4;var c=n(e,t+=8),u=n(e,t+=2);t+=2;var b=l.bin.readUTF8(e,t,c);if(t+=c,t+=u,m)i[b]={size:g,csize:s};else{var S=new Uint8Array(e.buffer,t);if(o==0)i[b]=new Uint8Array(S.buffer.slice(t,t+s));else{if(o!=8)throw"unknown compression method: "+o;var y=new Uint8Array(g);l.inflateRaw(S,y),i[b]=y}}},l.inflateRaw=function(e,t){return l.F.inflate(e,t)},l.inflate=function(e,t){return e[0],e[1],l.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},l.deflate=function(e,t){t==null&&(t={level:6});var i=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[i]=120,s[i+1]=156,i+=2,i=l.F.deflateRaw(e,s,i,t.level);var g=l.adler(e,0,e.length);return s[i+0]=g>>>24&255,s[i+1]=g>>>16&255,s[i+2]=g>>>8&255,s[i+3]=g>>>0&255,new Uint8Array(s.buffer,0,i+4)},l.deflateRaw=function(e,t){t==null&&(t={level:6});var i=new Uint8Array(50+Math.floor(1.1*e.length)),s=l.F.deflateRaw(e,i,s,t.level);return new Uint8Array(i.buffer,0,s)},l.encode=function(e,t){t==null&&(t=!1);var i=0,s=l.bin.writeUint,g=l.bin.writeUshort,m={};for(var n in e){var a=!l._noNeed(n)&&!t,o=e[n],c=l.crc.crc(o,0,o.length);m[n]={cpr:a,usize:o.length,crc:c,file:a?l.deflateRaw(o):o}}for(var n in m)i+=m[n].file.length+30+46+2*l.bin.sizeUTF8(n);i+=22;var u=new Uint8Array(i),b=0,S=[];for(var n in m){var y=m[n];S.push(b),b=l._writeHeader(u,b,n,y,0)}var F=0,L=b;for(var n in m)y=m[n],S.push(b),b=l._writeHeader(u,b,n,y,1,S[F++]);var U=b-L;return s(u,b,101010256),b+=4,g(u,b+=4,F),g(u,b+=2,F),s(u,b+=2,U),s(u,b+=4,L),b+=4,b+=2,u.buffer},l._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},l._writeHeader=function(e,t,i,s,g,m){var n=l.bin.writeUint,a=l.bin.writeUshort,o=s.file;return n(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),a(e,t,20),a(e,t+=2,0),a(e,t+=2,s.cpr?8:0),n(e,t+=2,0),n(e,t+=4,s.crc),n(e,t+=4,o.length),n(e,t+=4,s.usize),a(e,t+=4,l.bin.sizeUTF8(i)),a(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,n(e,t+=6,m),t+=4),t+=l.bin.writeUTF8(e,t,i),g==0&&(e.set(o,t),t+=o.length),t},l.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var i=t,s=0;s<8;s++)1&i?i=3988292384^i>>>1:i>>>=1;e[t]=i}return e}(),update:function(e,t,i,s){for(var g=0;g<s;g++)e=l.crc.table[255&(e^t[i+g])]^e>>>8;return e},crc:function(e,t,i){return 4294967295^l.crc.update(4294967295,e,t,i)}},l.adler=function(e,t,i){for(var s=1,g=0,m=t,n=t+i;m<n;){for(var a=Math.min(m+5552,n);m<a;)g+=s+=e[m++];s%=65521,g%=65521}return g<<16|s},l.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,i){e[t]=255&i,e[t+1]=i>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,i){e[t]=255&i,e[t+1]=i>>8&255,e[t+2]=i>>16&255,e[t+3]=i>>24&255},readASCII:function(e,t,i){for(var s="",g=0;g<i;g++)s+=String.fromCharCode(e[t+g]);return s},writeASCII:function(e,t,i){for(var s=0;s<i.length;s++)e[t+s]=i.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,i){for(var s,g="",m=0;m<i;m++)g+="%"+l.bin.pad(e[t+m].toString(16));try{s=decodeURIComponent(g)}catch{return l.bin.readASCII(e,t,i)}return s},writeUTF8:function(e,t,i){for(var s=i.length,g=0,m=0;m<s;m++){var n=i.charCodeAt(m);if(!(4294967168&n))e[t+g]=n,g++;else if(!(4294965248&n))e[t+g]=192|n>>6,e[t+g+1]=128|n>>0&63,g+=2;else if(!(4294901760&n))e[t+g]=224|n>>12,e[t+g+1]=128|n>>6&63,e[t+g+2]=128|n>>0&63,g+=3;else{if(4292870144&n)throw"e";e[t+g]=240|n>>18,e[t+g+1]=128|n>>12&63,e[t+g+2]=128|n>>6&63,e[t+g+3]=128|n>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,i=0,s=0;s<t;s++){var g=e.charCodeAt(s);if(!(4294967168&g))i++;else if(!(4294965248&g))i+=2;else if(!(4294901760&g))i+=3;else{if(4292870144&g)throw"e";i+=4}}return i}},l.F={},l.F.deflateRaw=function(e,t,i,s){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],m=l.F.U,n=l.F._goodIndex;l.F._hash;var a=l.F._putsE,o=0,c=i<<3,u=0,b=e.length;if(s==0){for(;o<b;)a(t,c,o+(C=Math.min(65535,b-o))==b?1:0),c=l.F._copyExact(e,o,C,t,c+8),o+=C;return c>>>3}var S=m.lits,y=m.strt,F=m.prev,L=0,U=0,I=0,x=0,$=0,h=0;for(b>2&&(y[h=l.F._hash(e,0)]=0),o=0;o<b;o++){if($=h,o+1<b-2){h=l.F._hash(e,o+1);var d=o+1&32767;F[d]=y[h],y[h]=d}if(u<=o){(L>14e3||U>26697)&&b-o>100&&(u<o&&(S[L]=o-u,L+=2,u=o),c=l.F._writeBlock(o==b-1||u==b?1:0,S,L,x,e,I,o-I,t,c),L=U=x=0,I=o);var A=0;o<b-2&&(A=l.F._bestMatch(e,o,F,$,Math.min(g[2],b-o),g[3]));var C=A>>>16,R=65535&A;if(A!=0){R=65535&A;var P=n(C=A>>>16,m.of0);m.lhst[257+P]++;var k=n(R,m.df0);m.dhst[k]++,x+=m.exb[P]+m.dxb[k],S[L]=C<<23|o-u,S[L+1]=R<<16|P<<8|k,L+=2,u=o+C}else m.lhst[e[o]]++;U++}}for(I==o&&e.length!=0||(u<o&&(S[L]=o-u,L+=2,u=o),c=l.F._writeBlock(1,S,L,x,e,I,o-I,t,c),L=0,U=0,L=U=x=0,I=o);7&c;)c++;return c>>>3},l.F._bestMatch=function(e,t,i,s,g,m){var n=32767&t,a=i[n],o=n-a+32768&32767;if(a==n||s!=l.F._hash(e,t-o))return 0;for(var c=0,u=0,b=Math.min(32767,t);o<=b&&--m!=0&&a!=n;){if(c==0||e[t+c]==e[t+c-o]){var S=l.F._howLong(e,t,o);if(S>c){if(u=o,(c=S)>=g)break;o+2<S&&(S=o+2);for(var y=0,F=0;F<S-2;F++){var L=t-o+F+32768&32767,U=L-i[L]+32768&32767;U>y&&(y=U,a=L)}}}o+=(n=a)-(a=i[n])+32768&32767}return c<<16|u},l.F._howLong=function(e,t,i){if(e[t]!=e[t-i]||e[t+1]!=e[t+1-i]||e[t+2]!=e[t+2-i])return 0;var s=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-i];)t++;return t-s},l.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},l.saved=0,l.F._writeBlock=function(e,t,i,s,g,m,n,a,o){var c,u,b,S,y,F,L,U,I,x=l.F.U,$=l.F._putsF,h=l.F._putsE;x.lhst[256]++,u=(c=l.F.getTrees())[0],b=c[1],S=c[2],y=c[3],F=c[4],L=c[5],U=c[6],I=c[7];var d=32+(o+3&7?8-(o+3&7):0)+(n<<3),A=s+l.F.contSize(x.fltree,x.lhst)+l.F.contSize(x.fdtree,x.dhst),C=s+l.F.contSize(x.ltree,x.lhst)+l.F.contSize(x.dtree,x.dhst);C+=14+3*L+l.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var R=0;R<286;R++)x.lhst[R]=0;for(R=0;R<30;R++)x.dhst[R]=0;for(R=0;R<19;R++)x.ihst[R]=0;var P=d<A&&d<C?0:A<C?1:2;if($(a,o,e),$(a,o+1,P),o+=3,P==0){for(;7&o;)o++;o=l.F._copyExact(g,m,n,a,o)}else{var k,T;if(P==1&&(k=x.fltree,T=x.fdtree),P==2){l.F.makeCodes(x.ltree,u),l.F.revCodes(x.ltree,u),l.F.makeCodes(x.dtree,b),l.F.revCodes(x.dtree,b),l.F.makeCodes(x.itree,S),l.F.revCodes(x.itree,S),k=x.ltree,T=x.dtree,h(a,o,y-257),h(a,o+=5,F-1),h(a,o+=5,L-4),o+=4;for(var p=0;p<L;p++)h(a,o+3*p,x.itree[1+(x.ordr[p]<<1)]);o+=3*L,o=l.F._codeTiny(U,x.itree,a,o),o=l.F._codeTiny(I,x.itree,a,o)}for(var f=m,z=0;z<i;z+=2){for(var O=t[z],B=O>>>23,V=f+(8388607&O);f<V;)o=l.F._writeLit(g[f++],k,a,o);if(B!=0){var N=t[z+1],H=N>>16,E=N>>8&255,M=255&N;h(a,o=l.F._writeLit(257+E,k,a,o),B-x.of0[E]),o+=x.exb[E],$(a,o=l.F._writeLit(M,T,a,o),H-x.df0[M]),o+=x.dxb[M],f+=B}}o=l.F._writeLit(256,k,a,o)}return o},l.F._copyExact=function(e,t,i,s,g){var m=g>>>3;return s[m]=i,s[m+1]=i>>>8,s[m+2]=255-s[m],s[m+3]=255-s[m+1],m+=4,s.set(new Uint8Array(e.buffer,t,i),m),g+(i+4<<3)},l.F.getTrees=function(){for(var e=l.F.U,t=l.F._hufTree(e.lhst,e.ltree,15),i=l.F._hufTree(e.dhst,e.dtree,15),s=[],g=l.F._lenCodes(e.ltree,s),m=[],n=l.F._lenCodes(e.dtree,m),a=0;a<s.length;a+=2)e.ihst[s[a]]++;for(a=0;a<m.length;a+=2)e.ihst[m[a]]++;for(var o=l.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&e.itree[1+(e.ordr[c-1]<<1)]==0;)c--;return[t,i,o,g,n,c,s,m]},l.F.getSecond=function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(e[i+1]);return t},l.F.nonZero=function(e){for(var t="",i=0;i<e.length;i+=2)e[i+1]!=0&&(t+=(i>>1)+",");return t},l.F.contSize=function(e,t){for(var i=0,s=0;s<t.length;s++)i+=t[s]*e[1+(s<<1)];return i},l.F._codeTiny=function(e,t,i,s){for(var g=0;g<e.length;g+=2){var m=e[g],n=e[g+1];s=l.F._writeLit(m,t,i,s);var a=m==16?2:m==17?3:7;m>15&&(l.F._putsE(i,s,n,a),s+=a)}return s},l.F._lenCodes=function(e,t){for(var i=e.length;i!=2&&e[i-1]==0;)i-=2;for(var s=0;s<i;s+=2){var g=e[s+1],m=s+3<i?e[s+3]:-1,n=s+5<i?e[s+5]:-1,a=s==0?-1:e[s-1];if(g==0&&m==g&&n==g){for(var o=s+5;o+2<i&&e[o+2]==g;)o+=2;(c=Math.min(o+1-s>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),s+=2*c-2}else if(g==a&&m==g&&n==g){for(o=s+5;o+2<i&&e[o+2]==g;)o+=2;var c=Math.min(o+1-s>>>1,6);t.push(16,c-3),s+=2*c-2}else t.push(g,0)}return i>>>1},l.F._hufTree=function(e,t,i){var s=[],g=e.length,m=t.length,n=0;for(n=0;n<m;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<g;n++)e[n]!=0&&s.push({lit:n,f:e[n]});var a=s.length,o=s.slice(0);if(a==0)return 0;if(a==1){var c=s[0].lit;return o=c==0?1:0,t[1+(c<<1)]=1,t[1+(o<<1)]=1,1}s.sort(function(U,I){return U.f-I.f});var u=s[0],b=s[1],S=0,y=1,F=2;for(s[0]={lit:-1,f:u.f+b.f,l:u,r:b,d:0};y!=a-1;)u=S!=y&&(F==a||s[S].f<s[F].f)?s[S++]:s[F++],b=S!=y&&(F==a||s[S].f<s[F].f)?s[S++]:s[F++],s[y++]={lit:-1,f:u.f+b.f,l:u,r:b};var L=l.F.setDepth(s[y-1],0);for(L>i&&(l.F.restrictDepth(o,i,L),L=i),n=0;n<a;n++)t[1+(o[n].lit<<1)]=o[n].d;return L},l.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(l.F.setDepth(e.l,t+1),l.F.setDepth(e.r,t+1))},l.F.restrictDepth=function(e,t,i){var s=0,g=1<<i-t,m=0;for(e.sort(function(a,o){return o.d==a.d?a.f-o.f:o.d-a.d}),s=0;s<e.length&&e[s].d>t;s++){var n=e[s].d;e[s].d=t,m+=g-(1<<i-n)}for(m>>>=i-t;m>0;)(n=e[s].d)<t?(e[s].d++,m-=1<<t-n-1):s++;for(;s>=0;s--)e[s].d==t&&m<0&&(e[s].d--,m++);m!=0&&console.log("debt left")},l.F._goodIndex=function(e,t){var i=0;return t[16|i]<=e&&(i|=16),t[8|i]<=e&&(i|=8),t[4|i]<=e&&(i|=4),t[2|i]<=e&&(i|=2),t[1|i]<=e&&(i|=1),i},l.F._writeLit=function(e,t,i,s){return l.F._putsF(i,s,t[e<<1]),s+t[1+(e<<1)]},l.F.inflate=function(e,t){var i=Uint8Array;if(e[0]==3&&e[1]==0)return t||new i(0);var s=l.F,g=s._bitsF,m=s._bitsE,n=s._decodeTiny,a=s.makeCodes,o=s.codes2map,c=s._get17,u=s.U,b=t==null;b&&(t=new i(e.length>>>2<<3));for(var S,y,F=0,L=0,U=0,I=0,x=0,$=0,h=0,d=0,A=0;F==0;)if(F=g(e,A,1),L=g(e,A+1,2),A+=3,L!=0){if(b&&(t=l.F._check(t,d+(1<<17))),L==1&&(S=u.flmap,y=u.fdmap,$=511,h=31),L==2){U=m(e,A,5)+257,I=m(e,A+5,5)+1,x=m(e,A+10,4)+4,A+=14;for(var C=0;C<38;C+=2)u.itree[C]=0,u.itree[C+1]=0;var R=1;for(C=0;C<x;C++){var P=m(e,A+3*C,3);u.itree[1+(u.ordr[C]<<1)]=P,P>R&&(R=P)}A+=3*x,a(u.itree,R),o(u.itree,R,u.imap),S=u.lmap,y=u.dmap,A=n(u.imap,(1<<R)-1,U+I,e,A,u.ttree);var k=s._copyOut(u.ttree,0,U,u.ltree);$=(1<<k)-1;var T=s._copyOut(u.ttree,U,I,u.dtree);h=(1<<T)-1,a(u.ltree,k),o(u.ltree,k,S),a(u.dtree,T),o(u.dtree,T,y)}for(;;){var p=S[c(e,A)&$];A+=15&p;var f=p>>>4;if(!(f>>>8))t[d++]=f;else{if(f==256)break;var z=d+f-254;if(f>264){var O=u.ldef[f-257];z=d+(O>>>3)+m(e,A,7&O),A+=7&O}var B=y[c(e,A)&h];A+=15&B;var V=B>>>4,N=u.ddef[V],H=(N>>>4)+g(e,A,15&N);for(A+=15&N,b&&(t=l.F._check(t,d+(1<<17)));d<z;)t[d]=t[d++-H],t[d]=t[d++-H],t[d]=t[d++-H],t[d]=t[d++-H];d=z}}}else{7&A&&(A+=8-(7&A));var E=4+(A>>>3),M=e[E-4]|e[E-3]<<8;b&&(t=l.F._check(t,d+M)),t.set(new i(e.buffer,e.byteOffset+E,M),d),A=E+M<<3,d+=M}return t.length==d?t:t.slice(0,d)},l.F._check=function(e,t){var i=e.length;if(t<=i)return e;var s=new Uint8Array(Math.max(i<<1,t));return s.set(e,0),s},l.F._decodeTiny=function(e,t,i,s,g,m){for(var n=l.F._bitsE,a=l.F._get17,o=0;o<i;){var c=e[a(s,g)&t];g+=15&c;var u=c>>>4;if(u<=15)m[o]=u,o++;else{var b=0,S=0;u==16?(S=3+n(s,g,2),g+=2,b=m[o-1]):u==17?(S=3+n(s,g,3),g+=3):u==18&&(S=11+n(s,g,7),g+=7);for(var y=o+S;o<y;)m[o]=b,o++}}return g},l.F._copyOut=function(e,t,i,s){for(var g=0,m=0,n=s.length>>>1;m<i;){var a=e[m+t];s[m<<1]=0,s[1+(m<<1)]=a,a>g&&(g=a),m++}for(;m<n;)s[m<<1]=0,s[1+(m<<1)]=0,m++;return g},l.F.makeCodes=function(e,t){for(var i,s,g,m,n=l.F.U,a=e.length,o=n.bl_count,c=0;c<=t;c++)o[c]=0;for(c=1;c<a;c+=2)o[e[c]]++;var u=n.next_code;for(i=0,o[0]=0,s=1;s<=t;s++)i=i+o[s-1]<<1,u[s]=i;for(g=0;g<a;g+=2)(m=e[g+1])!=0&&(e[g]=u[m],u[m]++)},l.F.codes2map=function(e,t,i){for(var s=e.length,g=l.F.U.rev15,m=0;m<s;m+=2)if(e[m+1]!=0)for(var n=m>>1,a=e[m+1],o=n<<4|a,c=t-a,u=e[m]<<c,b=u+(1<<c);u!=b;)i[g[u]>>>15-t]=o,u++},l.F.revCodes=function(e,t){for(var i=l.F.U.rev15,s=15-t,g=0;g<e.length;g+=2){var m=e[g]<<t-e[g+1];e[g]=i[m]>>>s}},l.F._putsE=function(e,t,i){i<<=7&t;var s=t>>>3;e[s]|=i,e[s+1]|=i>>>8},l.F._putsF=function(e,t,i){i<<=7&t;var s=t>>>3;e[s]|=i,e[s+1]|=i>>>8,e[s+2]|=i>>>16},l.F._bitsE=function(e,t,i){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<i)-1},l.F._bitsF=function(e,t,i){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<i)-1},l.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},l.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},l.F.U=(v=Uint16Array,w=Uint32Array,{next_code:new v(16),bl_count:new v(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new v(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new w(32),flmap:new v(512),fltree:[],fdmap:new v(32),fdtree:[],lmap:new v(32768),ltree:[],ttree:[],dmap:new v(32768),dtree:[],imap:new v(512),itree:[],rev15:new v(32768),lhst:new w(286),dhst:new w(30),ihst:new w(19),lits:new w(15e3),strt:new v(65536),prev:new v(32768)}),function(){for(var e=l.F.U,t=0;t<32768;t++){var i=t;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,e.rev15[t]=(i>>>16|i<<16)>>>17}function s(g,m,n){for(;m--!=0;)g.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),l.F.makeCodes(e.fltree,9),l.F.codes2map(e.fltree,9,e.flmap),l.F.revCodes(e.fltree,9),s(e.fdtree,32,5),l.F.makeCodes(e.fdtree,5),l.F.codes2map(e.fdtree,5,e.fdmap),l.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()})();var Gi=Wi({__proto__:null,default:pt},[pt]);const Ue=function(){var r={nextZero(n,a){for(;n[a]!=0;)a++;return a},readUshort:(n,a)=>n[a]<<8|n[a+1],writeUshort(n,a,o){n[a]=o>>8&255,n[a+1]=255&o},readUint:(n,a)=>16777216*n[a]+(n[a+1]<<16|n[a+2]<<8|n[a+3]),writeUint(n,a,o){n[a]=o>>24&255,n[a+1]=o>>16&255,n[a+2]=o>>8&255,n[a+3]=255&o},readASCII(n,a,o){let c="";for(let u=0;u<o;u++)c+=String.fromCharCode(n[a+u]);return c},writeASCII(n,a,o){for(let c=0;c<o.length;c++)n[a+c]=o.charCodeAt(c)},readBytes(n,a,o){const c=[];for(let u=0;u<o;u++)c.push(n[a+u]);return c},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,a,o){let c,u="";for(let b=0;b<o;b++)u+=`%${r.pad(n[a+b].toString(16))}`;try{c=decodeURIComponent(u)}catch{return r.readASCII(n,a,o)}return c}};function v(n,a,o,c){const u=a*o,b=t(c),S=Math.ceil(a*b/8),y=new Uint8Array(4*u),F=new Uint32Array(y.buffer),{ctype:L}=c,{depth:U}=c,I=r.readUshort;if(L==6){const O=u<<2;if(U==8)for(var x=0;x<O;x+=4)y[x]=n[x],y[x+1]=n[x+1],y[x+2]=n[x+2],y[x+3]=n[x+3];if(U==16)for(x=0;x<O;x++)y[x]=n[x<<1]}else if(L==2){const O=c.tabs.tRNS;if(O==null){if(U==8)for(x=0;x<u;x++){var $=3*x;F[x]=255<<24|n[$+2]<<16|n[$+1]<<8|n[$]}if(U==16)for(x=0;x<u;x++)$=6*x,F[x]=255<<24|n[$+4]<<16|n[$+2]<<8|n[$]}else{var h=O[0];const B=O[1],V=O[2];if(U==8)for(x=0;x<u;x++){var d=x<<2;$=3*x,F[x]=255<<24|n[$+2]<<16|n[$+1]<<8|n[$],n[$]==h&&n[$+1]==B&&n[$+2]==V&&(y[d+3]=0)}if(U==16)for(x=0;x<u;x++)d=x<<2,$=6*x,F[x]=255<<24|n[$+4]<<16|n[$+2]<<8|n[$],I(n,$)==h&&I(n,$+2)==B&&I(n,$+4)==V&&(y[d+3]=0)}}else if(L==3){const O=c.tabs.PLTE,B=c.tabs.tRNS,V=B?B.length:0;if(U==1)for(var A=0;A<o;A++){var C=A*S,R=A*a;for(x=0;x<a;x++){d=R+x<<2;var P=3*(k=n[C+(x>>3)]>>7-((7&x)<<0)&1);y[d]=O[P],y[d+1]=O[P+1],y[d+2]=O[P+2],y[d+3]=k<V?B[k]:255}}if(U==2)for(A=0;A<o;A++)for(C=A*S,R=A*a,x=0;x<a;x++)d=R+x<<2,P=3*(k=n[C+(x>>2)]>>6-((3&x)<<1)&3),y[d]=O[P],y[d+1]=O[P+1],y[d+2]=O[P+2],y[d+3]=k<V?B[k]:255;if(U==4)for(A=0;A<o;A++)for(C=A*S,R=A*a,x=0;x<a;x++)d=R+x<<2,P=3*(k=n[C+(x>>1)]>>4-((1&x)<<2)&15),y[d]=O[P],y[d+1]=O[P+1],y[d+2]=O[P+2],y[d+3]=k<V?B[k]:255;if(U==8)for(x=0;x<u;x++){var k;d=x<<2,P=3*(k=n[x]),y[d]=O[P],y[d+1]=O[P+1],y[d+2]=O[P+2],y[d+3]=k<V?B[k]:255}}else if(L==4){if(U==8)for(x=0;x<u;x++){d=x<<2;var T=n[p=x<<1];y[d]=T,y[d+1]=T,y[d+2]=T,y[d+3]=n[p+1]}if(U==16)for(x=0;x<u;x++){var p;d=x<<2,T=n[p=x<<2],y[d]=T,y[d+1]=T,y[d+2]=T,y[d+3]=n[p+2]}}else if(L==0)for(h=c.tabs.tRNS?c.tabs.tRNS:-1,A=0;A<o;A++){const O=A*S,B=A*a;if(U==1)for(var f=0;f<a;f++){var z=(T=255*(n[O+(f>>>3)]>>>7-(7&f)&1))==255*h?0:255;F[B+f]=z<<24|T<<16|T<<8|T}else if(U==2)for(f=0;f<a;f++)z=(T=85*(n[O+(f>>>2)]>>>6-((3&f)<<1)&3))==85*h?0:255,F[B+f]=z<<24|T<<16|T<<8|T;else if(U==4)for(f=0;f<a;f++)z=(T=17*(n[O+(f>>>1)]>>>4-((1&f)<<2)&15))==17*h?0:255,F[B+f]=z<<24|T<<16|T<<8|T;else if(U==8)for(f=0;f<a;f++)z=(T=n[O+f])==h?0:255,F[B+f]=z<<24|T<<16|T<<8|T;else if(U==16)for(f=0;f<a;f++)T=n[O+(f<<1)],z=I(n,O+(f<<1))==h?0:255,F[B+f]=z<<24|T<<16|T<<8|T}return y}function w(n,a,o,c){const u=t(n),b=Math.ceil(o*u/8),S=new Uint8Array((b+1+n.interlace)*c);return a=n.tabs.CgBI?e(a,S):l(a,S),n.interlace==0?a=i(a,n,0,o,c):n.interlace==1&&(a=function(F,L){const U=L.width,I=L.height,x=t(L),$=x>>3,h=Math.ceil(U*x/8),d=new Uint8Array(I*h);let A=0;const C=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],P=[8,8,8,4,4,2,2],k=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const f=P[T],z=k[T];let O=0,B=0,V=C[T];for(;V<I;)V+=f,B++;let N=R[T];for(;N<U;)N+=z,O++;const H=Math.ceil(O*x/8);i(F,L,A,O,B);let E=0,M=C[T];for(;M<I;){let G=R[T],ie=A+E*H<<3;for(;G<U;){var p;if(x==1&&(p=(p=F[ie>>3])>>7-(7&ie)&1,d[M*h+(G>>3)]|=p<<7-((7&G)<<0)),x==2&&(p=(p=F[ie>>3])>>6-(7&ie)&3,d[M*h+(G>>2)]|=p<<6-((3&G)<<1)),x==4&&(p=(p=F[ie>>3])>>4-(7&ie)&15,d[M*h+(G>>1)]|=p<<4-((1&G)<<2)),x>=8){const ne=M*h+G*$;for(let X=0;X<$;X++)d[ne+X]=F[(ie>>3)+X]}ie+=x,G+=z}E++,M+=f}O*B!=0&&(A+=B*(1+H)),T+=1}return d}(a,n)),a}function l(n,a){return e(new Uint8Array(n.buffer,2,n.length-6),a)}var e=function(){const n={H:{}};return n.H.N=function(a,o){const c=Uint8Array;let u,b,S=0,y=0,F=0,L=0,U=0,I=0,x=0,$=0,h=0;if(a[0]==3&&a[1]==0)return o||new c(0);const d=n.H,A=d.b,C=d.e,R=d.R,P=d.n,k=d.A,T=d.Z,p=d.m,f=o==null;for(f&&(o=new c(a.length>>>2<<5));S==0;)if(S=A(a,h,1),y=A(a,h+1,2),h+=3,y!=0){if(f&&(o=n.H.W(o,$+(1<<17))),y==1&&(u=p.J,b=p.h,I=511,x=31),y==2){F=C(a,h,5)+257,L=C(a,h+5,5)+1,U=C(a,h+10,4)+4,h+=14;let O=1;for(var z=0;z<38;z+=2)p.Q[z]=0,p.Q[z+1]=0;for(z=0;z<U;z++){const N=C(a,h+3*z,3);p.Q[1+(p.X[z]<<1)]=N,N>O&&(O=N)}h+=3*U,P(p.Q,O),k(p.Q,O,p.u),u=p.w,b=p.d,h=R(p.u,(1<<O)-1,F+L,a,h,p.v);const B=d.V(p.v,0,F,p.C);I=(1<<B)-1;const V=d.V(p.v,F,L,p.D);x=(1<<V)-1,P(p.C,B),k(p.C,B,u),P(p.D,V),k(p.D,V,b)}for(;;){const O=u[T(a,h)&I];h+=15&O;const B=O>>>4;if(!(B>>>8))o[$++]=B;else{if(B==256)break;{let V=$+B-254;if(B>264){const G=p.q[B-257];V=$+(G>>>3)+C(a,h,7&G),h+=7&G}const N=b[T(a,h)&x];h+=15&N;const H=N>>>4,E=p.c[H],M=(E>>>4)+A(a,h,15&E);for(h+=15&E;$<V;)o[$]=o[$++-M],o[$]=o[$++-M],o[$]=o[$++-M],o[$]=o[$++-M];$=V}}}}else{7&h&&(h+=8-(7&h));const O=4+(h>>>3),B=a[O-4]|a[O-3]<<8;f&&(o=n.H.W(o,$+B)),o.set(new c(a.buffer,a.byteOffset+O,B),$),h=O+B<<3,$+=B}return o.length==$?o:o.slice(0,$)},n.H.W=function(a,o){const c=a.length;if(o<=c)return a;const u=new Uint8Array(c<<1);return u.set(a,0),u},n.H.R=function(a,o,c,u,b,S){const y=n.H.e,F=n.H.Z;let L=0;for(;L<c;){const U=a[F(u,b)&o];b+=15&U;const I=U>>>4;if(I<=15)S[L]=I,L++;else{let x=0,$=0;I==16?($=3+y(u,b,2),b+=2,x=S[L-1]):I==17?($=3+y(u,b,3),b+=3):I==18&&($=11+y(u,b,7),b+=7);const h=L+$;for(;L<h;)S[L]=x,L++}}return b},n.H.V=function(a,o,c,u){let b=0,S=0;const y=u.length>>>1;for(;S<c;){const F=a[S+o];u[S<<1]=0,u[1+(S<<1)]=F,F>b&&(b=F),S++}for(;S<y;)u[S<<1]=0,u[1+(S<<1)]=0,S++;return b},n.H.n=function(a,o){const c=n.H.m,u=a.length;let b,S,y,F;const L=c.j;for(var U=0;U<=o;U++)L[U]=0;for(U=1;U<u;U+=2)L[a[U]]++;const I=c.K;for(b=0,L[0]=0,S=1;S<=o;S++)b=b+L[S-1]<<1,I[S]=b;for(y=0;y<u;y+=2)F=a[y+1],F!=0&&(a[y]=I[F],I[F]++)},n.H.A=function(a,o,c){const u=a.length,b=n.H.m.r;for(let S=0;S<u;S+=2)if(a[S+1]!=0){const y=S>>1,F=a[S+1],L=y<<4|F,U=o-F;let I=a[S]<<U;const x=I+(1<<U);for(;I!=x;)c[b[I]>>>15-o]=L,I++}},n.H.l=function(a,o){const c=n.H.m.r,u=15-o;for(let b=0;b<a.length;b+=2){const S=a[b]<<o-a[b+1];a[b]=c[S]>>>u}},n.H.M=function(a,o,c){c<<=7&o;const u=o>>>3;a[u]|=c,a[u+1]|=c>>>8},n.H.I=function(a,o,c){c<<=7&o;const u=o>>>3;a[u]|=c,a[u+1]|=c>>>8,a[u+2]|=c>>>16},n.H.e=function(a,o,c){return(a[o>>>3]|a[1+(o>>>3)]<<8)>>>(7&o)&(1<<c)-1},n.H.b=function(a,o,c){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)&(1<<c)-1},n.H.Z=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)},n.H.i=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16|a[3+(o>>>3)]<<24)>>>(7&o)},n.H.m=function(){const a=Uint16Array,o=Uint32Array;return{K:new a(16),j:new a(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new a(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new o(32),J:new a(512),_:[],h:new a(32),$:[],w:new a(32768),C:[],v:[],d:new a(32768),D:[],u:new a(512),Q:[],r:new a(32768),s:new o(286),Y:new o(30),a:new o(19),t:new o(15e3),k:new a(65536),g:new a(32768)}}(),function(){const a=n.H.m;for(var o=0;o<32768;o++){let u=o;u=(2863311530&u)>>>1|(1431655765&u)<<1,u=(3435973836&u)>>>2|(858993459&u)<<2,u=(4042322160&u)>>>4|(252645135&u)<<4,u=(4278255360&u)>>>8|(16711935&u)<<8,a.r[o]=(u>>>16|u<<16)>>>17}function c(u,b,S){for(;b--!=0;)u.push(0,S)}for(o=0;o<32;o++)a.q[o]=a.S[o]<<3|a.T[o],a.c[o]=a.p[o]<<4|a.z[o];c(a._,144,8),c(a._,112,9),c(a._,24,7),c(a._,8,8),n.H.n(a._,9),n.H.A(a._,9,a.J),n.H.l(a._,9),c(a.$,32,5),n.H.n(a.$,5),n.H.A(a.$,5,a.h),n.H.l(a.$,5),c(a.Q,19,0),c(a.C,286,0),c(a.D,30,0),c(a.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function i(n,a,o,c,u){let b=t(a);const S=Math.ceil(c*b/8);let y,F;b=Math.ceil(b/8);let L=n[o],U=0;if(L>1&&(n[o]=[0,0,1][L-2]),L==3)for(U=b;U<S;U++)n[U+1]=n[U+1]+(n[U+1-b]>>>1)&255;for(let I=0;I<u;I++)if(y=o+I*S,F=y+I+1,L=n[F-1],U=0,L==0)for(;U<S;U++)n[y+U]=n[F+U];else if(L==1){for(;U<b;U++)n[y+U]=n[F+U];for(;U<S;U++)n[y+U]=n[F+U]+n[y+U-b]}else if(L==2)for(;U<S;U++)n[y+U]=n[F+U]+n[y+U-S];else if(L==3){for(;U<b;U++)n[y+U]=n[F+U]+(n[y+U-S]>>>1);for(;U<S;U++)n[y+U]=n[F+U]+(n[y+U-S]+n[y+U-b]>>>1)}else{for(;U<b;U++)n[y+U]=n[F+U]+s(0,n[y+U-S],0);for(;U<S;U++)n[y+U]=n[F+U]+s(n[y+U-b],n[y+U-S],n[y+U-b-S])}return n}function s(n,a,o){const c=n+a-o,u=c-n,b=c-a,S=c-o;return u*u<=b*b&&u*u<=S*S?n:b*b<=S*S?a:o}function g(n,a,o){o.width=r.readUint(n,a),a+=4,o.height=r.readUint(n,a),a+=4,o.depth=n[a],a++,o.ctype=n[a],a++,o.compress=n[a],a++,o.filter=n[a],a++,o.interlace=n[a],a++}function m(n,a,o,c,u,b,S,y,F){const L=Math.min(a,u),U=Math.min(o,b);let I=0,x=0;for(let T=0;T<U;T++)for(let p=0;p<L;p++)if(S>=0&&y>=0?(I=T*a+p<<2,x=(y+T)*u+S+p<<2):(I=(-y+T)*a-S+p<<2,x=T*u+p<<2),F==0)c[x]=n[I],c[x+1]=n[I+1],c[x+2]=n[I+2],c[x+3]=n[I+3];else if(F==1){var $=n[I+3]*.00392156862745098,h=n[I]*$,d=n[I+1]*$,A=n[I+2]*$,C=c[x+3]*(1/255),R=c[x]*C,P=c[x+1]*C,k=c[x+2]*C;const f=1-$,z=$+C*f,O=z==0?0:1/z;c[x+3]=255*z,c[x+0]=(h+R*f)*O,c[x+1]=(d+P*f)*O,c[x+2]=(A+k*f)*O}else if(F==2)$=n[I+3],h=n[I],d=n[I+1],A=n[I+2],C=c[x+3],R=c[x],P=c[x+1],k=c[x+2],$==C&&h==R&&d==P&&A==k?(c[x]=0,c[x+1]=0,c[x+2]=0,c[x+3]=0):(c[x]=h,c[x+1]=d,c[x+2]=A,c[x+3]=$);else if(F==3){if($=n[I+3],h=n[I],d=n[I+1],A=n[I+2],C=c[x+3],R=c[x],P=c[x+1],k=c[x+2],$==C&&h==R&&d==P&&A==k)continue;if($<220&&C>20)return!1}return!0}return{decode:function(a){const o=new Uint8Array(a);let c=8;const u=r,b=u.readUshort,S=u.readUint,y={tabs:{},frames:[]},F=new Uint8Array(o.length);let L,U=0,I=0;const x=[137,80,78,71,13,10,26,10];for(var $=0;$<8;$++)if(o[$]!=x[$])throw"The input is not a PNG file!";for(;c<o.length;){const T=u.readUint(o,c);c+=4;const p=u.readASCII(o,c,4);if(c+=4,p=="IHDR")g(o,c,y);else if(p=="iCCP"){for(var h=c;o[h]!=0;)h++;u.readASCII(o,c,h-c),o[h+1];const f=o.slice(h+2,c+T);let z=null;try{z=l(f)}catch{z=e(f)}y.tabs[p]=z}else if(p=="CgBI")y.tabs[p]=o.slice(c,c+4);else if(p=="IDAT"){for($=0;$<T;$++)F[U+$]=o[c+$];U+=T}else if(p=="acTL")y.tabs[p]={num_frames:S(o,c),num_plays:S(o,c+4)},L=new Uint8Array(o.length);else if(p=="fcTL"){I!=0&&((k=y.frames[y.frames.length-1]).data=w(y,L.slice(0,I),k.rect.width,k.rect.height),I=0);const f={x:S(o,c+12),y:S(o,c+16),width:S(o,c+4),height:S(o,c+8)};let z=b(o,c+22);z=b(o,c+20)/(z==0?100:z);const O={rect:f,delay:Math.round(1e3*z),dispose:o[c+24],blend:o[c+25]};y.frames.push(O)}else if(p=="fdAT"){for($=0;$<T-4;$++)L[I+$]=o[c+$+4];I+=T-4}else if(p=="pHYs")y.tabs[p]=[u.readUint(o,c),u.readUint(o,c+4),o[c+8]];else if(p=="cHRM")for(y.tabs[p]=[],$=0;$<8;$++)y.tabs[p].push(u.readUint(o,c+4*$));else if(p=="tEXt"||p=="zTXt"){y.tabs[p]==null&&(y.tabs[p]={});var d=u.nextZero(o,c),A=u.readASCII(o,c,d-c),C=c+T-d-1;if(p=="tEXt")P=u.readASCII(o,d+1,C);else{var R=l(o.slice(d+2,d+2+C));P=u.readUTF8(R,0,R.length)}y.tabs[p][A]=P}else if(p=="iTXt"){y.tabs[p]==null&&(y.tabs[p]={}),d=0,h=c,d=u.nextZero(o,h),A=u.readASCII(o,h,d-h);const f=o[h=d+1];var P;o[h+1],h+=2,d=u.nextZero(o,h),u.readASCII(o,h,d-h),h=d+1,d=u.nextZero(o,h),u.readUTF8(o,h,d-h),C=T-((h=d+1)-c),f==0?P=u.readUTF8(o,h,C):(R=l(o.slice(h,h+C)),P=u.readUTF8(R,0,R.length)),y.tabs[p][A]=P}else if(p=="PLTE")y.tabs[p]=u.readBytes(o,c,T);else if(p=="hIST"){const f=y.tabs.PLTE.length/3;for(y.tabs[p]=[],$=0;$<f;$++)y.tabs[p].push(b(o,c+2*$))}else if(p=="tRNS")y.ctype==3?y.tabs[p]=u.readBytes(o,c,T):y.ctype==0?y.tabs[p]=b(o,c):y.ctype==2&&(y.tabs[p]=[b(o,c),b(o,c+2),b(o,c+4)]);else if(p=="gAMA")y.tabs[p]=u.readUint(o,c)/1e5;else if(p=="sRGB")y.tabs[p]=o[c];else if(p=="bKGD")y.ctype==0||y.ctype==4?y.tabs[p]=[b(o,c)]:y.ctype==2||y.ctype==6?y.tabs[p]=[b(o,c),b(o,c+2),b(o,c+4)]:y.ctype==3&&(y.tabs[p]=o[c]);else if(p=="IEND")break;c+=T,u.readUint(o,c),c+=4}var k;return I!=0&&((k=y.frames[y.frames.length-1]).data=w(y,L.slice(0,I),k.rect.width,k.rect.height)),y.data=w(y,F,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(a){const o=a.width,c=a.height;if(a.tabs.acTL==null)return[v(a.data,o,c,a).buffer];const u=[];a.frames[0].data==null&&(a.frames[0].data=a.data);const b=o*c*4,S=new Uint8Array(b),y=new Uint8Array(b),F=new Uint8Array(b);for(let U=0;U<a.frames.length;U++){const I=a.frames[U],x=I.rect.x,$=I.rect.y,h=I.rect.width,d=I.rect.height,A=v(I.data,h,d,a);if(U!=0)for(var L=0;L<b;L++)F[L]=S[L];if(I.blend==0?m(A,h,d,S,o,c,x,$,0):I.blend==1&&m(A,h,d,S,o,c,x,$,1),u.push(S.buffer.slice(0)),I.dispose!=0){if(I.dispose==1)m(y,h,d,S,o,c,x,$,0);else if(I.dispose==2)for(L=0;L<b;L++)S[L]=F[L]}}return u},_paeth:s,_copyTile:m,_bin:r}}();(function(){const{_copyTile:r}=Ue,{_bin:v}=Ue,w=Ue._paeth;var l={table:function(){const h=new Uint32Array(256);for(let d=0;d<256;d++){let A=d;for(let C=0;C<8;C++)1&A?A=3988292384^A>>>1:A>>>=1;h[d]=A}return h}(),update(h,d,A,C){for(let R=0;R<C;R++)h=l.table[255&(h^d[A+R])]^h>>>8;return h},crc:(h,d,A)=>4294967295^l.update(4294967295,h,d,A)};function e(h,d,A,C){d[A]+=h[0]*C>>4,d[A+1]+=h[1]*C>>4,d[A+2]+=h[2]*C>>4,d[A+3]+=h[3]*C>>4}function t(h){return Math.max(0,Math.min(255,h))}function i(h,d){const A=h[0]-d[0],C=h[1]-d[1],R=h[2]-d[2],P=h[3]-d[3];return A*A+C*C+R*R+P*P}function s(h,d,A,C,R,P,k){k==null&&(k=1);const T=C.length,p=[];for(var f=0;f<T;f++){const M=C[f];p.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(f=0;f<T;f++){let M=4294967295;for(var z=0,O=0;O<T;O++){var B=i(p[f],p[O]);O!=f&&B<M&&(M=B,z=O)}}const V=new Uint32Array(R.buffer),N=new Int16Array(d*A*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(f=0;f<H.length;f++)H[f]=255*((H[f]+.5)/16-.5);for(let M=0;M<A;M++)for(let G=0;G<d;G++){var E;f=4*(M*d+G),k!=2?E=[t(h[f]+N[f]),t(h[f+1]+N[f+1]),t(h[f+2]+N[f+2]),t(h[f+3]+N[f+3])]:(B=H[4*(3&M)+(3&G)],E=[t(h[f]+B),t(h[f+1]+B),t(h[f+2]+B),t(h[f+3]+B)]),z=0;let ie=16777215;for(O=0;O<T;O++){const oe=i(E,p[O]);oe<ie&&(ie=oe,z=O)}const ne=p[z],X=[E[0]-ne[0],E[1]-ne[1],E[2]-ne[2],E[3]-ne[3]];k==1&&(G!=d-1&&e(X,N,f+4,7),M!=A-1&&(G!=0&&e(X,N,f+4*d-4,3),e(X,N,f+4*d,5),G!=d-1&&e(X,N,f+4*d+4,1))),P[f>>2]=z,V[f>>2]=C[z]}}function g(h,d,A,C,R){R==null&&(R={});const{crc:P}=l,k=v.writeUint,T=v.writeUshort,p=v.writeASCII;let f=8;const z=h.frames.length>1;let O,B=!1,V=33+(z?20:0);if(R.sRGB!=null&&(V+=13),R.pHYs!=null&&(V+=21),R.iCCP!=null&&(O=pako.deflate(R.iCCP),V+=21+O.length+4),h.ctype==3){for(var N=h.plte.length,H=0;H<N;H++)h.plte[H]>>>24!=255&&(B=!0);V+=8+3*N+4+(B?8+1*N+4:0)}for(var E=0;E<h.frames.length;E++)z&&(V+=38),V+=(ne=h.frames[E]).cimg.length+12,E!=0&&(V+=4);V+=12;const M=new Uint8Array(V),G=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)M[H]=G[H];if(k(M,f,13),f+=4,p(M,f,"IHDR"),f+=4,k(M,f,d),f+=4,k(M,f,A),f+=4,M[f]=h.depth,f++,M[f]=h.ctype,f++,M[f]=0,f++,M[f]=0,f++,M[f]=0,f++,k(M,f,P(M,f-17,17)),f+=4,R.sRGB!=null&&(k(M,f,1),f+=4,p(M,f,"sRGB"),f+=4,M[f]=R.sRGB,f++,k(M,f,P(M,f-5,5)),f+=4),R.iCCP!=null){const X=13+O.length;k(M,f,X),f+=4,p(M,f,"iCCP"),f+=4,p(M,f,"ICC profile"),f+=11,f+=2,M.set(O,f),f+=O.length,k(M,f,P(M,f-(X+4),X+4)),f+=4}if(R.pHYs!=null&&(k(M,f,9),f+=4,p(M,f,"pHYs"),f+=4,k(M,f,R.pHYs[0]),f+=4,k(M,f,R.pHYs[1]),f+=4,M[f]=R.pHYs[2],f++,k(M,f,P(M,f-13,13)),f+=4),z&&(k(M,f,8),f+=4,p(M,f,"acTL"),f+=4,k(M,f,h.frames.length),f+=4,k(M,f,R.loop!=null?R.loop:0),f+=4,k(M,f,P(M,f-12,12)),f+=4),h.ctype==3){for(k(M,f,3*(N=h.plte.length)),f+=4,p(M,f,"PLTE"),f+=4,H=0;H<N;H++){const X=3*H,oe=h.plte[H],fe=255&oe,ve=oe>>>8&255,Oe=oe>>>16&255;M[f+X+0]=fe,M[f+X+1]=ve,M[f+X+2]=Oe}if(f+=3*N,k(M,f,P(M,f-3*N-4,3*N+4)),f+=4,B){for(k(M,f,N),f+=4,p(M,f,"tRNS"),f+=4,H=0;H<N;H++)M[f+H]=h.plte[H]>>>24&255;f+=N,k(M,f,P(M,f-N-4,N+4)),f+=4}}let ie=0;for(E=0;E<h.frames.length;E++){var ne=h.frames[E];z&&(k(M,f,26),f+=4,p(M,f,"fcTL"),f+=4,k(M,f,ie++),f+=4,k(M,f,ne.rect.width),f+=4,k(M,f,ne.rect.height),f+=4,k(M,f,ne.rect.x),f+=4,k(M,f,ne.rect.y),f+=4,T(M,f,C[E]),f+=2,T(M,f,1e3),f+=2,M[f]=ne.dispose,f++,M[f]=ne.blend,f++,k(M,f,P(M,f-30,30)),f+=4);const X=ne.cimg;k(M,f,(N=X.length)+(E==0?0:4)),f+=4;const oe=f;p(M,f,E==0?"IDAT":"fdAT"),f+=4,E!=0&&(k(M,f,ie++),f+=4),M.set(X,f),f+=N,k(M,f,P(M,oe,f-oe)),f+=4}return k(M,f,0),f+=4,p(M,f,"IEND"),f+=4,k(M,f,P(M,f-4,4)),f+=4,M.buffer}function m(h,d,A){for(let C=0;C<h.frames.length;C++){const R=h.frames[C];R.rect.width;const P=R.rect.height,k=new Uint8Array(P*R.bpl+P);R.cimg=c(R.img,P,R.bpp,R.bpl,k,d,A)}}function n(h,d,A,C,R){const P=R[0],k=R[1],T=R[2],p=R[3],f=R[4],z=R[5];let O=6,B=8,V=255;for(var N=0;N<h.length;N++){const he=new Uint8Array(h[N]);for(var H=he.length,E=0;E<H;E+=4)V&=he[E+3]}const M=V!=255,G=function(le,D,W,j,Z,K){const J=[];for(var Y=0;Y<le.length;Y++){const Re=new Uint8Array(le[Y]),Pe=new Uint32Array(Re.buffer);var ue;let ke=0,$e=0,Ie=D,Ne=W,xt=j?1:0;if(Y!=0){const en=K||j||Y==1||J[Y-2].dispose!=0?1:2;let Ct=0,Et=1e9;for(let rt=0;rt<en;rt++){var ye=new Uint8Array(le[Y-1-rt]);const tn=new Uint32Array(le[Y-1-rt]);let Me=D,Be=W,Ze=-1,nt=-1;for(let je=0;je<W;je++)for(let He=0;He<D;He++)Pe[xe=je*D+He]!=tn[xe]&&(He<Me&&(Me=He),He>Ze&&(Ze=He),je<Be&&(Be=je),je>nt&&(nt=je));Ze==-1&&(Me=Be=Ze=nt=0),Z&&((1&Me)==1&&Me--,(1&Be)==1&&Be--);const Nt=(Ze-Me+1)*(nt-Be+1);Nt<Et&&(Et=Nt,Ct=rt,ke=Me,$e=Be,Ie=Ze-Me+1,Ne=nt-Be+1)}ye=new Uint8Array(le[Y-1-Ct]),Ct==1&&(J[Y-1].dispose=2),ue=new Uint8Array(Ie*Ne*4),r(ye,D,W,ue,Ie,Ne,-ke,-$e,0),xt=r(Re,D,W,ue,Ie,Ne,-ke,-$e,3)?1:0,xt==1?o(Re,D,W,ue,{x:ke,y:$e,width:Ie,height:Ne}):r(Re,D,W,ue,Ie,Ne,-ke,-$e,0)}else ue=Re.slice(0);J.push({rect:{x:ke,y:$e,width:Ie,height:Ne},img:ue,blend:xt,dispose:0})}if(j)for(Y=0;Y<J.length;Y++){if((Ee=J[Y]).blend==1)continue;const Re=Ee.rect,Pe=J[Y-1].rect,ke=Math.min(Re.x,Pe.x),$e=Math.min(Re.y,Pe.y),Ie={x:ke,y:$e,width:Math.max(Re.x+Re.width,Pe.x+Pe.width)-ke,height:Math.max(Re.y+Re.height,Pe.y+Pe.height)-$e};J[Y-1].dispose=1,Y-1!=0&&a(le,D,W,J,Y-1,Ie,Z),a(le,D,W,J,Y,Ie,Z)}let lt=0;if(le.length!=1)for(var xe=0;xe<J.length;xe++){var Ee;lt+=(Ee=J[xe]).rect.width*Ee.rect.height}return J}(h,d,A,P,k,T),ie={},ne=[],X=[];if(C!=0){const he=[];for(E=0;E<G.length;E++)he.push(G[E].img.buffer);const le=function(Z){let K=0;for(var J=0;J<Z.length;J++)K+=Z[J].byteLength;const Y=new Uint8Array(K);let ue=0;for(J=0;J<Z.length;J++){const ye=new Uint8Array(Z[J]),lt=ye.length;for(let xe=0;xe<lt;xe+=4){let Ee=ye[xe],Re=ye[xe+1],Pe=ye[xe+2];const ke=ye[xe+3];ke==0&&(Ee=Re=Pe=0),Y[ue+xe]=Ee,Y[ue+xe+1]=Re,Y[ue+xe+2]=Pe,Y[ue+xe+3]=ke}ue+=lt}return Y.buffer}(he),D=b(le,C);for(E=0;E<D.plte.length;E++)ne.push(D.plte[E].est.rgba);let W=0;for(E=0;E<G.length;E++){const j=(fe=G[E]).img.length;var oe=new Uint8Array(D.inds.buffer,W>>2,j>>2);X.push(oe);const Z=new Uint8Array(D.abuf,W,j);z&&s(fe.img,fe.rect.width,fe.rect.height,ne,Z,oe),fe.img.set(Z),W+=j}}else for(N=0;N<G.length;N++){var fe=G[N];const he=new Uint32Array(fe.img.buffer);var ve=fe.rect.width;for(H=he.length,oe=new Uint8Array(H),X.push(oe),E=0;E<H;E++){const le=he[E];if(E!=0&&le==he[E-1])oe[E]=oe[E-1];else if(E>ve&&le==he[E-ve])oe[E]=oe[E-ve];else{let D=ie[le];if(D==null&&(ie[le]=D=ne.length,ne.push(le),ne.length>=300))break;oe[E]=D}}}const Oe=ne.length;for(Oe<=256&&f==0&&(B=Oe<=2?1:Oe<=4?2:Oe<=16?4:8,B=Math.max(B,p)),N=0;N<G.length;N++){(fe=G[N]).rect.x,fe.rect.y,ve=fe.rect.width;const he=fe.rect.height;let le=fe.img;new Uint32Array(le.buffer);let D=4*ve,W=4;if(Oe<=256&&f==0){D=Math.ceil(B*ve/8);var Se=new Uint8Array(D*he);const j=X[N];for(let Z=0;Z<he;Z++){E=Z*D;const K=Z*ve;if(B==8)for(var ce=0;ce<ve;ce++)Se[E+ce]=j[K+ce];else if(B==4)for(ce=0;ce<ve;ce++)Se[E+(ce>>1)]|=j[K+ce]<<4-4*(1&ce);else if(B==2)for(ce=0;ce<ve;ce++)Se[E+(ce>>2)]|=j[K+ce]<<6-2*(3&ce);else if(B==1)for(ce=0;ce<ve;ce++)Se[E+(ce>>3)]|=j[K+ce]<<7-1*(7&ce)}le=Se,O=3,W=1}else if(M==0&&G.length==1){Se=new Uint8Array(ve*he*3);const j=ve*he;for(E=0;E<j;E++){const Z=3*E,K=4*E;Se[Z]=le[K],Se[Z+1]=le[K+1],Se[Z+2]=le[K+2]}le=Se,O=2,W=3,D=3*ve}fe.img=le,fe.bpl=D,fe.bpp=W}return{ctype:O,depth:B,plte:ne,frames:G}}function a(h,d,A,C,R,P,k){const T=Uint8Array,p=Uint32Array,f=new T(h[R-1]),z=new p(h[R-1]),O=R+1<h.length?new T(h[R+1]):null,B=new T(h[R]),V=new p(B.buffer);let N=d,H=A,E=-1,M=-1;for(let ie=0;ie<P.height;ie++)for(let ne=0;ne<P.width;ne++){const X=P.x+ne,oe=P.y+ie,fe=oe*d+X,ve=V[fe];ve==0||C[R-1].dispose==0&&z[fe]==ve&&(O==null||O[4*fe+3]!=0)||(X<N&&(N=X),X>E&&(E=X),oe<H&&(H=oe),oe>M&&(M=oe))}E==-1&&(N=H=E=M=0),k&&((1&N)==1&&N--,(1&H)==1&&H--),P={x:N,y:H,width:E-N+1,height:M-H+1};const G=C[R];G.rect=P,G.blend=1,G.img=new Uint8Array(P.width*P.height*4),C[R-1].dispose==0?(r(f,d,A,G.img,P.width,P.height,-P.x,-P.y,0),o(B,d,A,G.img,P)):r(B,d,A,G.img,P.width,P.height,-P.x,-P.y,0)}function o(h,d,A,C,R){r(h,d,A,C,R.width,R.height,-R.x,-R.y,2)}function c(h,d,A,C,R,P,k){const T=[];let p,f=[0,1,2,3,4];P!=-1?f=[P]:(d*C>5e5||A==1)&&(f=[0]),k&&(p={level:0});const z=Gi;for(var O=0;O<f.length;O++){for(let N=0;N<d;N++)u(R,h,N,C,A,f[O]);T.push(z.deflate(R,p))}let B,V=1e9;for(O=0;O<T.length;O++)T[O].length<V&&(B=O,V=T[O].length);return T[B]}function u(h,d,A,C,R,P){const k=A*C;let T=k+A;if(h[T]=P,T++,P==0)if(C<500)for(var p=0;p<C;p++)h[T+p]=d[k+p];else h.set(new Uint8Array(d.buffer,k,C),T);else if(P==1){for(p=0;p<R;p++)h[T+p]=d[k+p];for(p=R;p<C;p++)h[T+p]=d[k+p]-d[k+p-R]+256&255}else if(A==0){for(p=0;p<R;p++)h[T+p]=d[k+p];if(P==2)for(p=R;p<C;p++)h[T+p]=d[k+p];if(P==3)for(p=R;p<C;p++)h[T+p]=d[k+p]-(d[k+p-R]>>1)+256&255;if(P==4)for(p=R;p<C;p++)h[T+p]=d[k+p]-w(d[k+p-R],0,0)+256&255}else{if(P==2)for(p=0;p<C;p++)h[T+p]=d[k+p]+256-d[k+p-C]&255;if(P==3){for(p=0;p<R;p++)h[T+p]=d[k+p]+256-(d[k+p-C]>>1)&255;for(p=R;p<C;p++)h[T+p]=d[k+p]+256-(d[k+p-C]+d[k+p-R]>>1)&255}if(P==4){for(p=0;p<R;p++)h[T+p]=d[k+p]+256-w(0,d[k+p-C],0)&255;for(p=R;p<C;p++)h[T+p]=d[k+p]+256-w(d[k+p-R],d[k+p-C],d[k+p-R-C])&255}}}function b(h,d){const A=new Uint8Array(h),C=A.slice(0),R=new Uint32Array(C.buffer),P=S(C,d),k=P[0],T=P[1],p=A.length,f=new Uint8Array(p>>2);let z;if(A.length<2e7)for(var O=0;O<p;O+=4)z=y(k,B=A[O]*(1/255),V=A[O+1]*(1/255),N=A[O+2]*(1/255),H=A[O+3]*(1/255)),f[O>>2]=z.ind,R[O>>2]=z.est.rgba;else for(O=0;O<p;O+=4){var B=A[O]*.00392156862745098,V=A[O+1]*(1/255),N=A[O+2]*(1/255),H=A[O+3]*(1/255);for(z=k;z.left;)z=F(z.est,B,V,N,H)<=0?z.left:z.right;f[O>>2]=z.ind,R[O>>2]=z.est.rgba}return{abuf:C.buffer,inds:f,plte:T}}function S(h,d,A){A==null&&(A=1e-4);const C=new Uint32Array(h.buffer),R={i0:0,i1:h.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=I(h,R.i0,R.i1),R.est=x(R.bst);const P=[R];for(;P.length<d;){let T=0,p=0;for(var k=0;k<P.length;k++)P[k].est.L>T&&(T=P[k].est.L,p=k);if(T<A)break;const f=P[p],z=L(h,C,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=z||f.i1<=z){f.est.L=0;continue}const O={i0:f.i0,i1:z,bst:null,est:null,tdst:0,left:null,right:null};O.bst=I(h,O.i0,O.i1),O.est=x(O.bst);const B={i0:z,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:f.bst.N-O.bst.N},k=0;k<16;k++)B.bst.R[k]=f.bst.R[k]-O.bst.R[k];for(k=0;k<4;k++)B.bst.m[k]=f.bst.m[k]-O.bst.m[k];B.est=x(B.bst),f.left=O,f.right=B,P[p]=O,P.push(B)}for(P.sort((T,p)=>p.bst.N-T.bst.N),k=0;k<P.length;k++)P[k].ind=k;return[R,P]}function y(h,d,A,C,R){if(h.left==null)return h.tdst=function(O,B,V,N,H){const E=B-O[0],M=V-O[1],G=N-O[2],ie=H-O[3];return E*E+M*M+G*G+ie*ie}(h.est.q,d,A,C,R),h;const P=F(h.est,d,A,C,R);let k=h.left,T=h.right;P>0&&(k=h.right,T=h.left);const p=y(k,d,A,C,R);if(p.tdst<=P*P)return p;const f=y(T,d,A,C,R);return f.tdst<p.tdst?f:p}function F(h,d,A,C,R){const{e:P}=h;return P[0]*d+P[1]*A+P[2]*C+P[3]*R-h.eMq}function L(h,d,A,C,R,P){for(C-=4;A<C;){for(;U(h,A,R)<=P;)A+=4;for(;U(h,C,R)>P;)C-=4;if(A>=C)break;const k=d[A>>2];d[A>>2]=d[C>>2],d[C>>2]=k,A+=4,C-=4}for(;U(h,A,R)>P;)A-=4;return A+4}function U(h,d,A){return h[d]*A[0]+h[d+1]*A[1]+h[d+2]*A[2]+h[d+3]*A[3]}function I(h,d,A){const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],P=A-d>>2;for(let k=d;k<A;k+=4){const T=h[k]*.00392156862745098,p=h[k+1]*(1/255),f=h[k+2]*(1/255),z=h[k+3]*(1/255);R[0]+=T,R[1]+=p,R[2]+=f,R[3]+=z,C[0]+=T*T,C[1]+=T*p,C[2]+=T*f,C[3]+=T*z,C[5]+=p*p,C[6]+=p*f,C[7]+=p*z,C[10]+=f*f,C[11]+=f*z,C[15]+=z*z}return C[4]=C[1],C[8]=C[2],C[9]=C[6],C[12]=C[3],C[13]=C[7],C[14]=C[11],{R:C,m:R,N:P}}function x(h){const{R:d}=h,{m:A}=h,{N:C}=h,R=A[0],P=A[1],k=A[2],T=A[3],p=C==0?0:1/C,f=[d[0]-R*R*p,d[1]-R*P*p,d[2]-R*k*p,d[3]-R*T*p,d[4]-P*R*p,d[5]-P*P*p,d[6]-P*k*p,d[7]-P*T*p,d[8]-k*R*p,d[9]-k*P*p,d[10]-k*k*p,d[11]-k*T*p,d[12]-T*R*p,d[13]-T*P*p,d[14]-T*k*p,d[15]-T*T*p],z=f,O=$;let B=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,N=0;if(C!=0)for(let E=0;E<16&&(B=O.multVec(z,B),N=Math.sqrt(O.dot(B,B)),B=O.sml(1/N,B),!(E!=0&&Math.abs(N-V)<1e-9));E++)V=N;const H=[R*p,P*p,k*p,T*p];return{Cov:f,q:H,e:B,L:V,eMq255:O.dot(O.sml(255,H),B),eMq:O.dot(B,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var $={multVec:(h,d)=>[h[0]*d[0]+h[1]*d[1]+h[2]*d[2]+h[3]*d[3],h[4]*d[0]+h[5]*d[1]+h[6]*d[2]+h[7]*d[3],h[8]*d[0]+h[9]*d[1]+h[10]*d[2]+h[11]*d[3],h[12]*d[0]+h[13]*d[1]+h[14]*d[2]+h[15]*d[3]],dot:(h,d)=>h[0]*d[0]+h[1]*d[1]+h[2]*d[2]+h[3]*d[3],sml:(h,d)=>[h*d[0],h*d[1],h*d[2],h*d[3]]};Ue.encode=function(d,A,C,R,P,k,T){R==null&&(R=0),T==null&&(T=!1);const p=n(d,A,C,R,[!1,!1,!1,0,T,!1]);return m(p,-1),g(p,A,C,P,k)},Ue.encodeLL=function(d,A,C,R,P,k,T,p){const f={ctype:0+(R==1?0:2)+(P==0?0:4),depth:k,frames:[]},z=(R+P)*k,O=z*A;for(let B=0;B<d.length;B++)f.frames.push({rect:{x:0,y:0,width:A,height:C},img:new Uint8Array(d[B]),blend:0,dispose:1,bpp:Math.ceil(z/8),bpl:Math.ceil(O/8)});return m(f,0,!0),g(f,A,C,T,p)},Ue.encode.compress=n,Ue.encode.dither=s,Ue.quantize=b,Ue.quantize.getKDtree=S,Ue.quantize.getNearest=y})();const Wr={toArrayBuffer(r,v){const w=r.width,l=r.height,e=w<<2,t=r.getContext("2d").getImageData(0,0,w,l),i=new Uint32Array(t.data.buffer),s=(32*w+31)/32<<2,g=s*l,m=122+g,n=new ArrayBuffer(m),a=new DataView(n),o=1<<20;let c,u,b,S,y=o,F=0,L=0,U=0;function I(h){a.setUint16(L,h,!0),L+=2}function x(h){a.setUint32(L,h,!0),L+=4}function $(h){L+=h}I(19778),x(m),$(4),x(122),x(108),x(w),x(-l>>>0),I(1),I(32),x(3),x(g),x(2835),x(2835),$(8),x(16711680),x(65280),x(255),x(4278190080),x(1466527264),function h(){for(;F<l&&y>0;){for(S=122+F*s,c=0;c<e;)y--,u=i[U++],b=u>>>24,a.setUint32(S+c,u<<8|b),c+=4;F++}U<i.length?(y=o,setTimeout(h,Wr._dly)):v(n)}()},toBlob(r,v){this.toArrayBuffer(r,w=>{v(new Blob([w],{type:"image/bmp"}))})},_dly:9};var Ae={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Zi={[Ae.CHROME]:16384,[Ae.FIREFOX]:11180,[Ae.DESKTOP_SAFARI]:16384,[Ae.IE]:8192,[Ae.IOS]:4096,[Ae.ETC]:8192};const Bt=typeof window<"u",Vr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,vt=Bt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Xi=(Bt||Vr)&&(vt&&vt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qr=(Bt||Vr)&&(vt&&vt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Dt(r,v,w=Date.now()){return new Promise(l=>{const e=r.split(","),t=e[0].match(/:(.*?);/)[1],i=globalThis.atob(e[1]);let s=i.length;const g=new Uint8Array(s);for(;s--;)g[s]=i.charCodeAt(s);const m=new Blob([g],{type:t});m.name=v,m.lastModified=w,l(m)})}function Gr(r){return new Promise((v,w)=>{const l=new qr;l.onload=()=>v(l.result),l.onerror=e=>w(e),l.readAsDataURL(r)})}function Zr(r){return new Promise((v,w)=>{const l=new Image;l.onload=()=>v(l),l.onerror=e=>w(e),l.src=r})}function qe(){if(qe.cachedResult!==void 0)return qe.cachedResult;let r=Ae.ETC;const{userAgent:v}=navigator;return/Chrom(e|ium)/i.test(v)?r=Ae.CHROME:/iP(ad|od|hone)/i.test(v)&&/WebKit/i.test(v)?r=Ae.IOS:/Safari/i.test(v)?r=Ae.DESKTOP_SAFARI:/Firefox/i.test(v)?r=Ae.FIREFOX:(/MSIE/i.test(v)||document.documentMode)&&(r=Ae.IE),qe.cachedResult=r,qe.cachedResult}function Xr(r,v){const w=qe(),l=Zi[w];let e=r,t=v,i=e*t;const s=e>t?t/e:e/t;for(;i>l*l;){const g=(l+e)/2,m=(l+t)/2;g<m?(t=m,e=m*s):(t=g*s,e=g),i=e*t}return{width:e,height:t}}function yt(r,v){let w,l;try{if(w=new OffscreenCanvas(r,v),l=w.getContext("2d"),l===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{w=document.createElement("canvas"),l=w.getContext("2d")}return w.width=r,w.height=v,[w,l]}function Yr(r,v){const{width:w,height:l}=Xr(r.width,r.height),[e,t]=yt(w,l);return v&&/jpe?g/.test(v)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(r,0,0,e.width,e.height),e}function ht(){return ht.cachedResult!==void 0||(ht.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ht.cachedResult}function mt(r,v={}){return new Promise(function(w,l){let e,t;var i=function(){try{return t=Yr(e,v.fileType||r.type),w([e,t])}catch(g){return l(g)}},s=function(g){try{var m=function(n){try{throw n}catch(a){return l(a)}};try{let n;return Gr(r).then(function(a){try{return n=a,Zr(n).then(function(o){try{return e=o,function(){try{return i()}catch(c){return l(c)}}()}catch(c){return m(c)}},m)}catch(o){return m(o)}},m)}catch(n){m(n)}}catch(n){return l(n)}};try{if(ht()||[Ae.DESKTOP_SAFARI,Ae.MOBILE_SAFARI].includes(qe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(g){try{return e=g,i()}catch{return s()}},s)}catch{s()}})}function bt(r,v,w,l,e=1){return new Promise(function(t,i){let s;if(v==="image/png"){let m,n,a;return m=r.getContext("2d"),{data:n}=m.getImageData(0,0,r.width,r.height),a=Ue.encode([n.buffer],r.width,r.height,4096*e),s=new Blob([a],{type:v}),s.name=w,s.lastModified=l,g.call(this)}{let m=function(){return g.call(this)};if(v==="image/bmp")return new Promise(n=>Wr.toBlob(r,n)).then((function(n){try{return s=n,s.name=w,s.lastModified=l,m.call(this)}catch(a){return i(a)}}).bind(this),i);{let n=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:v,quality:e}).then((function(a){try{return s=a,s.name=w,s.lastModified=l,n.call(this)}catch(o){return i(o)}}).bind(this),i);{let a;return a=r.toDataURL(v,e),Dt(a,w,l).then((function(o){try{return s=o,n.call(this)}catch(c){return i(c)}}).bind(this),i)}}}function g(){return t(s)}})}function Te(r){r.width=0,r.height=0}function Qe(){return new Promise(function(r,v){let w,l,e,t;return Qe.cachedResult!==void 0?r(Qe.cachedResult):Dt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(i){try{return w=i,mt(w).then(function(s){try{return l=s[1],bt(l,w.type,w.name,w.lastModified).then(function(g){try{return e=g,Te(l),mt(e).then(function(m){try{return t=m[0],Qe.cachedResult=t.width===1&&t.height===2,r(Qe.cachedResult)}catch(n){return v(n)}},v)}catch(m){return v(m)}},v)}catch(g){return v(g)}},v)}catch(s){return v(s)}},v)})}function Qr(r){return new Promise((v,w)=>{const l=new qr;l.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return v(-2);const i=t.byteLength;let s=2;for(;s<i;){if(t.getUint16(s+2,!1)<=8)return v(-1);const g=t.getUint16(s,!1);if(s+=2,g==65505){if(t.getUint32(s+=2,!1)!=1165519206)return v(-1);const m=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,m);const n=t.getUint16(s,m);s+=2;for(let a=0;a<n;a++)if(t.getUint16(s+12*a,m)==274)return v(t.getUint16(s+12*a+8,m))}else{if((65280&g)!=65280)break;s+=t.getUint16(s,!1)}}return v(-1)},l.onerror=e=>w(e),l.readAsArrayBuffer(r)})}function Kr(r,v){const{width:w}=r,{height:l}=r,{maxWidthOrHeight:e}=v;let t,i=r;return isFinite(e)&&(w>e||l>e)&&([i,t]=yt(w,l),w>l?(i.width=e,i.height=l/w*e):(i.width=w/l*e,i.height=e),t.drawImage(r,0,0,i.width,i.height),Te(r)),i}function Jr(r,v){const{width:w}=r,{height:l}=r,[e,t]=yt(w,l);switch(v>4&&v<9?(e.width=l,e.height=w):(e.width=w,e.height=l),v){case 2:t.transform(-1,0,0,1,w,0);break;case 3:t.transform(-1,0,0,-1,w,l);break;case 4:t.transform(1,0,0,-1,0,l);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,l,0);break;case 7:t.transform(0,-1,-1,0,l,w);break;case 8:t.transform(0,-1,1,0,0,w)}return t.drawImage(r,0,0,w,l),Te(r),e}function nr(r,v,w=0){return new Promise(function(l,e){let t,i,s,g,m,n,a,o,c,u,b,S,y,F,L,U,I,x,$,h;function d(C=5){if(v.signal&&v.signal.aborted)throw v.signal.reason;t+=C,v.onProgress(Math.min(t,100))}function A(C){if(v.signal&&v.signal.aborted)throw v.signal.reason;t=Math.min(Math.max(C,t),100),v.onProgress(t)}return t=w,i=v.maxIteration||10,s=1024*v.maxSizeMB*1024,d(),mt(r,v).then((function(C){try{return[,g]=C,d(),m=Kr(g,v),d(),new Promise(function(R,P){var k;if(!(k=v.exifOrientation))return Qr(r).then((function(p){try{return k=p,T.call(this)}catch(f){return P(f)}}).bind(this),P);function T(){return R(k)}return T.call(this)}).then((function(R){try{return n=R,d(),Qe().then((function(P){try{return a=P?m:Jr(m,n),d(),o=v.initialQuality||1,c=v.fileType||r.type,bt(a,c,r.name,r.lastModified,o).then((function(k){try{{let p=function(){if(i--&&(L>s||L>y)){let z,O;return z=h?.95*$.width:$.width,O=h?.95*$.height:$.height,[I,x]=yt(z,O),x.drawImage($,0,0,z,O),o*=c==="image/png"?.85:.95,bt(I,c,r.name,r.lastModified,o).then(function(B){try{return U=B,Te($),$=I,L=U.size,A(Math.min(99,Math.floor((F-L)/(F-s)*100))),p}catch(V){return e(V)}},e)}return[1]},f=function(){return Te($),Te(I),Te(m),Te(a),Te(g),A(100),l(U)};if(u=k,d(),b=u.size>s,S=u.size>r.size,!b&&!S)return A(100),l(u);var T;return y=r.size,F=u.size,L=F,$=a,h=!v.alwaysKeepResolution&&b,(T=(function(z){for(;z;){if(z.then)return void z.then(T,e);try{if(z.pop){if(z.length)return z.pop()?f.call(this):z;z=p}else z=z.call(this)}catch(O){return e(O)}}}).bind(this))(p)}}catch(p){return e(p)}}).bind(this),e)}catch(k){return e(k)}}).bind(this),e)}catch(P){return e(P)}}).bind(this),e)}catch(R){return e(R)}}).bind(this),e)})}const Yi=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let kt;function Qi(r,v){return new Promise((w,l)=>{kt||(kt=function(i){const s=[];return s.push(i),URL.createObjectURL(new Blob(s))}(Yi));const e=new Worker(kt);e.addEventListener("message",function(i){if(v.signal&&v.signal.aborted)e.terminate();else if(i.data.progress===void 0){if(i.data.error)return l(new Error(i.data.error)),void e.terminate();w(i.data.file),e.terminate()}else v.onProgress(i.data.progress)}),e.addEventListener("error",l),v.signal&&v.signal.addEventListener("abort",()=>{l(v.signal.reason),e.terminate()}),e.postMessage({file:r,imageCompressionLibUrl:v.libURL,options:{...v,onProgress:void 0,signal:void 0}})})}function Ce(r,v){return new Promise(function(w,l){let e,t,i,s,g,m;if(e={...v},i=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=c=>{i=c,typeof s=="function"&&s(i)},!(r instanceof Blob||r instanceof Xi))return l(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return l(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||m)return nr(r,e).then((function(c){try{return t=c,o.call(this)}catch(u){return l(u)}}).bind(this),l);var n=(function(){try{return o.call(this)}catch(c){return l(c)}}).bind(this),a=function(c){try{return nr(r,e).then(function(u){try{return t=u,n()}catch(b){return l(b)}},l)}catch(u){return l(u)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Qi(r,e).then(function(c){try{return t=c,n()}catch{return a()}},a)}catch{a()}function o(){try{t.name=r.name,t.lastModified=r.lastModified}catch{}try{e.preserveExif&&r.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===r.type)&&(t=Hr(r,t))}catch{}return w(t)}})}Ce.getDataUrlFromFile=Gr,Ce.getFilefromDataUrl=Dt,Ce.loadImage=Zr,Ce.drawImageInCanvas=Yr,Ce.drawFileInCanvas=mt,Ce.canvasToFile=bt,Ce.getExifOrientation=Qr,Ce.handleMaxWidthOrHeight=Kr,Ce.followExifOrientation=Jr,Ce.cleanupCanvasMemory=Te,Ce.isAutoOrientationInBrowser=Qe,Ce.approximateBelowMaximumCanvasSizeOfBrowser=Xr,Ce.copyExifWithoutOrientation=Hr,Ce.getBrowserName=qe,Ce.version="2.0.2";const Ki={class:"image-uploader-wrapper"},Ji={class:"dragger-content"},ea={class:"upload-hint"},ta=pe({__name:"ImageUploader",emits:["success","error"],setup(r,{emit:v}){const w=v,l=zt(),e=pr(),t=se([]),i=se(!1);async function s({file:m,onFinish:n,onError:a,onProgress:o}){if(!e.user){l.error("请先登录"),a();return}i.value=!0;try{const c=m.file,u={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};o({percent:20});const b=await Ce(c,u);o({percent:50});const S=c.name.split(".").pop(),F=`restaurant-images/${`${e.user.id}/${Date.now()}.${S}`}`,{error:L}=await Tt.storage.from("food-images").upload(F,b,{upsert:!0});if(L)throw L;const{data:{publicUrl:U}}=Tt.storage.from("food-images").getPublicUrl(F);o({percent:100}),n(),w("success",U),l.success("图片上传成功")}catch(c){console.error("Upload error:",c),l.error("图片上传失败: "+c.message),a(),w("error",c)}finally{i.value=!1}}function g(){w("success","")}return(m,n)=>(De(),Je("div",Ki,[re(te(Mi),{"file-list":t.value,"onUpdate:fileList":n[0]||(n[0]=a=>t.value=a),"directory-dnd":"",max:1,accept:"image/*","list-type":"image-card","custom-request":s,onRemove:g},{default:ge(()=>[t.value.length===0?(De(),vr(te(Br),{key:0},{default:ge(()=>[me("div",Ji,[re(te(br),{size:"30",depth:3},{default:ge(()=>[re(te(Hi))]),_:1}),re(te(mi),{style:{"font-size":"12px","margin-top":"4px"},depth:"3"},{default:ge(()=>[...n[1]||(n[1]=[ot(" 上传图片 ",-1)])]),_:1})])]),_:1})):Sn("",!0)]),_:1},8,["file-list"]),me("div",ea,[re(te(gi),{depth:"3",style:{margin:"8px 0 0 0","font-size":"12px","line-height":"1.5"}},{default:ge(()=>[...n[2]||(n[2]=[ot(" 支持 JPG, PNG, WebP",-1),me("br",null,null,-1),ot(" 自动压缩至 1MB 以内 ",-1)])]),_:1})])]))}}),ra=wt(ta,[["__scopeId","data-v-7e72646e"]]),na={class:"address-picker"},oa={class:"picker-dropdown"},ia={class:"options-list"},aa=["onMousedown"],la={class:"option-name"},sa={class:"option-address"},ca=pe({__name:"AddressPicker",emits:["select"],setup(r,{emit:v}){const w=v,l=se([]),e=se(""),t=se(!1);let i=null,s=null,g=null;Ut(async()=>{try{const u="4c07c0ea7823f62a296cf8fe1c63a051";console.log("[AddressPicker] Loading AMap..."),s=await Nn.load({key:u,version:"2.0",plugins:["AMap.AutoComplete","AMap.PlaceSearch"]}),i=new s.AutoComplete({city:"全国",datatype:"all"}),console.log("[AddressPicker] AMap loaded, autoComplete ready")}catch(u){console.error("[AddressPicker] AMap load failed",u)}}),ar(e,u=>{if(g&&clearTimeout(g),!u||u.trim().length===0){l.value=[],t.value=!1;return}g=setTimeout(()=>{m(u.trim())},300)});function m(u){if(!i){console.warn("[AddressPicker] autoComplete not ready");return}console.log("[AddressPicker] Searching:",u),i.search(u,(b,S)=>{console.log("[AddressPicker] Result:",b,S),b==="complete"&&S.tips?(l.value=S.tips.filter(y=>y.id&&y.location).map(y=>({label:`${y.name} - ${y.district||""}${typeof y.address=="string"?y.address:""}`,value:y.name,data:y})),t.value=l.value.length>0,console.log("[AddressPicker] Found",l.value.length,"results")):(l.value=[],t.value=!1)})}function n(u){const b=u.data;if(b){const S=b.location;w("select",{name:b.name,address:typeof b.address=="string"?b.address:b.district,city:c(b.district),district:b.district,location:{lng:typeof S.getLng=="function"?S.getLng():S.lng,lat:typeof S.getLat=="function"?S.getLat():S.lat}}),e.value=b.name,t.value=!1}}function a(){e.value&&l.value.length>0&&(t.value=!0)}function o(){setTimeout(()=>{t.value=!1},200)}function c(u){if(u.includes("市")){const b=u.match(/.*?(省|自治区)?(.*?)市/);return b?b[2]:u}return u.split(" ")[0]||""}return(u,b)=>(De(),Je("div",na,[re(te(Ot),{value:e.value,"onUpdate:value":b[0]||(b[0]=S=>e.value=S),placeholder:"输入餐厅名称或地址进行搜索",clearable:"",onFocus:a,onBlur:o},null,8,["value"]),_t(me("div",oa,[re(te(mr),{"content-style":"padding: 0;",bordered:!0},{default:ge(()=>[re(te(Mn),{style:{"max-height":"300px"}},{default:ge(()=>[me("ul",ia,[(De(!0),Je(Ke,null,kn(l.value,S=>(De(),Je("li",{key:S.data.id,class:"option-item",onMousedown:y=>n(S)},[me("div",la,St(S.data.name),1),me("div",sa,St(S.data.district)+St(typeof S.data.address=="string"?S.data.address:""),1)],40,aa))),128))])]),_:1})]),_:1})],512),[[ir,t.value&&l.value.length>0]])]))}}),ua=wt(ca,[["__scopeId","data-v-66b6a6e3"]]),da={class:"form-section"},fa={class:"form-section"},ha={class:"form-row"},ga={class:"form-section"},pa={class:"form-actions"},va=pe({__name:"RestaurantForm",emits:["submit","cancel"],setup(r,{emit:v}){const w=v,l=zt(),e=se(null),t=se(!1),i=_n({name:"",tier:"npc",category:"chinese",price_per_person:50,address:"",city:"",district:"",latitude:null,longitude:null,recommendation:"",image_url:""}),s={name:{required:!0,message:"请输入餐厅名称",trigger:"blur"},tier:{required:!0,message:"请选择评级",trigger:"change"},category:{required:!0,message:"请选择类别",trigger:"change"},address:{required:!0,message:"请选择地址",trigger:"change"}},g=Object.entries(Tn).map(([c,u])=>({label:`${u.emoji} ${u.label}`,value:c})),m=Object.entries(On).map(([c,u])=>({label:`${u.emoji} ${u.label}`,value:c}));function n(c){i.address=c.address,i.city=c.city,i.district=c.district,i.latitude=c.location.lat,i.longitude=c.location.lng,i.name||(i.name=c.name)}function a(c){i.image_url=c}async function o(){var c;try{await((c=e.value)==null?void 0:c.validate()),t.value=!0,w("submit",{...i})}catch{l.error("请填写完整信息")}finally{t.value=!1}}return(c,u)=>(De(),vr(te(jn),{ref_key:"formRef",ref:e,model:i,rules:s,"label-placement":"top",class:"restaurant-form"},{default:ge(()=>[me("div",da,[u[6]||(u[6]=me("h3",{class:"section-title"},"📍 位置信息",-1)),re(te(We),{label:"搜索地址",path:"address"},{default:ge(()=>[re(ua,{onSelect:n})]),_:1}),re(te(We),{label:"餐厅名称",path:"name"},{default:ge(()=>[re(te(Ot),{value:i.name,"onUpdate:value":u[0]||(u[0]=b=>i.name=b),placeholder:"请输入或从地址搜索"},null,8,["value"])]),_:1})]),re(te(Qt)),me("div",fa,[u[7]||(u[7]=me("h3",{class:"section-title"},"⭐ 评价信息",-1)),re(te(qt),{vertical:"",size:16},{default:ge(()=>[me("div",ha,[re(te(We),{label:"等级",path:"tier",class:"flex-1"},{default:ge(()=>[re(te(Vt),{value:i.tier,"onUpdate:value":u[1]||(u[1]=b=>i.tier=b),options:te(g)},null,8,["value","options"])]),_:1}),re(te(We),{label:"类别",path:"category",class:"flex-1"},{default:ge(()=>[re(te(Vt),{value:i.category,"onUpdate:value":u[2]||(u[2]=b=>i.category=b),options:te(m)},null,8,["value","options"])]),_:1})]),re(te(We),{label:"人均价格 (元)",path:"price_per_person"},{default:ge(()=>[re(te(En),{value:i.price_per_person,"onUpdate:value":u[3]||(u[3]=b=>i.price_per_person=b),min:0,step:10,class:"w-full"},null,8,["value"])]),_:1})]),_:1})]),re(te(Qt)),me("div",ga,[u[8]||(u[8]=me("h3",{class:"section-title"},"🖼️ 展示与推荐",-1)),re(te(We),{label:"餐厅图片",path:"image_url"},{default:ge(()=>[re(ra,{onSuccess:a})]),_:1}),re(te(We),{label:"一句话推荐 (避雷建议)",path:"recommendation"},{default:ge(()=>[re(te(Ot),{value:i.recommendation,"onUpdate:value":u[4]||(u[4]=b=>i.recommendation=b),type:"textarea",placeholder:"分享你的用餐体验，或者必点菜品...",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})]),me("div",pa,[re(te(qt),{justify:"end"},{default:ge(()=>[re(te(Ve),{onClick:u[5]||(u[5]=b=>w("cancel"))},{default:ge(()=>[...u[9]||(u[9]=[ot("取消",-1)])]),_:1}),re(te(Ve),{type:"primary",loading:t.value,onClick:o},{default:ge(()=>[...u[10]||(u[10]=[ot("提交发布",-1)])]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model"]))}}),ma=wt(va,[["__scopeId","data-v-393c443d"]]),ba={class:"submit-page"},wa={class:"page-header"},ya={class:"content-wrapper"},xa=pe({__name:"SubmitPage",setup(r){const v=Pn(),w=zt(),l=pr();async function e(i){if(!l.user){w.error("请先登录"),v.push("/login");return}try{const{error:s}=await Tt.from("restaurants").insert({...i,created_by:l.user.id});if(s)throw s;w.success("美食录入成功！"),v.push("/")}catch(s){console.error("Submit error:",s),w.error("录入失败: "+s.message)}}function t(){v.back()}return(i,s)=>(De(),Je("div",ba,[me("header",wa,[re(te(Ve),{quaternary:"",circle:"",onClick:t},{icon:ge(()=>[re(te(br),null,{default:ge(()=>[re(te(Hn))]),_:1})]),_:1}),s[0]||(s[0]=me("h1",{class:"page-title"},"录入美食",-1))]),me("div",ya,[re(te(mr),{bordered:!1,class:"form-card"},{default:ge(()=>[re(ma,{onSubmit:e,onCancel:t})]),_:1})])]))}}),Ta=wt(xa,[["__scopeId","data-v-a83798a4"]]);export{Ta as default};
